!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).flexibility=t()}(function(){return function i(o,s,r){function a(n,t){if(!s[n]){if(!o[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(l)return l(n,!0);e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}e=s[n]={exports:{}};o[n][0].call(e.exports,function(t){var e=o[n][1][t];return a(e||t)},e,e.exports,i,o,s,r)}return s[n].exports}for(var l="function"==typeof require&&require,t=0;t<r.length;t++)a(r[t]);return a}({1:[function(t,e,n){e.exports=function(t){var e,n,i,o=-1;if(1<t.lines.length&&"flex-start"===t.style.alignContent)for(e=0;i=t.lines[++o];)i.crossStart=e,e+=i.cross;else if(1<t.lines.length&&"flex-end"===t.style.alignContent)for(e=t.flexStyle.crossSpace;i=t.lines[++o];)i.crossStart=e,e+=i.cross;else if(1<t.lines.length&&"center"===t.style.alignContent)for(e=t.flexStyle.crossSpace/2;i=t.lines[++o];)i.crossStart=e,e+=i.cross;else if(1<t.lines.length&&"space-between"===t.style.alignContent)for(n=t.flexStyle.crossSpace/(t.lines.length-1),e=0;i=t.lines[++o];)i.crossStart=e,e+=i.cross+n;else if(1<t.lines.length&&"space-around"===t.style.alignContent)for(e=(n=2*t.flexStyle.crossSpace/(2*t.lines.length))/2;i=t.lines[++o];)i.crossStart=e,e+=i.cross+n;else for(n=t.flexStyle.crossSpace/t.lines.length,e=t.flexStyle.crossInnerBefore;i=t.lines[++o];)i.crossStart=e,i.cross+=n,e+=i.cross}},{}],2:[function(t,e,n){e.exports=function(t){for(var e,n=-1;line=t.lines[++n];)for(e=-1;child=line.children[++e];){var i=child.style.alignSelf;"flex-start"===(i="auto"===i?t.style.alignItems:i)?child.flexStyle.crossStart=line.crossStart:"flex-end"===i?child.flexStyle.crossStart=line.crossStart+line.cross-child.flexStyle.crossOuter:"center"===i?child.flexStyle.crossStart=line.crossStart+(line.cross-child.flexStyle.crossOuter)/2:(child.flexStyle.crossStart=line.crossStart,child.flexStyle.crossOuter=line.cross,child.flexStyle.cross=child.flexStyle.crossOuter-child.flexStyle.crossBefore-child.flexStyle.crossAfter)}}},{}],3:[function(t,e,n){e.exports=function(t,e){var n="row"===e||"row-reverse"===e,i=t.mainAxis;i?n&&"inline"===i||!n&&"block"===i||(t.flexStyle={main:t.flexStyle.cross,cross:t.flexStyle.main,mainOffset:t.flexStyle.crossOffset,crossOffset:t.flexStyle.mainOffset,mainBefore:t.flexStyle.crossBefore,mainAfter:t.flexStyle.crossAfter,crossBefore:t.flexStyle.mainBefore,crossAfter:t.flexStyle.mainAfter,mainInnerBefore:t.flexStyle.crossInnerBefore,mainInnerAfter:t.flexStyle.crossInnerAfter,crossInnerBefore:t.flexStyle.mainInnerBefore,crossInnerAfter:t.flexStyle.mainInnerAfter,mainBorderBefore:t.flexStyle.crossBorderBefore,mainBorderAfter:t.flexStyle.crossBorderAfter,crossBorderBefore:t.flexStyle.mainBorderBefore,crossBorderAfter:t.flexStyle.mainBorderAfter}):(t.flexStyle=n?{main:t.style.width,cross:t.style.height,mainOffset:t.style.offsetWidth,crossOffset:t.style.offsetHeight,mainBefore:t.style.marginLeft,mainAfter:t.style.marginRight,crossBefore:t.style.marginTop,crossAfter:t.style.marginBottom,mainInnerBefore:t.style.paddingLeft,mainInnerAfter:t.style.paddingRight,crossInnerBefore:t.style.paddingTop,crossInnerAfter:t.style.paddingBottom,mainBorderBefore:t.style.borderLeftWidth,mainBorderAfter:t.style.borderRightWidth,crossBorderBefore:t.style.borderTopWidth,crossBorderAfter:t.style.borderBottomWidth}:{main:t.style.height,cross:t.style.width,mainOffset:t.style.offsetHeight,crossOffset:t.style.offsetWidth,mainBefore:t.style.marginTop,mainAfter:t.style.marginBottom,crossBefore:t.style.marginLeft,crossAfter:t.style.marginRight,mainInnerBefore:t.style.paddingTop,mainInnerAfter:t.style.paddingBottom,crossInnerBefore:t.style.paddingLeft,crossInnerAfter:t.style.paddingRight,mainBorderBefore:t.style.borderTopWidth,mainBorderAfter:t.style.borderBottomWidth,crossBorderBefore:t.style.borderLeftWidth,crossBorderAfter:t.style.borderRightWidth},"content-box"===t.style.boxSizing&&("number"==typeof t.flexStyle.main&&(t.flexStyle.main+=t.flexStyle.mainInnerBefore+t.flexStyle.mainInnerAfter+t.flexStyle.mainBorderBefore+t.flexStyle.mainBorderAfter),"number"==typeof t.flexStyle.cross&&(t.flexStyle.cross+=t.flexStyle.crossInnerBefore+t.flexStyle.crossInnerAfter+t.flexStyle.crossBorderBefore+t.flexStyle.crossBorderAfter))),t.mainAxis=n?"inline":"block",t.crossAxis=n?"block":"inline","number"==typeof t.style.flexBasis&&(t.flexStyle.main=t.style.flexBasis+t.flexStyle.mainInnerBefore+t.flexStyle.mainInnerAfter+t.flexStyle.mainBorderBefore+t.flexStyle.mainBorderAfter),t.flexStyle.mainOuter=t.flexStyle.main,t.flexStyle.crossOuter=t.flexStyle.cross,"auto"===t.flexStyle.mainOuter&&(t.flexStyle.mainOuter=t.flexStyle.mainOffset),"auto"===t.flexStyle.crossOuter&&(t.flexStyle.crossOuter=t.flexStyle.crossOffset),"number"==typeof t.flexStyle.mainBefore&&(t.flexStyle.mainOuter+=t.flexStyle.mainBefore),"number"==typeof t.flexStyle.mainAfter&&(t.flexStyle.mainOuter+=t.flexStyle.mainAfter),"number"==typeof t.flexStyle.crossBefore&&(t.flexStyle.crossOuter+=t.flexStyle.crossBefore),"number"==typeof t.flexStyle.crossAfter&&(t.flexStyle.crossOuter+=t.flexStyle.crossAfter)}},{}],4:[function(t,e,n){var o=t("../reduce");e.exports=function(n){var i;0<n.mainSpace&&(0<(i=o(n.children,function(t,e){return t+parseFloat(e.style.flexGrow)},0))&&(n.main=o(n.children,function(t,e){return"auto"===e.flexStyle.main?e.flexStyle.main=e.flexStyle.mainOffset+parseFloat(e.style.flexGrow)/i*n.mainSpace:e.flexStyle.main+=parseFloat(e.style.flexGrow)/i*n.mainSpace,e.flexStyle.mainOuter=e.flexStyle.main+e.flexStyle.mainBefore+e.flexStyle.mainAfter,t+e.flexStyle.mainOuter},0),n.mainSpace=0))}},{"../reduce":12}],5:[function(t,e,n){var o=t("../reduce");e.exports=function(n){var i;n.mainSpace<0&&(0<(i=o(n.children,function(t,e){return t+parseFloat(e.style.flexShrink)},0))&&(n.main=o(n.children,function(t,e){return e.flexStyle.main+=parseFloat(e.style.flexShrink)/i*n.mainSpace,e.flexStyle.mainOuter=e.flexStyle.main+e.flexStyle.mainBefore+e.flexStyle.mainAfter,t+e.flexStyle.mainOuter},0),n.mainSpace=0))}},{"../reduce":12}],6:[function(t,e,n){var o=t("../reduce");e.exports=function(t){var e;t.lines=[e={main:0,cross:0,children:[]}];for(var n,i=-1;n=t.children[++i];)"nowrap"===t.style.flexWrap||0===e.children.length||"auto"===t.flexStyle.main||t.flexStyle.main-t.flexStyle.mainInnerBefore-t.flexStyle.mainInnerAfter-t.flexStyle.mainBorderBefore-t.flexStyle.mainBorderAfter>=e.main+n.flexStyle.mainOuter?(e.main+=n.flexStyle.mainOuter,e.cross=Math.max(e.cross,n.flexStyle.crossOuter)):t.lines.push(e={main:n.flexStyle.mainOuter,cross:n.flexStyle.crossOuter,children:[]}),e.children.push(n);t.flexStyle.mainLines=o(t.lines,function(t,e){return Math.max(t,e.main)},0),t.flexStyle.crossLines=o(t.lines,function(t,e){return t+e.cross},0),"auto"===t.flexStyle.main&&(t.flexStyle.main=Math.max(t.flexStyle.mainOffset,t.flexStyle.mainLines+t.flexStyle.mainInnerBefore+t.flexStyle.mainInnerAfter+t.flexStyle.mainBorderBefore+t.flexStyle.mainBorderAfter)),"auto"===t.flexStyle.cross&&(t.flexStyle.cross=Math.max(t.flexStyle.crossOffset,t.flexStyle.crossLines+t.flexStyle.crossInnerBefore+t.flexStyle.crossInnerAfter+t.flexStyle.crossBorderBefore+t.flexStyle.crossBorderAfter)),t.flexStyle.crossSpace=t.flexStyle.cross-t.flexStyle.crossInnerBefore-t.flexStyle.crossInnerAfter-t.flexStyle.crossBorderBefore-t.flexStyle.crossBorderAfter-t.flexStyle.crossLines,t.flexStyle.mainOuter=t.flexStyle.main+t.flexStyle.mainBefore+t.flexStyle.mainAfter,t.flexStyle.crossOuter=t.flexStyle.cross+t.flexStyle.crossBefore+t.flexStyle.crossAfter}},{"../reduce":12}],7:[function(o,t,e){t.exports=function(t){for(var e,n,i=-1;e=t.children[++i];)o("./flex-direction")(e,t.style.flexDirection);for(o("./flex-direction")(t,t.style.flexDirection),o("./order")(t),o("./flexbox-lines")(t),o("./align-content")(t),i=-1;n=t.lines[++i];)n.mainSpace=t.flexStyle.main-t.flexStyle.mainInnerBefore-t.flexStyle.mainInnerAfter-t.flexStyle.mainBorderBefore-t.flexStyle.mainBorderAfter-n.main,o("./flex-grow")(n),o("./flex-shrink")(n),o("./margin-main")(n),o("./margin-cross")(n),o("./justify-content")(n,t.style.justifyContent,t);o("./align-items")(t)}},{"./align-content":1,"./align-items":2,"./flex-direction":3,"./flex-grow":4,"./flex-shrink":5,"./flexbox-lines":6,"./justify-content":8,"./margin-cross":9,"./margin-main":10,"./order":11}],8:[function(t,e,n){e.exports=function(t,e,n){var i,o,s,n=n.flexStyle.mainInnerBefore,r=-1;if("flex-end"===e)for(i=t.mainSpace,i+=n;s=t.children[++r];)s.flexStyle.mainStart=i,i+=s.flexStyle.mainOuter;else if("center"===e)for(i=t.mainSpace/2,i+=n;s=t.children[++r];)s.flexStyle.mainStart=i,i+=s.flexStyle.mainOuter;else if("space-between"===e)for(o=t.mainSpace/(t.children.length-1),i=0,i+=n;s=t.children[++r];)s.flexStyle.mainStart=i,i+=s.flexStyle.mainOuter+o;else if("space-around"===e)for(i=(o=2*t.mainSpace/(2*t.children.length))/2,i+=n;s=t.children[++r];)s.flexStyle.mainStart=i,i+=s.flexStyle.mainOuter+o;else for(i=0,i+=n;s=t.children[++r];)s.flexStyle.mainStart=i,i+=s.flexStyle.mainOuter}},{}],9:[function(t,e,n){e.exports=function(t){for(var e,n=-1;e=t.children[++n];){var i=0;"auto"===e.flexStyle.crossBefore&&++i,"auto"===e.flexStyle.crossAfter&&++i;var o=t.cross-e.flexStyle.crossOuter;"auto"===e.flexStyle.crossBefore&&(e.flexStyle.crossBefore=o/i),"auto"===e.flexStyle.crossAfter&&(e.flexStyle.crossAfter=o/i),"auto"===e.flexStyle.cross?e.flexStyle.crossOuter=e.flexStyle.crossOffset+e.flexStyle.crossBefore+e.flexStyle.crossAfter:e.flexStyle.crossOuter=e.flexStyle.cross+e.flexStyle.crossBefore+e.flexStyle.crossAfter}}},{}],10:[function(t,e,n){e.exports=function(t){for(var e,n=0,i=-1;e=t.children[++i];)"auto"===e.flexStyle.mainBefore&&++n,"auto"===e.flexStyle.mainAfter&&++n;if(0<n){for(i=-1;e=t.children[++i];)"auto"===e.flexStyle.mainBefore&&(e.flexStyle.mainBefore=t.mainSpace/n),"auto"===e.flexStyle.mainAfter&&(e.flexStyle.mainAfter=t.mainSpace/n),"auto"===e.flexStyle.main?e.flexStyle.mainOuter=e.flexStyle.mainOffset+e.flexStyle.mainBefore+e.flexStyle.mainAfter:e.flexStyle.mainOuter=e.flexStyle.main+e.flexStyle.mainBefore+e.flexStyle.mainAfter;t.mainSpace=0}}},{}],11:[function(t,e,n){var i=/^(column|row)-reverse$/;e.exports=function(t){t.children.sort(function(t,e){return t.style.order-e.style.order||t.index-e.index}),i.test(t.style.flexDirection)&&t.children.reverse()}},{}],12:[function(t,e,n){e.exports=function(t,e,n){for(var i=t.length,o=-1;++o<i;)o in t&&(n=e(n,t[o],o));return n}},{}],13:[function(t,e,n){var i=t("./read"),o=t("./write"),s=t("./readAll"),r=t("./writeAll");e.exports=function(t){r(s(t))},e.exports.read=i,e.exports.write=o,e.exports.readAll=s,e.exports.writeAll=r},{"./read":15,"./readAll":16,"./write":17,"./writeAll":18}],14:[function(t,e,n){e.exports=function(t,e,n){var i=t[e],o=String(i).match(r);if(o)return s=o[1],"px"===(o=o[2])?+s:"cm"===o?.3937*s*96:"in"===o?96*s:"mm"===o?.3937*s*96/10:"pc"===o?12*s*96/72:"pt"===o?96*s/72:"rem"===o?16*s:function(t,e){a.style.cssText="border:none!important;clip:rect(0 0 0 0)!important;display:block!important;font-size:1em!important;height:0!important;margin:0!important;padding:0!important;position:relative!important;width:"+t+"!important",e.parentNode.insertBefore(a,e.nextSibling);t=a.offsetWidth;return e.parentNode.removeChild(a),t}(i,n);var s=e.match(c);return s?"none"!==t["border"+s[1]+"Style"]&&l[i]||0:i};var r=/^([-+]?\d*\.?\d+)(%|[a-z]+)$/,a=document.createElement("div"),l={medium:4,none:0,thick:6,thin:2},c=/^border(Bottom|Left|Right|Top)Width$/},{}],15:[function(t,e,n){e.exports=function(t){var e={alignContent:"stretch",alignItems:"stretch",alignSelf:"auto",borderBottomStyle:"none",borderBottomWidth:0,borderLeftStyle:"none",borderLeftWidth:0,borderRightStyle:"none",borderRightWidth:0,borderTopStyle:"none",borderTopWidth:0,boxSizing:"content-box",display:"inline",flexBasis:"auto",flexDirection:"row",flexGrow:0,flexShrink:1,flexWrap:"nowrap",justifyContent:"flex-start",height:"auto",marginTop:0,marginRight:0,marginLeft:0,marginBottom:0,paddingTop:0,paddingRight:0,paddingLeft:0,paddingBottom:0,maxHeight:"none",maxWidth:"none",minHeight:0,minWidth:0,order:0,position:"static",width:"auto"};if(t instanceof Element){var n,i=t.hasAttribute("data-style"),o=i?t.getAttribute("data-style"):t.getAttribute("style")||"";for(n in i||t.setAttribute("data-style",o),function(t,e){for(var n in t)n in e&&!r.test(n)&&(t[n]=e[n])}(e,window.getComputedStyle&&getComputedStyle(t)||{}),function(t,e){for(var n in t){var i;n in e?t[n]=e[n]:(i=n.replace(/[A-Z]/g,"-$&").toLowerCase())in e&&(t[n]=e[i])}"-js-display"in e&&(t.display=e["-js-display"])}(e,t.currentStyle||{}),function(t,e){for(var n;n=s.exec(e);){var i=n[1].toLowerCase().replace(/-[a-z]/g,function(t){return t.slice(1).toUpperCase()});t[i]=n[2]}}(e,o),e)e[n]=a(e,n,t);o=t.getBoundingClientRect();e.offsetHeight=o.height||t.offsetHeight,e.offsetWidth=o.width||t.offsetWidth}return{element:t,style:e}};var s=/([^\s:;]+)\s*:\s*([^;]+?)\s*(;|$)/g,r=/^(alignSelf|height|width)$/,a=t("./getComputedLength")},{"./getComputedLength":14}],16:[function(t,e,n){function u(t){var e=t instanceof Element,n=e&&t.getAttribute("data-style"),t=e&&t.currentStyle&&t.currentStyle["-js-display"];return i.test(n)||o.test(t)}e.exports=function(t){var e=[];return function t(e,n){for(var i,o=u(e),s=[],r=-1;i=e.childNodes[++r];){var a=3===i.nodeType&&!/^\s*$/.test(i.nodeValue);o&&a&&(l=i,(i=e.insertBefore(document.createElement("flex-item"),l)).appendChild(l));var l,a=i instanceof Element;a&&(l=t(i,n),o&&((a=i.style).display="inline-block",a.position="absolute",l.style=d(i).style,s.push(l)))}var c={element:e,children:s};return o&&(c.style=d(e).style,n.push(c)),c}(t,e),e};var d=t("../read"),i=/(^|;)\s*display\s*:\s*(inline-)?flex\s*(;|$)/i,o=/^(inline-)?flex$/i},{"../read":15}],17:[function(t,e,n){function a(t){return"string"==typeof t?t:Math.max(t,0)+"px"}e.exports=function(t){l(t);var e=t.element.style,n="inline"===t.mainAxis?["main","cross"]:["cross","main"];e.boxSizing="content-box",e.display="block",e.position="relative",e.width=a(t.flexStyle[n[0]]-t.flexStyle[n[0]+"InnerBefore"]-t.flexStyle[n[0]+"InnerAfter"]-t.flexStyle[n[0]+"BorderBefore"]-t.flexStyle[n[0]+"BorderAfter"]),e.height=a(t.flexStyle[n[1]]-t.flexStyle[n[1]+"InnerBefore"]-t.flexStyle[n[1]+"InnerAfter"]-t.flexStyle[n[1]+"BorderBefore"]-t.flexStyle[n[1]+"BorderAfter"]);for(var i,o=-1;i=t.children[++o];){var s=i.element.style,r="inline"===i.mainAxis?["main","cross"]:["cross","main"];s.boxSizing="content-box",s.display="block",s.position="absolute","auto"!==i.flexStyle[r[0]]&&(s.width=a(i.flexStyle[r[0]]-i.flexStyle[r[0]+"InnerBefore"]-i.flexStyle[r[0]+"InnerAfter"]-i.flexStyle[r[0]+"BorderBefore"]-i.flexStyle[r[0]+"BorderAfter"])),"auto"!==i.flexStyle[r[1]]&&(s.height=a(i.flexStyle[r[1]]-i.flexStyle[r[1]+"InnerBefore"]-i.flexStyle[r[1]+"InnerAfter"]-i.flexStyle[r[1]+"BorderBefore"]-i.flexStyle[r[1]+"BorderAfter"])),s.top=a(i.flexStyle[r[1]+"Start"]),s.left=a(i.flexStyle[r[0]+"Start"]),s.marginTop=a(i.flexStyle[r[1]+"Before"]),s.marginRight=a(i.flexStyle[r[0]+"After"]),s.marginBottom=a(i.flexStyle[r[1]+"After"]),s.marginLeft=a(i.flexStyle[r[0]+"Before"])}};var l=t("../flexbox")},{"../flexbox":7}],18:[function(t,e,n){e.exports=function(t){for(var e,n=-1;e=t[++n];)i(e)};var i=t("../write")},{"../write":17}]},{},[13])(13)}),function(){var t,i,n,e,o,s,r;function a(t){for(var e=(this.el=t).className.replace(/^\s+|\s+$/g,"").split(/\s+/),n=0;n<e.length;n++)i.call(this,e[n])}void 0===window.Element||"classList"in document.documentElement||(t=Array.prototype,i=t.push,n=t.splice,e=t.join,a.prototype={add:function(t){this.contains(t)||(i.call(this,t),this.el.className=this.toString())},contains:function(t){return-1!=this.el.className.indexOf(t)},item:function(t){return this[t]||null},remove:function(t){if(this.contains(t)){for(var e=0;e<this.length&&this[e]!=t;e++);n.call(this,e,1),this.el.className=this.toString()}},toString:function(){return e.call(this," ")},toggle:function(t){return this.contains(t)?this.remove(t):this.add(t),this.contains(t)}},window.DOMTokenList=a,o=Element.prototype,s="classList",r=function(){return new a(this)},Object.defineProperty?Object.defineProperty(o,s,{get:r}):o.__defineGetter__(s,r))}(),function(t){function e(){}function n(a){if(a){var l="undefined"==typeof console?e:function(t){console.error(t)};return a.bridget=function(t,e){var s,r,n;(n=e).prototype.option||(n.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),s=t,r=e,a.fn[s]=function(e){if("string"!=typeof e)return this.each(function(){var t=a.data(this,s);t?(t.option(e),t._init()):(t=new r(this,e),a.data(this,s,t))});for(var t=c.call(arguments,1),n=0,i=this.length;n<i;n++){var o=this[n],o=a.data(o,s);if(o)if(a.isFunction(o[e])&&"_"!==e.charAt(0)){o=o[e].apply(o,t);if(void 0!==o)return o}else l("no such method '"+e+"' for "+s+" instance");else l("cannot call methods on "+s+" prior to initialization; attempted to call '"+e+"'")}return this}},a.bridget}}var c=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],n):n("object"==typeof exports?require("jquery"):t.jQuery)}(window),function(t){function n(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function e(t,e){(i(t,e)?s:o)(t,e)}var i,o,s="classList"in document.documentElement?(i=function(t,e){return t.classList.contains(e)},o=function(t,e){t.classList.add(e)},function(t,e){t.classList.remove(e)}):(i=function(t,e){return n(e).test(t.className)},o=function(t,e){i(t,e)||(t.className=t.className+" "+e)},function(t,e){t.className=t.className.replace(n(e)," ")}),r={hasClass:i,addClass:o,removeClass:s,toggleClass:e,has:i,add:o,remove:s,toggle:e};"function"==typeof define&&define.amd?define("classie/classie",r):"object"==typeof exports?module.exports=r:t.classie=r}(window),function(){"use strict";function t(){}function s(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function e(t){return function(){return this[t].apply(this,arguments)}}var n=t.prototype,i=this,o=i.EventEmitter;n.getListeners=function(t){var e,n,i=this._getEvents();if(t instanceof RegExp)for(n in e={},i)i.hasOwnProperty(n)&&t.test(n)&&(e[n]=i[n]);else e=i[t]||(i[t]=[]);return e},n.flattenListeners=function(t){for(var e=[],n=0;n<t.length;n+=1)e.push(t[n].listener);return e},n.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&((e={})[t]=n),e||n},n.addListener=function(t,e){var n,i=this.getListenersAsObject(t),o="object"==typeof e;for(n in i)i.hasOwnProperty(n)&&-1===s(i[n],e)&&i[n].push(o?e:{listener:e,once:!1});return this},n.on=e("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=e("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,e){var n,i,o=this.getListenersAsObject(t);for(i in o)o.hasOwnProperty(i)&&(n=s(o[i],e),-1!==n&&o[i].splice(n,1));return this},n.off=e("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,n){var i,o,s=t?this.removeListener:this.addListener,r=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=n.length;i--;)s.call(this,e,n[i]);else for(i in e)e.hasOwnProperty(i)&&(o=e[i])&&("function"==typeof o?s:r).call(this,i,o);return this},n.removeEvent=function(t){var e,n=typeof t,i=this._getEvents();if("string"==n)delete i[t];else if(t instanceof RegExp)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},n.removeAllListeners=e("removeEvent"),n.emitEvent=function(t,e){var n,i,o,s,r=this.getListenersAsObject(t);for(o in r)if(r.hasOwnProperty(o))for(i=r[o].length;i--;)n=r[o][i],!0===n.once&&this.removeListener(t,n.listener),s=n.listener.apply(this,e||[]),s===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},n.trigger=e("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return i.EventEmitter=o,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:i.EventEmitter=t}.call(this),function(n){function i(t){var e=n.event;return e.target=e.target||e.srcElement||t,e}var t=document.documentElement,e=function(){};t.addEventListener?e=function(t,e,n){t.addEventListener(e,n,!1)}:t.attachEvent&&(e=function(e,t,n){e[t+n]=n.handleEvent?function(){var t=i(e);n.handleEvent.call(n,t)}:function(){var t=i(e);n.call(e,t)},e.attachEvent("on"+t,e[t+n])});var o=function(){};t.removeEventListener?o=function(t,e,n){t.removeEventListener(e,n,!1)}:t.detachEvent&&(o=function(e,n,i){e.detachEvent("on"+n,e[n+i]);try{delete e[n+i]}catch(t){e[n+i]=void 0}});o={bind:e,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",o):"object"==typeof exports?module.exports=o:n.eventie=o}(window),function(t){function e(t){if(t){if("string"==typeof s[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,n=0,i=o.length;n<i;n++)if(e=o[n]+t,"string"==typeof s[e])return e}}var o="Webkit Moz ms Ms O".split(" "),s=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(S){function C(t){var e=parseFloat(t);return-1===t.indexOf("%")&&!isNaN(e)&&e}function t(y){var v,b,x,w=!1;return function(t){if(w||(w=!0,m=S.getComputedStyle,g=m?function(t){return m(t,null)}:function(t){return t.currentStyle},v=function(t){t=g(t);return t||A("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),t},(b=y("boxSizing"))&&((p=document.createElement("div")).style.width="200px",p.style.padding="1px 2px 3px 4px",p.style.borderStyle="solid",p.style.borderWidth="1px 2px 3px 4px",p.style[b]="border-box",(h=document.body||document.documentElement).appendChild(p),f=v(p),x=200===C(f.width),h.removeChild(p))),(t="string"==typeof t?document.querySelector(t):t)&&"object"==typeof t&&t.nodeType){var e=v(t);if("none"===e.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,n=E.length;e<n;e++)t[E[e]]=0;return t}();var n={};n.width=t.offsetWidth,n.height=t.offsetHeight;for(var i=n.isBorderBox=!(!b||!e[b]||"border-box"!==e[b]),o=0,s=E.length;o<s;o++){var r=E[o],a=function(t,e){if(S.getComputedStyle||-1===e.indexOf("%"))return e;var n=t.style,i=n.left,o=t.runtimeStyle,s=o&&o.left;return s&&(o.left=t.currentStyle.left),n.left=e,e=n.pixelLeft,n.left=i,s&&(o.left=s),e}(t,a=e[r]),a=parseFloat(a);n[r]=isNaN(a)?0:a}var l=n.paddingLeft+n.paddingRight,c=n.paddingTop+n.paddingBottom,u=n.marginLeft+n.marginRight,d=n.marginTop+n.marginBottom,f=n.borderLeftWidth+n.borderRightWidth,h=n.borderTopWidth+n.borderBottomWidth,p=i&&x,i=C(e.width);!1!==i&&(n.width=i+(p?0:l+f));i=C(e.height);return!1!==i&&(n.height=i+(p?0:c+h)),n.innerWidth=n.width-(l+f),n.innerHeight=n.height-(c+h),n.outerWidth=n.width+u,n.outerHeight=n.height+d,n}var m,p,h,f,g}}var A="undefined"==typeof console?function(){}:function(t){console.error(t)},E=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],t):"object"==typeof exports?module.exports=t(require("desandro-get-style-property")):S.getSize=t(S.getStyleProperty)}(window),function(e){function n(t){"function"==typeof t&&(n.isReady?t():r.push(t))}function i(t){t="readystatechange"===t.type&&"complete"!==s.readyState;n.isReady||t||o()}function o(){n.isReady=!0;for(var t=0,e=r.length;t<e;t++)(0,r[t])()}function t(t){return"complete"===s.readyState?o():(t.bind(s,"DOMContentLoaded",i),t.bind(s,"readystatechange",i),t.bind(e,"load",i)),n}var s=e.document,r=[];n.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],t):"object"==typeof exports?module.exports=t(require("eventie")):e.docReady=t(e.eventie)}(window),function(o){"use strict";function n(t,e){return t[i](e)}function s(t){t.parentNode||document.createDocumentFragment().appendChild(t)}var t,i=function(){if(o.matches)return"matches";if(o.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],e=0,n=t.length;e<n;e++){var i=t[e]+"MatchesSelector";if(o[i])return i}}();t=i?n(document.createElement("div"),"div")?n:function(t,e){return s(t),n(t,e)}:function(t,e){s(t);for(var n=t.parentNode.querySelectorAll(e),i=0,o=n.length;i<o;i++)if(n[i]===t)return!0;return!1},"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return t}):"object"==typeof exports?module.exports=t:window.matchesSelector=t}(Element.prototype),function(n,i){"use strict";"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(t,e){return i(n,t,e)}):"object"==typeof exports?module.exports=i(n,require("doc-ready"),require("desandro-matches-selector")):n.fizzyUIUtils=i(n,n.docReady,n.matchesSelector)}(window,function(d,t,c){var n,f={extend:function(t,e){for(var n in e)t[n]=e[n];return t},modulo:function(t,e){return(t%e+e)%e}},e=Object.prototype.toString;f.isArray=function(t){return"[object Array]"==e.call(t)},f.makeArray=function(t){var e=[];if(f.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var n=0,i=t.length;n<i;n++)e.push(t[n]);else e.push(t);return e},f.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},f.removeFrom=function(t,e){e=f.indexOf(t,e);-1!=e&&t.splice(e,1)},f.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1==t.nodeType&&"string"==typeof t.nodeName},f.setText=function(t,e){t[n=n||(void 0!==document.documentElement.textContent?"textContent":"innerText")]=e},f.getParent=function(t,e){for(;t!=document.body;)if(t=t.parentNode,c(t,e))return t},f.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},f.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},f.filterFindElements=function(t,e){for(var n=[],i=0,o=(t=f.makeArray(t)).length;i<o;i++){var s=t[i];if(f.isElement(s))if(e){c(s,e)&&n.push(s);for(var r=s.querySelectorAll(e),a=0,l=r.length;a<l;a++)n.push(r[a])}else n.push(s)}return n},f.debounceMethod=function(t,e,i){var o=t.prototype[e],s=e+"Timeout";t.prototype[e]=function(){var t=this[s];t&&clearTimeout(t);var e=arguments,n=this;this[s]=setTimeout(function(){o.apply(n,e),delete n[s]},i||100)}},f.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()};var h=d.console;return f.htmlInit=function(c,u){t(function(){for(var t=f.toDashed(u),e=document.querySelectorAll(".js-"+t),n="data-"+t+"-options",i=0,o=e.length;i<o;i++){var s,r=e[i],a=r.getAttribute(n);try{s=a&&JSON.parse(a)}catch(t){h&&h.error("Error parsing "+n+" on "+r.nodeName.toLowerCase()+(r.id?"#"+r.id:"")+": "+t);continue}var l=new c(r,s),a=d.jQuery;a&&a.data(r,u,l)}})},f}),function(e,n){"use strict";"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(t){return n(e,t)}):"object"==typeof exports?module.exports=n(e,require("get-size")):(e.Flickity=e.Flickity||{},e.Flickity.Cell=n(e,e.getSize))}(window,function(t,e){function n(t,e){this.element=t,this.parent=e,this.create()}var i="attachEvent"in t;return n.prototype.create=function(){this.element.style.position="absolute",i&&this.element.setAttribute("unselectable","on"),this.x=0,this.shift=0},n.prototype.destroy=function(){this.element.style.position="";var t=this.parent.originSide;this.element.style[t]=""},n.prototype.getSize=function(){this.size=e(this.element)},n.prototype.setPosition=function(t){this.x=t,this.setDefaultTarget(),this.renderPosition(t)},n.prototype.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},n.prototype.renderPosition=function(t){var e=this.parent.originSide;this.element.style[e]=this.parent.getPositionValue(t)},n.prototype.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},n.prototype.remove=function(){this.element.parentNode.removeChild(this.element)},n}),function(n,i){"use strict";"function"==typeof define&&define.amd?define("flickity/js/animate",["get-style-property/get-style-property","fizzy-ui-utils/utils"],function(t,e){return i(n,t,e)}):"object"==typeof exports?module.exports=i(n,require("desandro-get-style-property"),require("fizzy-ui-utils")):(n.Flickity=n.Flickity||{},n.Flickity.animatePrototype=i(n,n.getStyleProperty,n.fizzyUIUtils))}(window,function(o,t,e){for(var n,s=0,i="webkit moz ms o".split(" "),r=o.requestAnimationFrame,a=o.cancelAnimationFrame,l=0;l<i.length&&(!r||!a);l++)n=i[l],r=r||o[n+"RequestAnimationFrame"],a=a||o[n+"CancelAnimationFrame"]||o[n+"CancelRequestAnimationFrame"];r&&a||(r=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-s)),i=o.setTimeout(function(){t(e+n)},n);return s=e+n,i},a=function(t){o.clearTimeout(t)});var c={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var t,e=this.x;this.integratePhysics(),this.positionSlider(),this.settle(e),this.isAnimating&&(t=this,r(function(){t.animate()}))}},u=t("transform"),d=!!t("perspective");return c.positionSlider=function(){var t=this.x;this.options.wrapAround&&1<this.cells.length&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),t+=this.cursorPosition;t=this.options.rightToLeft&&u?-t:t,t=this.getPositionValue(t);u?this.slider.style[u]=d&&this.isAnimating?"translate3d("+t+",0,0)":"translateX("+t+")":this.slider.style[this.originSide]=t},c.positionSliderAtSelected=function(){var t;this.cells.length&&(t=this.cells[this.selectedIndex],this.x=-t.target,this.positionSlider())},c.getPositionValue=function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},c.settle=function(t){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*t)||this.restingFrames++,2<this.restingFrames&&(this.isAnimating=!1,delete this.isFreeScrolling,d&&this.positionSlider(),this.dispatchEvent("settle"))},c.shiftWrapCells=function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);t=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,t,1)},c._shiftCells=function(t,e,n){for(var i=0,o=t.length;i<o;i++){var s=t[i];s.wrapShift(0<e?n:0),e-=s.size.outerWidth}},c._unshiftCells=function(t){if(t&&t.length)for(var e=0,n=t.length;e<n;e++)t[e].wrapShift(0)},c.integratePhysics=function(){this.velocity+=this.accel,this.x+=this.velocity,this.velocity*=this.getFrictionFactor(),this.accel=0},c.applyForce=function(t){this.accel+=t},c.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},c.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor())},c.applyDragForce=function(){var t;this.isPointerDown&&(t=this.dragX-this.x-this.velocity,this.applyForce(t))},c.applySelectedAttraction=function(){var t,e=this.cells.length;this.isPointerDown||this.isFreeScrolling||!e||(t=this.cells[this.selectedIndex],e=this.options.wrapAround&&1<e?this.slideableWidth*Math.floor(this.selectedIndex/e):0,e=(-1*(t.target+e)-this.x)*this.options.selectedAttraction,this.applyForce(e))},c}),function(a,l){"use strict";var t;"function"==typeof define&&define.amd?define("flickity/js/flickity",["classie/classie","eventEmitter/EventEmitter","eventie/eventie","get-size/get-size","fizzy-ui-utils/utils","./cell","./animate"],function(t,e,n,i,o,s,r){return l(a,t,e,n,i,o,s,r)}):"object"==typeof exports?module.exports=l(a,require("desandro-classie"),require("wolfy87-eventemitter"),require("eventie"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./animate")):(t=a.Flickity,a.Flickity=l(a,a.classie,a.EventEmitter,a.eventie,a.getSize,a.fizzyUIUtils,t.Cell,t.animatePrototype))}(window,function(i,n,t,o,e,r,a,s){function l(t,e){for(t=r.makeArray(t);t.length;)e.appendChild(t.shift())}function c(t,e){var n=r.getQueryElement(t);return n?(this.element=n,u&&(this.$element=u(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(e),void this._create()):void(f&&f.error("Bad element for Flickity: "+(n||t)))}var u=i.jQuery,d=i.getComputedStyle,f=i.console,h=0,p={};c.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},c.createMethods=[],r.extend(c.prototype,t.prototype),c.prototype._create=function(){var t=this.guid=++h;this.element.flickityGUID=t,(p[t]=this).selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.accel=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",c.setUnselectable(this.viewport),this._createSlider(),(this.options.resize||this.options.watchCSS)&&(o.bind(i,"resize",this),this.isResizeBound=!0);for(var e=0,n=c.createMethods.length;e<n;e++)this[c.createMethods[e]]();this.options.watchCSS?this.watchCSS():this.activate()},c.prototype.option=function(t){r.extend(this.options,t)},c.prototype.activate=function(){var t;this.isActive||(this.isActive=!0,n.add(this.element,"flickity-enabled"),this.options.rightToLeft&&n.add(this.element,"flickity-rtl"),this.getSize(),l(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,o.bind(this.element,"keydown",this)),this.emit("activate"),t=this.options.initialIndex,t=this.isInitActivated?this.selectedIndex:void 0!==t&&this.cells[t]?t:0,this.select(t,!1,!0),this.isInitActivated=!0)},c.prototype._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},c.prototype._filterFindCellElements=function(t){return r.filterFindElements(t,this.options.cellSelector)},c.prototype.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},c.prototype._makeCells=function(t){for(var e=this._filterFindCellElements(t),n=[],i=0,o=e.length;i<o;i++){var s=e[i],s=new a(s,this);n.push(s)}return n},c.prototype.getLastCell=function(){return this.cells[this.cells.length-1]},c.prototype.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},c.prototype._positionCells=function(t){this.maxCellHeight=(t=t||0)&&this.maxCellHeight||0;var e,n=0;0<t&&(n=(e=this.cells[t-1]).x+e.size.outerWidth);for(var i,o=this.cells.length,s=t;s<o;s++)(i=this.cells[s]).setPosition(n),n+=i.size.outerWidth,this.maxCellHeight=Math.max(i.size.outerHeight,this.maxCellHeight);this.slideableWidth=n,this._containCells()},c.prototype._sizeCells=function(t){for(var e=0,n=t.length;e<n;e++)t[e].getSize()},c.prototype._init=c.prototype.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},c.prototype.getSize=function(){this.size=e(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var m={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};c.prototype.setCellAlign=function(){var t=m[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},c.prototype.setGallerySize=function(){this.options.setGallerySize&&(this.viewport.style.height=this.maxCellHeight+"px")},c.prototype._getWrapShiftCells=function(){var t,e;this.options.wrapAround&&(this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells),t=this.cursorPosition,e=this.cells.length-1,this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1))},c.prototype._getGapCells=function(t,e,n){for(var i=[];0<t;){var o=this.cells[e];if(!o)break;i.push(o),e+=n,t-=o.size.outerWidth}return i},c.prototype._containCells=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length)for(var t=this.options.rightToLeft?"marginRight":"marginLeft",e=this.options.rightToLeft?"marginLeft":"marginRight",n=this.cells[0].size[t],t=this.getLastCell(),i=this.slideableWidth-t.size[e],o=i-this.size.innerWidth*(1-this.cellAlign),s=i<this.size.innerWidth,r=0,a=this.cells.length;r<a;r++){var l=this.cells[r];l.setDefaultTarget(),s?l.target=i*this.cellAlign:(l.target=Math.max(l.target,this.cursorPosition+n),l.target=Math.min(l.target,o))}},c.prototype.dispatchEvent=function(t,e,n){var i=[e].concat(n);this.emitEvent(t,i),u&&this.$element&&(e?((e=u.Event(e)).type=t,this.$element.trigger(e,n)):this.$element.trigger(t,n))},c.prototype.select=function(t,e,n){var i;this.isActive&&(t=parseInt(t,10),i=this.cells.length,this.options.wrapAround&&1<i&&(t<0?this.x-=this.slideableWidth:i<=t&&(this.x+=this.slideableWidth)),(this.options.wrapAround||e)&&(t=r.modulo(t,i)),this.cells[t]&&(this.selectedIndex=t,this.setSelectedCell(),n?this.positionSliderAtSelected():this.startAnimation(),this.dispatchEvent("cellSelect")))},c.prototype.previous=function(t){this.select(this.selectedIndex-1,t)},c.prototype.next=function(t){this.select(this.selectedIndex+1,t)},c.prototype.setSelectedCell=function(){this._removeSelectedCellClass(),this.selectedCell=this.cells[this.selectedIndex],this.selectedElement=this.selectedCell.element,n.add(this.selectedElement,"is-selected")},c.prototype._removeSelectedCellClass=function(){this.selectedCell&&n.remove(this.selectedCell.element,"is-selected")},c.prototype.getCell=function(t){for(var e=0,n=this.cells.length;e<n;e++){var i=this.cells[e];if(i.element==t)return i}},c.prototype.getCells=function(t){for(var e=[],n=0,i=(t=r.makeArray(t)).length;n<i;n++){var o=t[n],o=this.getCell(o);o&&e.push(o)}return e},c.prototype.getCellElements=function(){for(var t=[],e=0,n=this.cells.length;e<n;e++)t.push(this.cells[e].element);return t},c.prototype.getParentCell=function(t){var e=this.getCell(t);return e||(t=r.getParent(t,".flickity-slider > *"),this.getCell(t))},c.prototype.getAdjacentCellElements=function(t,e){if(!t)return[this.selectedElement];e=void 0===e?this.selectedIndex:e;var n=this.cells.length;if(n<=1+2*t)return this.getCellElements();for(var i=[],o=e-t;o<=e+t;o++){var s=this.options.wrapAround?r.modulo(o,n):o,s=this.cells[s];s&&i.push(s.element)}return i},c.prototype.uiChange=function(){this.emit("uiChange")},c.prototype.childUIPointerDown=function(t){this.emitEvent("childUIPointerDown",[t])},c.prototype.onresize=function(){this.watchCSS(),this.resize()},r.debounceMethod(c,"onresize",150),c.prototype.resize=function(){this.isActive&&(this.getSize(),this.options.wrapAround&&(this.x=r.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.positionSliderAtSelected())};var g,y=c.supportsConditionalCSS=function(){if(void 0!==g)return g;if(d){var t=document.createElement("style"),e=document.createTextNode('body:after { content: "foo"; display: none; }');t.appendChild(e),document.head.appendChild(t);e=d(document.body,":after").content;return g=-1!=e.indexOf("foo"),document.head.removeChild(t),g}g=!1};c.prototype.watchCSS=function(){var t=this.options.watchCSS;t&&(y()?-1!=d(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate():this["fallbackOn"==t?"activate":"deactivate"]())},c.prototype.onkeydown=function(t){var e;!this.options.accessibility||document.activeElement&&document.activeElement!=this.element||(37==t.keyCode?(e=this.options.rightToLeft?"next":"previous",this.uiChange(),this[e]()):39==t.keyCode&&(t=this.options.rightToLeft?"previous":"next",this.uiChange(),this[t]()))},c.prototype.deactivate=function(){if(this.isActive){n.remove(this.element,"flickity-enabled"),n.remove(this.element,"flickity-rtl");for(var t=0,e=this.cells.length;t<e;t++)this.cells[t].destroy();this._removeSelectedCellClass(),this.element.removeChild(this.viewport),l(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),o.unbind(this.element,"keydown",this)),this.isActive=!1,this.emit("deactivate")}},c.prototype.destroy=function(){this.deactivate(),this.isResizeBound&&o.unbind(i,"resize",this),this.emit("destroy"),u&&this.$element&&u.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete p[this.guid]},r.extend(c.prototype,s);var v="attachEvent"in i;return c.setUnselectable=function(t){v&&t.setAttribute("unselectable","on")},c.data=function(t){t=(t=r.getQueryElement(t))&&t.flickityGUID;return t&&p[t]},r.htmlInit(c,"flickity"),u&&u.bridget&&u.bridget("flickity",c),c.Cell=a,c}),function(n,i){"use strict";"function"==typeof define&&define.amd?define("unipointer/unipointer",["eventEmitter/EventEmitter","eventie/eventie"],function(t,e){return i(n,t,e)}):"object"==typeof exports?module.exports=i(n,require("wolfy87-eventemitter"),require("eventie")):n.Unipointer=i(n,n.EventEmitter,n.eventie)}(window,function(r,t,a){function e(){}(e.prototype=new t).bindStartEvent=function(t){this._bindStartEvent(t,!0)},e.prototype.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},e.prototype._bindStartEvent=function(t,e){e=(e=void 0===e||!!e)?"bind":"unbind";r.navigator.pointerEnabled?a[e](t,"pointerdown",this):r.navigator.msPointerEnabled?a[e](t,"MSPointerDown",this):(a[e](t,"mousedown",this),a[e](t,"touchstart",this))},e.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},e.prototype.getTouch=function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},e.prototype.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},e.prototype.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},e.prototype.onMSPointerDown=e.prototype.onpointerdown=function(t){this._pointerDown(t,t)},e.prototype._pointerDown=function(t,e){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},e.prototype.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var l={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return e.prototype._bindPostStartEvents=function(t){if(t){for(var e=l[t.type],n=t.preventDefault?r:document,i=0,o=e.length;i<o;i++){var s=e[i];a.bind(n,s,this)}this._boundPointerEvents={events:e,node:n}}},e.prototype._unbindPostStartEvents=function(){var t=this._boundPointerEvents;if(t&&t.events){for(var e=0,n=t.events.length;e<n;e++){var i=t.events[e];a.unbind(t.node,i,this)}delete this._boundPointerEvents}},e.prototype.onmousemove=function(t){this._pointerMove(t,t)},e.prototype.onMSPointerMove=e.prototype.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},e.prototype.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},e.prototype._pointerMove=function(t,e){this.pointerMove(t,e)},e.prototype.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},e.prototype.onmouseup=function(t){this._pointerUp(t,t)},e.prototype.onMSPointerUp=e.prototype.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},e.prototype.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},e.prototype._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},e.prototype.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},e.prototype._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},e.prototype.pointerDone=function(){},e.prototype.onMSPointerCancel=e.prototype.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},e.prototype.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},e.prototype._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},e.prototype.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},e.getPointerPoint=function(t){return{x:void 0!==t.pageX?t.pageX:t.clientX,y:void 0!==t.pageY?t.pageY:t.clientY}},e}),function(n,i){"use strict";"function"==typeof define&&define.amd?define("unidragger/unidragger",["eventie/eventie","unipointer/unipointer"],function(t,e){return i(n,t,e)}):"object"==typeof exports?module.exports=i(n,require("eventie"),require("unipointer")):n.Unidragger=i(n,n.eventie,n.Unipointer)}(window,function(i,r,o){function s(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function a(){}function l(){return!1}(a.prototype=new o).bindHandles=function(){this._bindHandles(!0)},a.prototype.unbindHandles=function(){this._bindHandles(!1)};var c=i.navigator;a.prototype._bindHandles=function(e){e=void 0===e||!!e;for(var t=c.pointerEnabled?function(t){t.style.touchAction=e?"none":""}:c.msPointerEnabled?function(t){t.style.msTouchAction=e?"none":""}:function(){e&&u(s)},n=e?"bind":"unbind",i=0,o=this.handles.length;i<o;i++){var s=this.handles[i];this._bindStartEvent(s,e),t(s),r[n](s,"click",this)}};var u="attachEvent"in document.documentElement?function(t){"IMG"==t.nodeName&&(t.ondragstart=l);for(var e=t.querySelectorAll("img"),n=0,i=e.length;n<i;n++)e[n].ondragstart=l}:function(){};a.prototype.pointerDown=function(t,e){if("INPUT"==t.target.nodeName&&"range"==t.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(t,e);var n=document.activeElement;n&&n.blur&&n.blur(),this._bindPostStartEvents(t),this.pointerDownScroll=a.getScrollPosition(),r.bind(i,"scroll",this),this.emitEvent("pointerDown",[t,e])},a.prototype._dragPointerDown=function(t,e){this.pointerDownPoint=o.getPointerPoint(e);var n="touchstart"==t.type,e=t.target.nodeName;n||"SELECT"==e||s(t)},a.prototype.pointerMove=function(t,e){var n=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,n]),this._dragMove(t,e,n)},a.prototype._dragPointerMove=function(t,e){var n=o.getPointerPoint(e),n={x:n.x-this.pointerDownPoint.x,y:n.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(n)&&this._dragStart(t,e),n},a.prototype.hasDragStarted=function(t){return 3<Math.abs(t.x)||3<Math.abs(t.y)},a.prototype.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},a.prototype._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},a.prototype.pointerDone=function(){r.unbind(i,"scroll",this)},a.prototype._dragStart=function(t,e){this.isDragging=!0,this.dragStartPoint=a.getPointerPoint(e),this.isPreventingClicks=!0,this.dragStart(t,e)},a.prototype.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},a.prototype._dragMove=function(t,e,n){this.isDragging&&this.dragMove(t,e,n)},a.prototype.dragMove=function(t,e,n){s(t),this.emitEvent("dragMove",[t,e,n])},a.prototype._dragEnd=function(t,e){this.isDragging=!1;var n=this;setTimeout(function(){delete n.isPreventingClicks}),this.dragEnd(t,e)},a.prototype.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},a.prototype.pointerDone=function(){r.unbind(i,"scroll",this),delete this.pointerDownScroll},a.prototype.onclick=function(t){this.isPreventingClicks&&s(t)},a.prototype._staticClick=function(t,e){var n,i;this.isIgnoringMouseUp&&"mouseup"==t.type||("INPUT"!=(n=t.target.nodeName)&&"TEXTAREA"!=n||t.target.focus(),this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,i=this,setTimeout(function(){delete i.isIgnoringMouseUp},400)))},a.prototype.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},a.prototype.onscroll=function(){var t=a.getScrollPosition(),e=this.pointerDownScroll.x-t.x,t=this.pointerDownScroll.y-t.y;(3<Math.abs(e)||3<Math.abs(t))&&this._pointerDone()},a.getPointerPoint=function(t){return{x:void 0!==t.pageX?t.pageX:t.clientX,y:void 0!==t.pageY?t.pageY:t.clientY}};var t=void 0!==i.pageYOffset;return a.getScrollPosition=function(){return{x:t?i.pageXOffset:document.body.scrollLeft,y:t?i.pageYOffset:document.body.scrollTop}},a.getPointerPoint=o.getPointerPoint,a}),function(s,r){"use strict";"function"==typeof define&&define.amd?define("flickity/js/drag",["classie/classie","eventie/eventie","./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(t,e,n,i,o){return r(s,t,e,n,i,o)}):"object"==typeof exports?module.exports=r(s,require("desandro-classie"),require("eventie"),require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):s.Flickity=r(s,s.classie,s.eventie,s.Flickity,s.Unidragger,s.fizzyUIUtils)}(window,function(i,o,s,t,r,a){function l(t){t.preventDefault?t.preventDefault():t.returnValue=!1}a.extend(t.defaults,{draggable:!0}),t.createMethods.push("_createDrag"),a.extend(t.prototype,r.prototype),t.prototype._createDrag=function(){this.on("activate",this.bindDrag),this.on("uiChange",this._uiChangeDrag),this.on("childUIPointerDown",this._childUIPointerDownDrag),this.on("deactivate",this.unbindDrag)},t.prototype.bindDrag=function(){this.options.draggable&&!this.isDragBound&&(o.add(this.element,"is-draggable"),this.handles=[this.viewport],this.bindHandles(),this.isDragBound=!0)},t.prototype.unbindDrag=function(){this.isDragBound&&(o.remove(this.element,"is-draggable"),this.unbindHandles(),delete this.isDragBound)},t.prototype._uiChangeDrag=function(){delete this.isFreeScrolling},t.prototype._childUIPointerDownDrag=function(t){l(t),this.pointerDownFocus(t)},t.prototype.pointerDown=function(t,e){if("INPUT"==t.target.nodeName&&"range"==t.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(t,e);var n=document.activeElement;n&&n.blur&&n!=this.element&&n!=document.body&&n.blur(),this.pointerDownFocus(t),this.dragX=this.x,o.add(this.viewport,"is-pointer-down"),this._bindPostStartEvents(t),this.pointerDownScroll=r.getScrollPosition(),s.bind(i,"scroll",this),this.dispatchEvent("pointerDown",t,[e])};var e={touchstart:!0,MSPointerDown:!0},n={INPUT:!0,SELECT:!0};return t.prototype.pointerDownFocus=function(t){!this.options.accessibility||e[t.type]||n[t.target.nodeName]||(t=i.pageYOffset,this.element.focus(),i.pageYOffset!=t&&i.scrollTo(i.pageXOffset,t))},t.prototype.hasDragStarted=function(t){return 3<Math.abs(t.x)},t.prototype.pointerUp=function(t,e){o.remove(this.viewport,"is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},t.prototype.pointerDone=function(){s.unbind(i,"scroll",this),delete this.pointerDownScroll},t.prototype.dragStart=function(t,e){this.dragStartPosition=this.x,this.startAnimation(),this.dispatchEvent("dragStart",t,[e])},t.prototype.dragMove=function(t,e,n){l(t),this.previousDragX=this.dragX;var i=this.options.rightToLeft?-1:1,o=this.dragStartPosition+n.x*i;!this.options.wrapAround&&this.cells.length&&(o=(o=(i=Math.max(-this.cells[0].target,this.dragStartPosition))<o?.5*(o+i):o)<(i=Math.min(-this.getLastCell().target,this.dragStartPosition))?.5*(o+i):o),this.dragX=o,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,n])},t.prototype.dragEnd=function(t,e){this.options.freeScroll&&(this.isFreeScrolling=!0);var n,i=this.dragEndRestingSelect();this.options.freeScroll&&!this.options.wrapAround?(n=this.getRestingPosition(),this.isFreeScrolling=-n>this.cells[0].target&&-n<this.getLastCell().target):this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect()),delete this.previousDragX,this.select(i),this.dispatchEvent("dragEnd",t,[e])},t.prototype.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getCellDistance(-t,this.selectedIndex)),n=this._getClosestResting(t,e,1),e=this._getClosestResting(t,e,-1);return(n.distance<e.distance?n:e).index},t.prototype._getClosestResting=function(t,e,n){for(var i=this.selectedIndex,o=1/0,s=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};s(e,o)&&(o=e,null!==(e=this.getCellDistance(-t,i+=n)));)e=Math.abs(e);return{distance:o,index:i-n}},t.prototype.getCellDistance=function(t,e){var n=this.cells.length,i=this.options.wrapAround&&1<n,o=i?a.modulo(e,n):e,o=this.cells[o];if(!o)return null;n=i?this.slideableWidth*Math.floor(e/n):0;return t-(o.target+n)},t.prototype.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||100<new Date-this.dragMoveTime)return 0;var t=this.getCellDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return 0<t&&0<e?1:t<0&&e<0?-1:0},t.prototype.staticClick=function(t,e){var n=this.getParentCell(t.target),i=n&&n.element,n=n&&a.indexOf(this.cells,n);this.dispatchEvent("staticClick",t,[e,i,n])},t}),function(e,n){"function"==typeof define&&define.amd?define("tap-listener/tap-listener",["unipointer/unipointer"],function(t){return n(e,t)}):"object"==typeof exports?module.exports=n(e,require("unipointer")):e.TapListener=n(e,e.Unipointer)}(window,function(r,a){function t(t){this.bindTap(t)}(t.prototype=new a).bindTap=function(t){t&&(this.unbindTap(),this.tapElement=t,this._bindStartEvent(t,!0))},t.prototype.unbindTap=function(){this.tapElement&&(this._bindStartEvent(this.tapElement,!0),delete this.tapElement)};var l=void 0!==r.pageYOffset;return t.prototype.pointerUp=function(t,e){var n,i,o,s;this.isIgnoringMouseUp&&"mouseup"==t.type||(n=a.getPointerPoint(e),i=this.tapElement.getBoundingClientRect(),o=l?r.pageXOffset:document.body.scrollLeft,s=l?r.pageYOffset:document.body.scrollTop,n.x>=i.left+o&&n.x<=i.right+o&&n.y>=i.top+s&&n.y<=i.bottom+s&&this.emitEvent("tap",[t,e]),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),320)))},t.prototype.destroy=function(){this.pointerDone(),this.unbindTap()},t}),function(t,o){"use strict";"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["eventie/eventie","./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(t,e,n,i){return o(0,t,e,n,i)}):"object"==typeof exports?module.exports=o(0,require("eventie"),require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):o(0,t.eventie,t.Flickity,t.TapListener,t.fizzyUIUtils)}(window,function(t,e,i,n,o){function s(t,e){this.direction=t,this.parent=e,this._create()}var r,a="http://www.w3.org/2000/svg",l=function(){if(void 0!==r)return r;var t=document.createElement("div");return t.innerHTML="<svg/>",r=(t.firstChild&&t.firstChild.namespaceURI)==a};return(s.prototype=new n)._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"previous":"next"),i.setUnselectable(e),l()?(t=this.createSVG(),e.appendChild(t)):(this.setArrowText(),e.className+=" no-svg");var n=this;this.onCellSelect=function(){n.update()},this.parent.on("cellSelect",this.onCellSelect),this.on("tap",this.onTap),this.on("pointerDown",function(t,e){n.parent.childUIPointerDown(e)})},s.prototype.activate=function(){this.bindTap(this.element),e.bind(this.element,"click",this),this.parent.element.appendChild(this.element)},s.prototype.deactivate=function(){this.parent.element.removeChild(this.element),n.prototype.destroy.call(this),e.unbind(this.element,"click",this)},s.prototype.createSVG=function(){var t=document.createElementNS(a,"svg");t.setAttribute("viewBox","0 0 100 100");var e,n=document.createElementNS(a,"path"),e="string"==typeof(e=this.parent.options.arrowShape)?e:"M "+e.x0+",50 L "+e.x1+","+(e.y1+50)+" L "+e.x2+","+(e.y2+50)+" L "+e.x3+",50  L "+e.x2+","+(50-e.y2)+" L "+e.x1+","+(50-e.y1)+" Z";return n.setAttribute("d",e),n.setAttribute("class","arrow"),this.isLeft||n.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(n),t},s.prototype.setArrowText=function(){var t=this.parent.options,t=this.isLeft?t.leftArrowText:t.rightArrowText;o.setText(this.element,t)},s.prototype.onTap=function(){var t;this.isEnabled&&(this.parent.uiChange(),t=this.isPrevious?"previous":"next",this.parent[t]())},s.prototype.handleEvent=o.handleEvent,s.prototype.onclick=function(){var t=document.activeElement;t&&t==this.element&&this.onTap()},s.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},s.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},s.prototype.update=function(){var t=this.parent.cells;this.parent.options.wrapAround&&1<t.length?this.enable():(t=t.length?t.length-1:0,t=this.isPrevious?0:t,this[this.parent.selectedIndex==t?"disable":"enable"]())},s.prototype.destroy=function(){this.deactivate()},o.extend(i.defaults,{prevNextButtons:!0,leftArrowText:"",rightArrowText:"",arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),i.createMethods.push("_createPrevNextButtons"),i.prototype._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new s(-1,this),this.nextButton=new s(1,this),this.on("activate",this.activatePrevNextButtons))},i.prototype.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},i.prototype.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},i.PrevNextButton=s,i}),function(t,o){"use strict";"function"==typeof define&&define.amd?define("flickity/js/page-dots",["eventie/eventie","./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(t,e,n,i){return o(0,0,e,n,i)}):"object"==typeof exports?module.exports=o(0,require("eventie"),require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):o(0,t.eventie,t.Flickity,t.TapListener,t.fizzyUIUtils)}(window,function(t,e,i,n,o){function s(t){this.parent=t,this._create()}return(s.prototype=new n)._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",i.setUnselectable(this.holder),this.dots=[];var n=this;this.onCellSelect=function(){n.updateSelected()},this.parent.on("cellSelect",this.onCellSelect),this.on("tap",this.onTap),this.on("pointerDown",function(t,e){n.parent.childUIPointerDown(e)})},s.prototype.activate=function(){this.setDots(),this.bindTap(this.holder),this.parent.element.appendChild(this.holder)},s.prototype.deactivate=function(){this.parent.element.removeChild(this.holder),n.prototype.destroy.call(this)},s.prototype.setDots=function(){var t=this.parent.cells.length-this.dots.length;0<t?this.addDots(t):t<0&&this.removeDots(-t)},s.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),n=[];t;){var i=document.createElement("li");i.className="dot",e.appendChild(i),n.push(i),t--}this.holder.appendChild(e),this.dots=this.dots.concat(n)},s.prototype.removeDots=function(t){for(var e=this.dots.splice(this.dots.length-t,t),n=0,i=e.length;n<i;n++){var o=e[n];this.holder.removeChild(o)}},s.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot"),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected")},s.prototype.onTap=function(t){t=t.target;"LI"==t.nodeName&&(this.parent.uiChange(),t=o.indexOf(this.dots,t),this.parent.select(t))},s.prototype.destroy=function(){this.deactivate()},i.PageDots=s,o.extend(i.defaults,{pageDots:!0}),i.createMethods.push("_createPageDots"),i.prototype._createPageDots=function(){this.options.pageDots&&(this.pageDots=new s(this),this.on("activate",this.activatePageDots),this.on("cellAddedRemoved",this.onCellAddedRemovedPageDots),this.on("deactivate",this.deactivatePageDots))},i.prototype.activatePageDots=function(){this.pageDots.activate()},i.prototype.onCellAddedRemovedPageDots=function(){this.pageDots.setDots()},i.prototype.deactivatePageDots=function(){this.pageDots.deactivate()},i.PageDots=s,i}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("flickity/js/player",["eventEmitter/EventEmitter","eventie/eventie","fizzy-ui-utils/utils","./flickity"],e):"object"==typeof exports?module.exports=e(require("wolfy87-eventemitter"),require("eventie"),require("fizzy-ui-utils"),require("./flickity")):e(t.EventEmitter,t.eventie,t.fizzyUIUtils,t.Flickity)}(window,function(t,e,n,i){function o(t){var e;this.isPlaying=!1,this.parent=t,r&&((e=this).onVisibilityChange=function(){e.visibilityChange()})}var s,r;return"hidden"in document?(s="hidden",r="visibilitychange"):"webkitHidden"in document&&(s="webkitHidden",r="webkitvisibilitychange"),(o.prototype=new t).play=function(){this.isPlaying=!0,delete this.isPaused,r&&document.addEventListener(r,this.onVisibilityChange,!1),this.tick()},o.prototype.tick=function(){var t,e;this.isPlaying&&!this.isPaused&&(this.tickTime=new Date,t="number"==typeof(t=this.parent.options.autoPlay)?t:3e3,(e=this).timeout=setTimeout(function(){e.parent.next(!0),e.tick()},t))},o.prototype.stop=function(){this.isPlaying=!1,delete this.isPaused,this.clear(),r&&document.removeEventListener(r,this.onVisibilityChange,!1)},o.prototype.clear=function(){clearTimeout(this.timeout)},o.prototype.pause=function(){this.isPlaying&&(this.isPaused=!0,this.clear())},o.prototype.unpause=function(){this.isPaused&&this.play()},o.prototype.visibilityChange=function(){this[document[s]?"pause":"unpause"]()},n.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer"),i.prototype._createPlayer=function(){this.player=new o(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},i.prototype.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),e.bind(this.element,"mouseenter",this),this.isMouseenterBound=!0)},i.prototype.playPlayer=function(){this.player.play()},i.prototype.stopPlayer=function(){this.player.stop()},i.prototype.pausePlayer=function(){this.player.pause()},i.prototype.unpausePlayer=function(){this.player.unpause()},i.prototype.deactivatePlayer=function(){this.player.stop(),this.isMouseenterBound&&(e.unbind(this.element,"mouseenter",this),delete this.isMouseenterBound)},i.prototype.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),e.bind(this.element,"mouseleave",this))},i.prototype.onmouseleave=function(){this.player.unpause(),e.unbind(this.element,"mouseleave",this)},i.Player=o,i}),function(t,n){"use strict";"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(t,e){return n(0,t,e)}):"object"==typeof exports?module.exports=n(0,require("./flickity"),require("fizzy-ui-utils")):n(0,t.Flickity,t.fizzyUIUtils)}(window,function(t,e,r){return e.prototype.insert=function(t,e){var n,i,o,s=this._makeCells(t);s&&s.length&&(o=this.cells.length,e=void 0===e?o:e,n=function(t){for(var e=document.createDocumentFragment(),n=0,i=t.length;n<i;n++){var o=t[n];e.appendChild(o.element)}return e}(s),(i=e==o)?this.slider.appendChild(n):(t=this.cells[e].element,this.slider.insertBefore(n,t)),0===e?this.cells=s.concat(this.cells):i?this.cells=this.cells.concat(s):(o=this.cells.splice(e,o-e),this.cells=this.cells.concat(s).concat(o)),this._sizeCells(s),s=e>this.selectedIndex?0:s.length,this._cellAddedRemoved(e,s))},e.prototype.append=function(t){this.insert(t,this.cells.length)},e.prototype.prepend=function(t){this.insert(t,0)},e.prototype.remove=function(t){for(var e=this.getCells(t),n=0,i=0,o=e.length;i<o;i++){var s=e[i];n-=r.indexOf(this.cells,s)<this.selectedIndex?1:0}for(i=0,o=e.length;i<o;i++)(s=e[i]).remove(),r.removeFrom(this.cells,s);e.length&&this._cellAddedRemoved(0,n)},e.prototype._cellAddedRemoved=function(t,e){this.selectedIndex+=e=e||0,this.selectedIndex=Math.max(0,Math.min(this.cells.length-1,this.selectedIndex)),this.emitEvent("cellAddedRemoved",[t,e]),this.cellChange(t,!0)},e.prototype.cellSizeChange=function(t){t=this.getCell(t);t&&(t.getSize(),t=r.indexOf(this.cells,t),this.cellChange(t))},e.prototype.cellChange=function(t,e){var n=this.slideableWidth;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize(),this.options.freeScroll?(n=n-this.slideableWidth,this.x+=n*this.cellAlign,this.positionSlider()):(e&&this.positionSliderAtSelected(),this.select(this.selectedIndex))},e}),function(t,o){"use strict";"function"==typeof define&&define.amd?define("flickity/js/lazyload",["classie/classie","eventie/eventie","./flickity","fizzy-ui-utils/utils"],function(t,e,n,i){return o(0,t,e,n,i)}):"object"==typeof exports?module.exports=o(0,require("desandro-classie"),require("eventie"),require("./flickity"),require("fizzy-ui-utils")):o(0,t.classie,t.eventie,t.Flickity,t.fizzyUIUtils)}(window,function(t,i,o,e,r){"use strict";function a(t,e){this.img=t,this.flickity=e,this.load()}return e.createMethods.push("_createLazyload"),e.prototype._createLazyload=function(){this.on("cellSelect",this.lazyLoad)},e.prototype.lazyLoad=function(){var t=this.options.lazyLoad;if(t){for(var e=this.getAdjacentCellElements("number"==typeof t?t:0),n=[],i=0,o=e.length;i<o;i++)var s=e[i],s="IMG"==(s=s).nodeName&&s.getAttribute("data-flickity-lazyload")?[s]:(s=s.querySelectorAll("img[data-flickity-lazyload]"),r.makeArray(s)),n=n.concat(s);for(i=0,o=n.length;i<o;i++)new a(n[i],this)}},a.prototype.handleEvent=r.handleEvent,a.prototype.load=function(){o.bind(this.img,"load",this),o.bind(this.img,"error",this),this.img.src=this.img.getAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload")},a.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},a.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},a.prototype.complete=function(t,e){o.unbind(this.img,"load",this),o.unbind(this.img,"error",this);var n=this.flickity.getParentCell(this.img),n=n&&n.element;this.flickity.cellSizeChange(n),i.add(this.img,e),this.flickity.dispatchEvent("lazyLoad",t,n)},e.LazyLoader=a,e}),function(t){"use strict";"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],t):"object"==typeof exports&&(module.exports=t(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}((window,function(t){return t})),function(t,i){"use strict";"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["classie/classie","flickity/js/index","fizzy-ui-utils/utils"],function(t,e,n){return i(0,t,e,n)}):"object"==typeof exports?module.exports=i(0,require("desandro-classie"),require("flickity"),require("fizzy-ui-utils")):t.Flickity=i(0,t.classie,t.Flickity,t.fizzyUIUtils)}(window,function(t,e,n,i){return n.createMethods.push("_createAsNavFor"),n.prototype._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var t,e=this.options.asNavFor;e&&(t=this,setTimeout(function(){t.setNavCompanion(e)}))},n.prototype.setNavCompanion=function(t){t=i.getQueryElement(t);var e,t=n.data(t);t&&t!=this&&(this.navCompanion=t,(e=this).onNavCompanionSelect=function(){e.navCompanionSelect()},t.on("cellSelect",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect())},n.prototype.navCompanionSelect=function(){var t;this.navCompanion&&(t=this.navCompanion.selectedIndex,this.select(t),this.removeNavSelectedElement(),this.selectedIndex==t&&(this.navSelectedElement=this.cells[t].element,e.add(this.navSelectedElement,"is-nav-selected")))},n.prototype.activateAsNavFor=function(){this.navCompanionSelect()},n.prototype.removeNavSelectedElement=function(){this.navSelectedElement&&(e.remove(this.navSelectedElement,"is-nav-selected"),delete this.navSelectedElement)},n.prototype.onNavStaticClick=function(t,e,n,i){"number"==typeof i&&this.navCompanion.select(i)},n.prototype.deactivateAsNavFor=function(){this.removeNavSelectedElement()},n.prototype.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("cellSelect",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},n}),function(n,i){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["eventEmitter/EventEmitter","eventie/eventie"],function(t,e){return i(n,t,e)}):"object"==typeof module&&module.exports?module.exports=i(n,require("wolfy87-eventemitter"),require("eventie")):n.imagesLoaded=i(n,n.EventEmitter,n.eventie)}(window,function(e,t,n){function o(t,e){for(var n in e)t[n]=e[n];return t}function s(t){var e=[];if("[object Array]"==u.call(t))e=t;else if("number"==typeof t.length)for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e}function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=s(t),this.options=o({},this.options),"function"==typeof e?n=e:o(this.options,e),n&&this.on("always",n),this.getImages(),l&&(this.jqDeferred=new l.Deferred);var i=this;setTimeout(function(){i.check()})}function i(t){this.img=t}function a(t,e){this.url=t,this.element=e,this.img=new Image}var l=e.jQuery,c=e.console,u=Object.prototype.toString;(r.prototype=new t).options={},r.prototype.getImages=function(){this.images=[];for(var t=0;t<this.elements.length;t++){var e=this.elements[t];this.addElementImages(e)}},r.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&d[e]){for(var n=t.querySelectorAll("img"),i=0;i<n.length;i++){var o=n[i];this.addImage(o)}if("string"==typeof this.options.background)for(var s=t.querySelectorAll(this.options.background),i=0;i<s.length;i++){var r=s[i];this.addElementBackgroundImages(r)}}};var d={1:!0,9:!0,11:!0};r.prototype.addElementBackgroundImages=function(t){for(var e=f(t),n=/url\(['"]*([^'"\)]+)['"]*\)/gi,i=n.exec(e.backgroundImage);null!==i;){var o=i&&i[1];o&&this.addBackground(o,t),i=n.exec(e.backgroundImage)}};var f=e.getComputedStyle||function(t){return t.currentStyle};return r.prototype.addImage=function(t){t=new i(t);this.images.push(t)},r.prototype.addBackground=function(t,e){e=new a(t,e);this.images.push(e)},r.prototype.check=function(){function t(t,e,n){setTimeout(function(){i.progress(t,e,n)})}var i=this;if(this.progressedCount=0,this.hasAnyBroken=!1,this.images.length)for(var e=0;e<this.images.length;e++){var n=this.images[e];n.once("progress",t),n.check()}else this.complete()},r.prototype.progress=function(t,e,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emit("progress",this,t,e),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&c&&c.log("progress: "+n,t,e)},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emit(t,this),this.emit("always",this),this.jqDeferred&&(t=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[t](this))},(i.prototype=new t).check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,n.bind(this.proxyImage,"load",this),n.bind(this.proxyImage,"error",this),n.bind(this.img,"load",this),n.bind(this.img,"error",this),void(this.proxyImage.src=this.img.src))},i.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("progress",this,this.img,e)},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){n.unbind(this.proxyImage,"load",this),n.unbind(this.proxyImage,"error",this),n.unbind(this.img,"load",this),n.unbind(this.img,"error",this)},(a.prototype=new i).check=function(){n.bind(this.img,"load",this),n.bind(this.img,"error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},a.prototype.unbindEvents=function(){n.unbind(this.img,"load",this),n.unbind(this.img,"error",this)},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("progress",this,this.element,e)},(r.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((l=t).fn.imagesLoaded=function(t,e){return new r(this,t,e).jqDeferred.promise(l(this))})})(),r}),function(t,n){"use strict";"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(t,e){return n(0,t,e)}):"object"==typeof exports?module.exports=n(0,require("flickity"),require("imagesloaded")):t.Flickity=n(0,t.Flickity,t.imagesLoaded)}(window,function(t,e,i){"use strict";return e.createMethods.push("_createImagesLoaded"),e.prototype._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},e.prototype.imagesLoaded=function(){var n;this.options.imagesLoaded&&i((n=this).slider).on("progress",function(t,e){e=n.getParentCell(e.img),n.cellSizeChange(e&&e.element),n.options.freeScroll||n.positionSliderAtSelected()})},e}),function(c,o,p,m){"use strict";var s,r,a,l,u,d,f,i,t;function n(t){var e=t.currentTarget,n=t.data?t.data.options:{},i=t.data?t.data.items:[],o=p(e).attr("data-fancybox")||"",s=0;t.preventDefault(),t.stopPropagation(),o?(s=(i=i.length?i.filter('[data-fancybox="'+o+'"]'):p('[data-fancybox="'+o+'"]')).index(e))<0&&(s=0):i=[e],p.fancybox.open(i,n,s)}p&&(p.fn.fancybox?p.error("fancyBox already initialized"):(s={loop:!1,margin:[44,0],gutter:50,keyboard:!0,arrows:!0,infobar:!1,toolbar:!0,buttons:["slideShow","fullScreen","thumbs","close"],idleTime:4,smallBtn:"auto",protect:!1,modal:!1,image:{preload:"auto"},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><button data-fancybox-prev title="{{PREV}}" class="fancybox-button fancybox-button--left"></button><div class="fancybox-infobar__body"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><button data-fancybox-next title="{{NEXT}}" class="fancybox-button fancybox-button--right"></button></div><div class="fancybox-toolbar">{{BUTTONS}}</div><div class="fancybox-navigation"><button data-fancybox-prev title="{{PREV}}" class="fancybox-arrow fancybox-arrow--left" /><button data-fancybox-next title="{{NEXT}}" class="fancybox-arrow fancybox-arrow--right" /></div><div class="fancybox-stage"></div><div class="fancybox-caption-wrap"><div class="fancybox-caption"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}<p></div>',btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"></button>',fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="{{FULL_SCREEN}}"></button>',thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"></button>',smallBtn:'<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"></button>'},parentEl:"body",autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4e3},thumbs:{autoStart:!1,hideOnClose:!0},onInit:p.noop,beforeLoad:p.noop,afterLoad:p.noop,beforeShow:p.noop,afterShow:p.noop,beforeClose:p.noop,afterClose:p.noop,onActivate:p.noop,onDeactivate:p.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zurck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es spter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder"}}},r=p(c),a=p(o),l=0,u=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||c.oRequestAnimationFrame||function(t){return c.setTimeout(t,1e3/60)},d=function(){var t,e=o.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(e.style[t]!==m)return n[t]}(),f=function(t){return t&&t.length&&t[0].offsetHeight},i=function(t,e,n){var i=this;i.opts=p.extend(!0,{index:n},s,e||{}),e&&p.isArray(e.buttons)&&(i.opts.buttons=e.buttons),i.id=i.opts.id||++l,i.group=[],i.currIndex=parseInt(i.opts.index,10)||0,i.prevIndex=null,i.prevPos=null,i.currPos=0,i.firstRun=null,i.createGroup(t),i.group.length&&(i.$lastFocus=p(o.activeElement).blur(),i.slides={},i.init(t))},p.extend(i.prototype,{init:function(){var t,e,n,i=this,o=i.group[i.currIndex].opts;i.scrollTop=a.scrollTop(),i.scrollLeft=a.scrollLeft(),p.fancybox.getInstance()||p.fancybox.isMobile||"hidden"===p("body").css("overflow")||(t=p("body").width(),p("html").addClass("fancybox-enabled"),1<(t=p("body").width()-t)&&p("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar, .fancybox-enabled body { margin-right: '+t+"px; }</style>")),n="",p.each(o.buttons,function(t,e){n+=o.btnTpl[e]||""}),e=p(i.translate(i,o.baseTpl.replace("{{BUTTONS}}",n))).addClass("fancybox-is-hidden").attr("id","fancybox-container-"+i.id).addClass(o.baseClass).data("FancyBox",i).prependTo(o.parentEl),i.$refs={container:e},["bg","inner","infobar","toolbar","stage","caption"].forEach(function(t){i.$refs[t]=e.find(".fancybox-"+t)}),(!o.arrows||i.group.length<2)&&e.find(".fancybox-navigation").remove(),o.infobar||i.$refs.infobar.remove(),o.toolbar||i.$refs.toolbar.remove(),i.trigger("onInit"),i.activate(),i.jumpTo(i.currIndex)},translate:function(t,e){var n=t.opts.i18n[t.opts.lang];return e.replace(/\{\{(\w+)\}\}/g,function(t,e){e=n[e];return e===m?t:e})},createGroup:function(t){var l=this,t=p.makeArray(t);p.each(t,function(t,e){var n,i,o,s={},r={},a=[];p.isPlainObject(e)?r=(s=e).opts||e:"object"===p.type(e)&&p(e).length?(i=p(e),a=i.data(),r="options"in a?a.options:{},r="object"===p.type(r)?r:{},s.src="src"in a?a.src:r.src||i.attr("href"),["width","height","thumb","type","filter"].forEach(function(t){t in a&&(r[t]=a[t])}),"srcset"in a&&(r.image={srcset:a.srcset}),r.$orig=i,s.type||s.src||(s.type="inline",s.src=e)):s={type:"html",src:e+""},s.opts=p.extend(!0,{},l.opts,r),p.fancybox.isMobile&&(s.opts=p.extend(!0,{},s.opts,s.opts.mobile)),n=s.type||s.opts.type,i=s.src||"",!n&&i&&(i.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?n="image":i.match(/\.(pdf)((\?|#).*)?$/i)?n="pdf":"#"===i.charAt(0)&&(n="inline")),s.type=n,s.index=l.group.length,s.opts.$orig&&!s.opts.$orig.length&&delete s.opts.$orig,!s.opts.$thumb&&s.opts.$orig&&(s.opts.$thumb=s.opts.$orig.find("img:first")),s.opts.$thumb&&!s.opts.$thumb.length&&delete s.opts.$thumb,"function"===p.type(s.opts.caption)?s.opts.caption=s.opts.caption.apply(e,[l,s]):"caption"in a&&(s.opts.caption=a.caption),s.opts.caption=s.opts.caption===m?"":s.opts.caption+"","ajax"===n&&1<(o=i.split(/\s+/,2)).length&&(s.src=o.shift(),s.opts.filter=o.shift()),"auto"==s.opts.smallBtn&&(-1<p.inArray(n,["html","inline","ajax"])?(s.opts.toolbar=!1,s.opts.smallBtn=!0):s.opts.smallBtn=!1),"pdf"===n&&(s.type="iframe",s.opts.iframe.preload=!1),s.opts.modal&&(s.opts=p.extend(!0,s.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),l.group.push(s)})},addEvents:function(){var i=this;i.removeEvents(),i.$refs.container.on("click.fb-close","[data-fancybox-close]",function(t){t.stopPropagation(),t.preventDefault(),i.close(t)}).on("click.fb-prev touchend.fb-prev","[data-fancybox-prev]",function(t){t.stopPropagation(),t.preventDefault(),i.previous()}).on("click.fb-next touchend.fb-next","[data-fancybox-next]",function(t){t.stopPropagation(),t.preventDefault(),i.next()}),r.on("orientationchange.fb resize.fb",function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?u(function(){i.update()}):(i.$refs.stage.hide(),setTimeout(function(){i.$refs.stage.show(),i.update()},500))}),a.on("focusin.fb",function(t){var e=p.fancybox?p.fancybox.getInstance():null;e.isClosing||!e.current||!e.current.opts.trapFocus||p(t.target).hasClass("fancybox-container")||p(t.target).is(o)||e&&"fixed"!==p(t.target).css("position")&&!e.$refs.container.has(t.target).length&&(t.stopPropagation(),e.focus(),r.scrollTop(i.scrollTop).scrollLeft(i.scrollLeft))}),a.on("keydown.fb",function(t){var e=i.current,n=t.keyCode||t.which;if(e&&e.opts.keyboard&&!p(t.target).is("input")&&!p(t.target).is("textarea"))return 8===n||27===n?(t.preventDefault(),void i.close(t)):37===n||38===n?(t.preventDefault(),void i.previous()):39===n||40===n?(t.preventDefault(),void i.next()):void i.trigger("afterKeydown",t,n)}),i.group[i.currIndex].opts.idleTime&&(i.idleSecondsCounter=0,a.on("mousemove.fb-idle mouseenter.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(){i.idleSecondsCounter=0,i.isIdle&&i.showControls(),i.isIdle=!1}),i.idleInterval=c.setInterval(function(){i.idleSecondsCounter++,i.idleSecondsCounter>=i.group[i.currIndex].opts.idleTime&&(i.isIdle=!0,i.idleSecondsCounter=0,i.hideControls())},1e3))},removeEvents:function(){r.off("orientationchange.fb resize.fb"),a.off("focusin.fb keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),this.idleInterval&&(c.clearInterval(this.idleInterval),this.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,i,e){var n,o,s,r,a,l,c=this,u=c.group.length;if(!(c.isSliding||c.isClosing||c.isAnimating&&c.firstRun)){if(t=parseInt(t,10),!(o=(c.current||c).opts.loop)&&(t<0||u<=t))return!1;if(n=c.firstRun=null===c.firstRun,!(u<2&&!n&&c.isSliding)){if(r=c.current,c.prevIndex=c.currIndex,c.prevPos=c.currPos,s=c.createSlide(t),1<u&&((o||0<s.index)&&c.createSlide(t-1),(o||s.index<u-1)&&c.createSlide(t+1)),c.current=s,c.currIndex=s.index,c.currPos=s.pos,c.trigger("beforeShow",n),c.updateControls(),t=p.fancybox.getTranslate(s.$slide),s.isMoved=(0!==t.left||0!==t.top)&&!s.$slide.hasClass("fancybox-animated"),s.forcedDuration=m,p.isNumeric(i)?s.forcedDuration=i:i=s.opts[n?"animationDuration":"transitionDuration"],i=parseInt(i,10),n)return s.opts.animationEffect&&i&&c.$refs.container.css("transition-duration",i+"ms"),c.$refs.container.removeClass("fancybox-is-hidden"),f(c.$refs.container),c.$refs.container.addClass("fancybox-is-open"),s.$slide.addClass("fancybox-slide--current"),c.loadSlide(s),void c.preload();p.each(c.slides,function(t,e){p.fancybox.stop(e.$slide)}),s.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current"),s.isMoved?(a=Math.round(s.$slide.width()),p.each(c.slides,function(t,e){var n=e.pos-s.pos;p.fancybox.animate(e.$slide,{top:0,left:n*a+n*e.opts.gutter},i,function(){e.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous"),e.pos===c.currPos&&(s.isMoved=!1,c.complete())})})):c.$refs.stage.children().removeAttr("style"),s.isLoaded?c.revealContent(s):c.loadSlide(s),c.preload(),r.pos!==s.pos&&(l="fancybox-slide--"+(r.pos>s.pos?"next":"previous"),r.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous"),r.isComplete=!1,i&&(s.isMoved||s.opts.transitionEffect)&&(s.isMoved?r.$slide.addClass(l):(l="fancybox-animated "+l+" fancybox-fx-"+s.opts.transitionEffect,p.fancybox.animate(r.$slide,l,i,function(){r.$slide.removeClass(l).removeAttr("style")}))))}}},createSlide:function(t){var e,n=this,i=t%n.group.length;return i=i<0?n.group.length+i:i,!n.slides[t]&&n.group[i]&&(e=p('<div class="fancybox-slide"></div>').appendTo(n.$refs.stage),n.slides[t]=p.extend(!0,{},n.group[i],{pos:t,$slide:e,isLoaded:!1}),n.updateSlide(n.slides[t])),n.slides[t]},scaleToActual:function(t,e,n){var i,o,s,r,a=this,l=a.current,c=l.$content,u=parseInt(l.$slide.width(),10),d=parseInt(l.$slide.height(),10),f=l.width,h=l.height;"image"!=l.type||l.hasError||!c||a.isAnimating||(p.fancybox.stop(c),a.isAnimating=!0,t=t===m?.5*u:t,e=e===m?.5*d:e,s=f/(i=p.fancybox.getTranslate(c)).width,r=h/i.height,o=.5*u-.5*f,l=.5*d-.5*h,u<f&&(o=0<(o=i.left*s-(t*s-t))?0:o)<u-f&&(o=u-f),d<h&&(l=0<(l=i.top*r-(e*r-e))?0:l)<d-h&&(l=d-h),a.updateCursor(f,h),p.fancybox.animate(c,{top:l,left:o,scaleX:s,scaleY:r},n||330,function(){a.isAnimating=!1}),a.SlideShow&&a.SlideShow.isActive&&a.SlideShow.stop())},scaleToFit:function(t){var e=this,n=e.current,i=n.$content;"image"!=n.type||n.hasError||!i||e.isAnimating||(p.fancybox.stop(i),e.isAnimating=!0,n=e.getFitPos(n),e.updateCursor(n.width,n.height),p.fancybox.animate(i,{top:n.top,left:n.left,scaleX:n.width/i.width(),scaleY:n.height/i.height()},t||330,function(){e.isAnimating=!1}))},getFitPos:function(t){var e,n=t.$content,i=t.width,o=t.height,s=t.opts.margin;return!(!n||!n.length||!i&&!o)&&(2==(s="number"===p.type(s)?[s,s]:s).length&&(s=[s[0],s[1],s[0],s[1]]),r.width()<800&&(s=[0,0,0,0]),e=parseInt(this.$refs.stage.width(),10)-(s[1]+s[3]),t=parseInt(this.$refs.stage.height(),10)-(s[0]+s[2]),n=Math.min(1,e/i,t/o),i=Math.floor(n*i),o=Math.floor(n*o),{top:Math.floor(.5*(t-o))+s[0],left:Math.floor(.5*(e-i))+s[3],width:i,height:o})},update:function(){var n=this;p.each(n.slides,function(t,e){n.updateSlide(e)})},updateSlide:function(t){var e=t.$content;e&&(t.width||t.height)&&(p.fancybox.stop(e),p.fancybox.setTranslate(e,this.getFitPos(t)),t.pos===this.currPos&&this.updateCursor()),t.$slide.trigger("refresh"),this.trigger("onUpdate",t)},updateCursor:function(t,e){var n=this,i=n.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut");n.current&&!n.isClosing&&(n.isZoomable()?(i.addClass("fancybox-is-zoomable"),(t!==m&&e!==m?t<n.current.width&&e<n.current.height:n.isScaledDown())?i.addClass("fancybox-can-zoomIn"):n.current.opts.touch?i.addClass("fancybox-can-drag"):i.addClass("fancybox-can-zoomOut")):n.current.opts.touch&&i.addClass("fancybox-can-drag"))},isZoomable:function(){var t,e=this.current;if(e&&!this.isClosing)return!!("image"===e.type&&e.isLoaded&&!e.hasError&&("zoom"===e.opts.clickContent||p.isFunction(e.opts.clickContent)&&"zoom"===e.opts.clickContent(e))&&(t=this.getFitPos(e),e.width>t.width||e.height>t.height))},isScaledDown:function(){var t=this.current,e=t.$content,n=!1;return n=e?(n=p.fancybox.getTranslate(e)).width<t.width||n.height<t.height:n},canPan:function(){var t=this.current,e=t.$content,n=!1;return e&&(n=this.getFitPos(t),n=1<Math.abs(e.width()-n.width)||1<Math.abs(e.height()-n.height)),n},loadSlide:function(n){var t,e,i,o=this;if(!n.isLoading&&!n.isLoaded){switch(n.isLoading=!0,o.trigger("beforeLoad",n),t=n.type,(e=n.$slide).off("refresh").trigger("onReset").addClass("fancybox-slide--"+(t||"unknown")).addClass(n.opts.slideClass),t){case"image":o.setImage(n);break;case"iframe":o.setIframe(n);break;case"html":o.setContent(n,n.src||n.content);break;case"inline":p(n.src).length?o.setContent(n,p(n.src)):o.setError(n);break;case"ajax":o.showLoading(n),i=p.ajax(p.extend({},n.opts.ajax.settings,{url:n.src,success:function(t,e){"success"===e&&o.setContent(n,t)},error:function(t,e){t&&"abort"!==e&&o.setError(n)}})),e.one("onReset",function(){i.abort()});break;default:o.setError(n)}return!0}},setImage:function(t){var e,n,i,o,s=this,r=t.opts.image.srcset;if(r){i=c.devicePixelRatio||1,o=c.innerWidth*i,(n=r.split(",").map(function(t){var i={};return t.trim().split(/\s+/).forEach(function(t,e){var n=parseInt(t.substring(0,t.length-1),10);if(0===e)return i.url=t;n&&(i.value=n,i.postfix=t[t.length-1])}),i})).sort(function(t,e){return t.value-e.value});for(var a=0;a<n.length;a++){var l=n[a];if("w"===l.postfix&&l.value>=o||"x"===l.postfix&&l.value>=i){e=l;break}}(e=!e&&n.length?n[n.length-1]:e)&&(t.src=e.url,t.width&&t.height&&"w"==e.postfix&&(t.height=t.width/t.height*e.value,t.width=e.value))}t.$content=p('<div class="fancybox-image-wrap"></div>').addClass("fancybox-is-hidden").appendTo(t.$slide),!1!==t.opts.preload&&t.opts.width&&t.opts.height&&(t.opts.thumb||t.opts.$thumb)?(t.width=t.opts.width,t.height=t.opts.height,t.$ghost=p("<img />").one("error",function(){p(this).remove(),t.$ghost=null,s.setBigImage(t)}).one("load",function(){s.afterLoad(t),s.setBigImage(t)}).addClass("fancybox-image").appendTo(t.$content).attr("src",t.opts.thumb||t.opts.$thumb.attr("src"))):s.setBigImage(t)},setBigImage:function(t){var e=this,n=p("<img />");t.$image=n.one("error",function(){e.setError(t)}).one("load",function(){clearTimeout(t.timouts),t.timouts=null,e.isClosing||(t.width=this.naturalWidth,t.height=this.naturalHeight,t.opts.image.srcset&&n.attr("sizes","100vw").attr("srcset",t.opts.image.srcset),e.hideLoading(t),t.$ghost?t.timouts=setTimeout(function(){t.timouts=null,t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))):e.afterLoad(t))}).addClass("fancybox-image").attr("src",t.src).appendTo(t.$content),n[0].complete?n.trigger("load"):n[0].error?n.trigger("error"):t.timouts=setTimeout(function(){n[0].complete||t.hasError||e.showLoading(t)},100)},setIframe:function(i){var o,e=this,s=i.opts.iframe,t=i.$slide;i.$content=p('<div class="fancybox-content'+(s.preload?" fancybox-is-hidden":"")+'"></div>').css(s.css).appendTo(t),o=p(s.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(s.attr).appendTo(i.$content),s.preload?(e.showLoading(i),o.on("load.fb error.fb",function(t){this.isReady=1,i.$slide.trigger("refresh"),e.afterLoad(i)}),t.on("refresh.fb",function(){var t,e,n=i.$content;if(1===o[0].isReady){try{e=o.contents().find("body")}catch(t){}e&&e.length&&(s.css.width===m||s.css.height===m)&&(t=o[0].contentWindow.document.documentElement.scrollWidth,t=Math.ceil(e.outerWidth(!0)+(n.width()-t)),e=Math.ceil(e.outerHeight(!0)),n.css({width:s.css.width===m?t+(n.outerWidth()-n.innerWidth()):s.css.width,height:s.css.height===m?e+(n.outerHeight()-n.innerHeight()):s.css.height})),n.removeClass("fancybox-is-hidden")}})):this.afterLoad(i),o.attr("src",i.src),!0===i.opts.smallBtn&&i.$content.prepend(e.translate(i,i.opts.btnTpl.smallBtn)),t.one("onReset",function(){try{p(this).find("iframe").hide().attr("src","//about:blank")}catch(t){}p(this).empty(),i.isLoaded=!1})},setContent:function(t,e){var n;this.isClosing||(this.hideLoading(t),t.$slide.empty(),(n=e)&&n.hasOwnProperty&&n instanceof p&&e.parent().length?(e.parent(".fancybox-slide--inline").trigger("onReset"),t.$placeholder=p("<div></div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===p.type(e)&&3===(e=p("<div>").append(p.trim(e)).contents())[0].nodeType&&(e=p("<div>").html(e)),t.opts.filter&&(e=p("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",function(){t.$placeholder&&(t.$placeholder.after(e.hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(p(this).empty(),t.isLoaded=!1)}),t.$content=p(e).appendTo(t.$slide),t.opts.smallBtn&&!t.$smallBtn&&(t.$smallBtn=p(this.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content)),this.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.removeClass("fancybox-slide--"+t.type),this.setContent(t,this.translate(t,t.opts.errorTpl))},showLoading:function(t){(t=t||this.current)&&!t.$spinner&&(t.$spinner=p(this.opts.spinnerTpl).appendTo(t.$slide))},hideLoading:function(t){(t=t||this.current)&&t.$spinner&&(t.$spinner.remove(),delete t.$spinner)},afterLoad:function(t){this.isClosing||(t.isLoading=!1,t.isLoaded=!0,this.trigger("afterLoad",t),this.hideLoading(t),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",function(t){return 2==t.button&&t.preventDefault(),!0}),"image"===t.type&&p('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),this.revealContent(t))},revealContent:function(e){var n,t,i,o=this,s=e.$slide,r=!1,a=e.opts[o.firstRun?"animationEffect":"transitionEffect"],l=e.opts[o.firstRun?"animationDuration":"transitionDuration"];return l=parseInt(e.forcedDuration===m?l:e.forcedDuration,10),"zoom"===(a=!("zoom"!==(a=e.isMoved||e.pos!==o.currPos||!l?!1:a)||e.pos===o.currPos&&l&&"image"===e.type&&!e.hasError&&(r=o.getThumbPos(e)))?"fade":a)?((i=o.getFitPos(e)).scaleX=Math.round(i.width/r.width*100)/100,i.scaleY=Math.round(i.height/r.height*100)/100,delete i.width,delete i.height,(t="auto"==(t=e.opts.zoomOpacity)?.1<Math.abs(e.width/e.height-r.width/r.height):t)&&(r.opacity=.1,i.opacity=1),p.fancybox.setTranslate(e.$content.removeClass("fancybox-is-hidden"),r),f(e.$content),void p.fancybox.animate(e.$content,i,l,function(){o.complete()})):(o.updateSlide(e),a?(p.fancybox.stop(s),n="fancybox-animated fancybox-slide--"+(e.pos>o.prevPos?"next":"previous")+" fancybox-fx-"+a,s.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(n),e.$content.removeClass("fancybox-is-hidden"),f(s),void p.fancybox.animate(s,"fancybox-slide--current",l,function(t){s.removeClass(n).removeAttr("style"),e.pos===o.currPos&&o.complete()},!0)):(f(s),e.$content.removeClass("fancybox-is-hidden"),void(e.pos===o.currPos&&o.complete())))},getThumbPos:function(t){var e=!1,n=t.opts.$thumb,i=n?n.offset():0;return i&&n[0].ownerDocument===o&&function(t){for(var e=t[0],n=e.getBoundingClientRect(),i=[];null!==e.parentElement;)"hidden"!==p(e.parentElement).css("overflow")&&"auto"!==p(e.parentElement).css("overflow")||i.push(e.parentElement.getBoundingClientRect()),e=e.parentElement;return i.every(function(t){var e=Math.min(n.right,t.right)-Math.max(n.left,t.left),t=Math.min(n.bottom,t.bottom)-Math.max(n.top,t.top);return 0<e&&0<t})&&0<n.bottom&&0<n.right&&n.left<p(c).width()&&n.top<p(c).height()}(n)&&(t=this.$refs.stage.offset(),e={top:i.top-t.top+parseFloat(n.css("border-top-width")||0),left:i.left-t.left+parseFloat(n.css("border-left-width")||0),width:n.width(),height:n.height(),scaleX:1,scaleY:1}),e},complete:function(){var n=this,t=n.current,i={};t.isMoved||!t.isLoaded||t.isComplete||(t.isComplete=!0,t.$slide.siblings().trigger("onReset"),f(t.$slide),t.$slide.addClass("fancybox-slide--complete"),p.each(n.slides,function(t,e){e.pos>=n.currPos-1&&e.pos<=n.currPos+1?i[e.pos]=e:e&&(p.fancybox.stop(e.$slide),e.$slide.unbind().remove())}),n.slides=i,n.updateCursor(),n.trigger("afterShow"),(p(o.activeElement).is("[disabled]")||t.opts.autoFocus&&"image"!=t.type&&"iframe"!==t.type)&&n.focus())},preload:function(){var t,e,n=this;n.group.length<2||(t=n.slides[n.currPos+1],e=n.slides[n.currPos-1],t&&"image"===t.type&&n.loadSlide(t),e&&"image"===e.type&&n.loadSlide(e))},focus:function(){var t=this.current;this.isClosing||(t=(t=t&&t.isComplete?t.$slide.find("button,:input,[tabindex],a").filter(":not([disabled]):visible:first"):null)&&t.length?t:this.$refs.container).focus()},activate:function(){var e=this;p(".fancybox-container").each(function(){var t=p(this).data("FancyBox");t&&t.uid!==e.uid&&!t.isClosing&&t.trigger("onDeactivate")}),e.current&&(0<e.$refs.container.index()&&e.$refs.container.prependTo(o.body),e.updateControls()),e.trigger("onActivate"),e.addEvents()},close:function(t,e){function n(){a.cleanUp(t)}var i,o,s,r,a=this,l=a.current;return!a.isClosing&&(!(a.isClosing=!0)===a.trigger("beforeClose",t)?(a.isClosing=!1,u(function(){a.update()}),!1):(a.removeEvents(),l.timouts&&clearTimeout(l.timouts),s=l.$content,i=l.opts.animationEffect,o=p.isNumeric(e)?e:i?l.opts.animationDuration:0,l.$slide.off(d).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),l.$slide.siblings().trigger("onReset").remove(),o&&a.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing"),a.hideLoading(l),a.hideControls(),a.updateCursor(),"zoom"===(i=!("zoom"!==i||!0!==t&&s&&o&&"image"===l.type&&!l.hasError&&(r=a.getThumbPos(l)))?"fade":i)?(p.fancybox.stop(s),(e=p.fancybox.getTranslate(s)).width=e.width*e.scaleX,e.height=e.height*e.scaleY,(s="auto"==(s=l.opts.zoomOpacity)?.1<Math.abs(l.width/l.height-r.width/r.height):s)&&(r.opacity=0),e.scaleX=e.width/r.width,e.scaleY=e.height/r.height,e.width=r.width,e.height=r.height,p.fancybox.setTranslate(l.$content,e),p.fancybox.animate(l.$content,r,o,n)):i&&o?!0===t?setTimeout(n,o):p.fancybox.animate(l.$slide.removeClass("fancybox-slide--current"),"fancybox-animated fancybox-slide--previous fancybox-fx-"+i,o,n):n(),!0))},cleanUp:function(t){var e=this;e.current.$slide.trigger("onReset"),e.$refs.container.empty().remove(),e.trigger("afterClose",t),e.$lastFocus&&!e.current.focusBack&&e.$lastFocus.focus(),e.current=null,(t=p.fancybox.getInstance())?t.activate():(r.scrollTop(e.scrollTop).scrollLeft(e.scrollLeft),p("html").removeClass("fancybox-enabled"),p("#fancybox-style-noscroll").remove())},trigger:function(t,e){var n,i=Array.prototype.slice.call(arguments,1),e=e&&e.opts?e:this.current;if(e?i.unshift(e):e=this,i.unshift(this),!1===(n=p.isFunction(e.opts[t])?e.opts[t].apply(e,i):n))return n;("afterClose"===t?a:this.$refs.container).trigger(t+".fb",i)},updateControls:function(t){var e=this,n=e.current,i=n.index,o=n.opts,s=o.caption,r=e.$refs.caption;n.$slide.trigger("refresh"),e.$caption=s&&s.length?r.html(s):null,e.isHiddenControls||e.showControls(),p("[data-fancybox-count]").html(e.group.length),p("[data-fancybox-index]").html(i+1),p("[data-fancybox-prev]").prop("disabled",!o.loop&&i<=0),p("[data-fancybox-next]").prop("disabled",!o.loop&&i>=e.group.length-1)},hideControls:function(){this.isHiddenControls=!0,this.$refs.container.removeClass("fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav")},showControls:function(){var t=this,e=(t.current||t).opts,n=t.$refs.container;t.isHiddenControls=!1,t.idleSecondsCounter=0,n.toggleClass("fancybox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("fancybox-show-infobar",!!(e.infobar&&1<t.group.length)).toggleClass("fancybox-show-nav",!!(e.arrows&&1<t.group.length)).toggleClass("fancybox-is-modal",!!e.modal),t.$caption?n.addClass("fancybox-show-caption "):n.removeClass("fancybox-show-caption")},toggleControls:function(){this.isHiddenControls?this.showControls():this.hideControls()}}),p.fancybox={version:"3.1.20",defaults:s,getInstance:function(t){var e=p('.fancybox-container:not(".fancybox-is-closing"):first').data("FancyBox"),n=Array.prototype.slice.call(arguments,1);return e instanceof i&&("string"===p.type(t)?e[t].apply(e,n):"function"===p.type(t)&&t.apply(e,n),e)},open:function(t,e,n){return new i(t,e,n)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close())},destroy:function(){this.close(!0),a.off("click.fb-start")},isMobile:o.createTouch!==m&&/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),use3d:(t=o.createElement("div"),c.getComputedStyle&&c.getComputedStyle(t).getPropertyValue("transform")&&!(o.documentMode&&o.documentMode<11)),getTranslate:function(t){var e,n;return!(!t||!t.length)&&((e=(e=t.eq(0).css("transform"))&&-1!==e.indexOf("matrix")?(e=(e=e.split("(")[1]).split(")")[0]).split(","):[]).length?e=(e=10<e.length?[e[13],e[12],e[0],e[5]]:[e[5],e[4],e[0],e[3]]).map(parseFloat):(e=[0,0,1,1],(n=/\.*translate\((.*)px,(.*)px\)/i.exec(t.eq(0).attr("style")))&&(e[0]=parseFloat(n[2]),e[1]=parseFloat(n[1]))),{top:e[0],left:e[1],scaleX:e[2],scaleY:e[3],opacity:parseFloat(t.css("opacity")),width:t.width(),height:t.height()})},setTranslate:function(t,e){var n="",i={};if(t&&e)return e.left===m&&e.top===m||(n=(e.left===m?t.position():e).left+"px, "+(e.top===m?t.position():e).top+"px",n=this.use3d?"translate3d("+n+", 0px)":"translate("+n+")"),(n=e.scaleX!==m&&e.scaleY!==m?(n.length?n+" ":"")+"scale("+e.scaleX+", "+e.scaleY+")":n).length&&(i.transform=n),e.opacity!==m&&(i.opacity=e.opacity),e.width!==m&&(i.width=e.width),e.height!==m&&(i.height=e.height),t.css(i)},animate:function(e,n,t,i,o){var s=d||"transitionend";p.isFunction(t)&&(i=t,t=null),p.isPlainObject(n)||e.removeAttr("style"),e.on(s,function(t){t&&t.originalEvent&&(!e.is(t.originalEvent.target)||"z-index"==t.originalEvent.propertyName)||(e.off(s),p.isPlainObject(n)?n.scaleX!==m&&n.scaleY!==m&&(e.css("transition-duration","0ms"),n.width=e.width()*n.scaleX,n.height=e.height()*n.scaleY,n.scaleX=1,n.scaleY=1,p.fancybox.setTranslate(e,n)):!0!==o&&e.removeClass(n),p.isFunction(i)&&i(t))}),p.isNumeric(t)&&e.css("transition-duration",t+"ms"),p.isPlainObject(n)?p.fancybox.setTranslate(e,n):e.addClass(n),e.data("timer",setTimeout(function(){e.trigger("transitionend")},t+16))},stop:function(t){clearTimeout(t.data("timer")),t.off(d)}},p.fn.fancybox=function(t){var e;return(e=(t=t||{}).selector||!1)?p("body").off("click.fb-start",e).on("click.fb-start",e,{items:p(e),options:t},n):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},n),this},a.on("click.fb-start","[data-fancybox]",n)))}(window,document,window.jQuery),function(h){"use strict";function p(n,t,e){if(n)return"object"===h.type(e=e||"")&&(e=h.param(e,!0)),h.each(t,function(t,e){n=n.replace("$"+t,e||"")}),e.length&&(n+=(0<n.indexOf("?")?"&":"?")+e),n}var n={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},metacafe:{matcher:/metacafe.com\/watch\/(\d+)\/(.*)?/,type:"iframe",url:"//www.metacafe.com/embed/$1/?ap=1"},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"iframe",url:"//www.dailymotion.com/embed/video/$1"},vine:{matcher:/vine.co\/v\/([a-zA-Z0-9\?\=\-]+)/,type:"iframe",url:"//vine.co/v/$1/embed/simple"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},google_maps:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12])+"&output="+(t[12]&&0<t[12].indexOf("layer=c")?"svembed":"embed")}}};h(document).on("onInit.fb",function(t,e){h.each(e.group,function(t,o){var e,s,r,a,l,c,u,d=o.src||"",f=!1;o.type||(e=h.extend(!0,{},n,o.opts.media),h.each(e,function(t,e){if(r=d.match(e.matcher),c={},u=t,r){if(f=e.type,e.paramPlace&&r[e.paramPlace]){l=(l="?"==(l=r[e.paramPlace])[0]?l.substring(1):l).split("&");for(var n=0;n<l.length;++n){var i=l[n].split("=",2);2==i.length&&(c[i[0]]=decodeURIComponent(i[1].replace(/\+/g," ")))}}return a=h.extend(!0,{},e.params,o.opts[t],c),d="function"===h.type(e.url)?e.url.call(this,r,a,o):p(e.url,r,a),s="function"===h.type(e.thumb)?e.thumb.call(this,r,a,o):p(e.thumb,r),"vimeo"===u&&(d=d.replace("&%23","#")),!1}}),f?(o.src=d,o.type=f,o.opts.thumb||o.opts.$thumb&&o.opts.$thumb.length||(o.opts.thumb=s),"iframe"===f&&(h.extend(!0,o.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}}),o.contentProvider=u,o.opts.slideClass+=" fancybox-slide--"+("google_maps"==u?"map":"video"))):o.type="image")})})}(window.jQuery),function(u,a,d){"use strict";function f(t){var e,n=[];for(e in t=(t=t.originalEvent||t||u.e).touches&&t.touches.length?t.touches:t.changedTouches&&t.changedTouches.length?t.changedTouches:[t])t[e].pageX?n.push({x:t[e].pageX,y:t[e].pageY}):t[e].clientX&&n.push({x:t[e].clientX,y:t[e].clientY});return n}function h(t,e,n){return e&&t?"x"===n?t.x-e.x:"y"===n?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0}function l(t){if(t.is("a,button,input,select,textarea")||d.isFunction(t.get(0).onclick))return 1;for(var e=0,n=t[0].attributes,i=n.length;e<i;e++)if("data-fancybox-"===n[e].nodeName.substr(0,14))return 1}function c(t){for(var e,n,i,o=!1;;){if(e=t.get(0),n=i=n=void 0,n=u.getComputedStyle(e)["overflow-y"],i=u.getComputedStyle(e)["overflow-x"],n=("scroll"===n||"auto"===n)&&e.scrollHeight>e.clientHeight,e=("scroll"===i||"auto"===i)&&e.scrollWidth>e.clientWidth,o=n||e)break;if(!(t=t.parent()).length||t.hasClass("fancybox-stage")||t.is("body"))break}return o}function n(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.fb.touch mousedown.fb.touch",d.proxy(e,"ontouchstart"))}var p=u.requestAnimationFrame||u.webkitRequestAnimationFrame||u.mozRequestAnimationFrame||u.oRequestAnimationFrame||function(t){return u.setTimeout(t,1e3/60)},m=u.cancelAnimationFrame||u.webkitCancelAnimationFrame||u.mozCancelAnimationFrame||u.oCancelAnimationFrame||function(t){u.clearTimeout(t)};n.prototype.destroy=function(){this.$container.off(".fb.touch")},n.prototype.ontouchstart=function(t){var e=this,n=d(t.target),i=e.instance,o=i.current,s=o.$content,r="touchstart"==t.type;if(r&&e.$container.off("mousedown.fb.touch"),!o||e.instance.isAnimating||e.instance.isClosing)return t.stopPropagation(),void t.preventDefault();t.originalEvent&&2==t.originalEvent.button||!n.length||l(n)||l(n.parent())||t.originalEvent.clientX>n[0].clientWidth+n.offset().left||(e.startPoints=f(t),!e.startPoints||1<e.startPoints.length&&i.isSliding||(e.$target=n,e.$content=s,e.canTap=!0,d(a).off(".fb.touch"),d(a).on(r?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",d.proxy(e,"ontouchend")),d(a).on(r?"touchmove.fb.touch":"mousemove.fb.touch",d.proxy(e,"ontouchmove")),t.stopPropagation(),(i.current.opts.touch||i.canPan())&&(n.is(e.$stage)||e.$stage.find(n).length)?(d.fancybox.isMobile&&(c(e.$target)||c(e.$target.parent()))||t.preventDefault(),e.canvasWidth=Math.round(o.$slide[0].clientWidth),e.canvasHeight=Math.round(o.$slide[0].clientHeight),e.startTime=(new Date).getTime(),e.distanceX=e.distanceY=e.distance=0,e.isPanning=!1,e.isSwiping=!1,e.isZooming=!1,e.sliderStartPos=e.sliderLastPos||{top:0,left:0},e.contentStartPos=d.fancybox.getTranslate(e.$content),e.contentLastPos=null,1!==e.startPoints.length||e.isZooming||(e.canTap=!i.isSliding,"image"===o.type&&(e.contentStartPos.width>e.canvasWidth+1||e.contentStartPos.height>e.canvasHeight+1)?(d.fancybox.stop(e.$content),e.$content.css("transition-duration","0ms"),e.isPanning=!0):e.isSwiping=!0,e.$container.addClass("fancybox-controls--isGrabbing")),2!==e.startPoints.length||i.isAnimating||o.hasError||"image"!==o.type||!o.isLoaded&&!o.$ghost||(e.isZooming=!0,e.isSwiping=!1,e.isPanning=!1,d.fancybox.stop(e.$content),e.$content.css("transition-duration","0ms"),e.centerPointStartX=.5*(e.startPoints[0].x+e.startPoints[1].x)-d(u).scrollLeft(),e.centerPointStartY=.5*(e.startPoints[0].y+e.startPoints[1].y)-d(u).scrollTop(),e.percentageOfImageAtPinchPointX=(e.centerPointStartX-e.contentStartPos.left)/e.contentStartPos.width,e.percentageOfImageAtPinchPointY=(e.centerPointStartY-e.contentStartPos.top)/e.contentStartPos.height,e.startDistanceBetweenFingers=h(e.startPoints[0],e.startPoints[1]))):n.is("img")&&t.preventDefault()))},n.prototype.ontouchmove=function(t){var e=this;if(e.newPoints=f(t),d.fancybox.isMobile&&(c(e.$target)||c(e.$target.parent())))return t.stopPropagation(),void(e.canTap=!1);(e.instance.current.opts.touch||e.instance.canPan())&&e.newPoints&&e.newPoints.length&&(e.distanceX=h(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=h(e.newPoints[0],e.startPoints[0],"y"),e.distance=h(e.newPoints[0],e.startPoints[0]),0<e.distance&&(e.$target.is(e.$stage)||e.$stage.find(e.$target).length)&&(t.stopPropagation(),t.preventDefault(),e.isSwiping?e.onSwipe():e.isPanning?e.onPan():e.isZooming&&e.onZoom()))},n.prototype.onSwipe=function(){var t,i=this,e=i.isSwiping,n=i.sliderStartPos.left||0;!0===e?10<Math.abs(i.distance)&&(i.canTap=!1,i.instance.group.length<2&&i.instance.opts.touch.vertical?i.isSwiping="y":i.instance.isSliding||!1===i.instance.opts.touch.vertical||"auto"===i.instance.opts.touch.vertical&&800<d(u).width()?i.isSwiping="x":(t=Math.abs(180*Math.atan2(i.distanceY,i.distanceX)/Math.PI),i.isSwiping=45<t&&t<135?"y":"x"),i.instance.isSliding=i.isSwiping,i.startPoints=i.newPoints,d.each(i.instance.slides,function(t,e){d.fancybox.stop(e.$slide),e.$slide.css("transition-duration","0ms"),e.inTransition=!1,e.pos===i.instance.current.pos&&(i.sliderStartPos.left=d.fancybox.getTranslate(e.$slide).left)}),i.instance.SlideShow&&i.instance.SlideShow.isActive&&i.instance.SlideShow.stop()):("x"==e&&(0<i.distanceX&&(i.instance.group.length<2||0===i.instance.current.index&&!i.instance.current.opts.loop)?n+=Math.pow(i.distanceX,.8):i.distanceX<0&&(i.instance.group.length<2||i.instance.current.index===i.instance.group.length-1&&!i.instance.current.opts.loop)?n-=Math.pow(-i.distanceX,.8):n+=i.distanceX),i.sliderLastPos={top:"x"==e?0:i.sliderStartPos.top+i.distanceY,left:n},i.requestId&&(m(i.requestId),i.requestId=null),i.requestId=p(function(){i.sliderLastPos&&(d.each(i.instance.slides,function(t,e){var n=e.pos-i.instance.currPos;d.fancybox.setTranslate(e.$slide,{top:i.sliderLastPos.top,left:i.sliderLastPos.left+n*i.canvasWidth+n*e.opts.gutter})}),i.$container.addClass("fancybox-is-sliding"))}))},n.prototype.onPan=function(){var t,e,n=this;n.canTap=!1,t=n.contentStartPos.width>n.canvasWidth?n.contentStartPos.left+n.distanceX:n.contentStartPos.left,e=n.contentStartPos.top+n.distanceY,(e=n.limitMovement(t,e,n.contentStartPos.width,n.contentStartPos.height)).scaleX=n.contentStartPos.scaleX,e.scaleY=n.contentStartPos.scaleY,n.contentLastPos=e,n.requestId&&(m(n.requestId),n.requestId=null),n.requestId=p(function(){d.fancybox.setTranslate(n.$content,n.contentLastPos)})},n.prototype.limitMovement=function(t,e,n,i){var o=this,s=o.canvasWidth,r=o.canvasHeight,a=o.contentStartPos.left,l=o.contentStartPos.top,c=o.distanceX,u=o.distanceY,d=Math.max(0,.5*s-.5*n),f=Math.max(0,.5*r-.5*i),h=Math.min(s-n,.5*s-.5*n),o=Math.min(r-i,.5*r-.5*i);return s<n&&(0<c&&d<t&&(t=d-1+Math.pow(-d+a+c,.8)||0),c<0&&t<h&&(t=h+1-Math.pow(h-a-c,.8)||0)),r<i&&(0<u&&f<e&&(e=f-1+Math.pow(-f+l+u,.8)||0),u<0&&e<o&&(e=o+1-Math.pow(o-l-u,.8)||0)),{top:e,left:t}},n.prototype.limitPosition=function(t,e,n,i){var o=this.canvasWidth,s=this.canvasHeight;return t=o<n?(t=0<t?0:t)<o-n?o-n:t:Math.max(0,o/2-n/2),{top:e=s<i?(e=0<e?0:e)<s-i?s-i:e:Math.max(0,s/2-i/2),left:t}},n.prototype.onZoom=function(){var t=this,e=t.contentStartPos.width,n=t.contentStartPos.height,i=t.contentStartPos.left,o=t.contentStartPos.top,s=h(t.newPoints[0],t.newPoints[1])/t.startDistanceBetweenFingers,r=Math.floor(e*s),a=Math.floor(n*s),l=(e-r)*t.percentageOfImageAtPinchPointX,c=(n-a)*t.percentageOfImageAtPinchPointY,e=(t.newPoints[0].x+t.newPoints[1].x)/2-d(u).scrollLeft(),n=(t.newPoints[0].y+t.newPoints[1].y)/2-d(u).scrollTop(),e=e-t.centerPointStartX,s={top:o+(c+(n-t.centerPointStartY)),left:i+(l+e),scaleX:t.contentStartPos.scaleX*s,scaleY:t.contentStartPos.scaleY*s};t.canTap=!1,t.newWidth=r,t.newHeight=a,t.contentLastPos=s,t.requestId&&(m(t.requestId),t.requestId=null),t.requestId=p(function(){d.fancybox.setTranslate(t.$content,t.contentLastPos)})},n.prototype.ontouchend=function(t){var e=this,n=Math.max((new Date).getTime()-e.startTime,1),i=e.isSwiping,o=e.isPanning,s=e.isZooming;if(e.endPoints=f(t),e.$container.removeClass("fancybox-controls--isGrabbing"),d(a).off(".fb.touch"),e.requestId&&(m(e.requestId),e.requestId=null),e.isSwiping=!1,e.isPanning=!1,e.isZooming=!1,e.canTap)return e.onTap(t);e.speed=366,e.velocityX=e.distanceX/n*.5,e.velocityY=e.distanceY/n*.5,e.speedX=Math.max(.5*e.speed,Math.min(1.5*e.speed,1/Math.abs(e.velocityX)*e.speed)),o?e.endPanning():s?e.endZooming():e.endSwiping(i)},n.prototype.endSwiping=function(t){var e=this,n=!1;e.instance.isSliding=!1,e.sliderLastPos=null,"y"==t&&50<Math.abs(e.distanceY)?(d.fancybox.animate(e.instance.current.$slide,{top:e.sliderStartPos.top+e.distanceY+150*e.velocityY,opacity:0},150),n=e.instance.close(!0,300)):"x"==t&&50<e.distanceX&&1<e.instance.group.length?n=e.instance.previous(e.speedX):"x"==t&&e.distanceX<-50&&1<e.instance.group.length&&(n=e.instance.next(e.speedX)),!1!==n||"x"!=t&&"y"!=t||e.instance.jumpTo(e.instance.current.index,150),e.$container.removeClass("fancybox-is-sliding")},n.prototype.endPanning=function(){var t,e,n=this;n.contentLastPos&&(e=!1===n.instance.current.opts.touch.momentum?(t=n.contentLastPos.left,n.contentLastPos.top):(t=n.contentLastPos.left+n.velocityX*n.speed,n.contentLastPos.top+n.velocityY*n.speed),(e=n.limitPosition(t,e,n.contentStartPos.width,n.contentStartPos.height)).width=n.contentStartPos.width,e.height=n.contentStartPos.height,d.fancybox.animate(n.$content,e,330))},n.prototype.endZooming=function(){var t,e,n=this,i=n.instance.current,o=n.newWidth,s=n.newHeight;n.contentLastPos&&(t=n.contentLastPos.left,e=n.contentLastPos.top,d.fancybox.setTranslate(n.$content,{top:e,left:t,width:o,height:s,scaleX:1,scaleY:1}),o<n.canvasWidth&&s<n.canvasHeight?n.instance.scaleToFit(150):o>i.width||s>i.height?n.instance.scaleToActual(n.centerPointStartX,n.centerPointStartY,150):(s=n.limitPosition(t,e,o,s),d.fancybox.setTranslate(n.content,d.fancybox.getTranslate(n.$content)),d.fancybox.animate(n.$content,s,150)))},n.prototype.onTap=function(e){function t(t){if(t=r.opts[t],t=d.isFunction(t)?t.apply(s,[r,e]):t)switch(t){case"close":s.close(i.startEvent);break;case"toggleControls":s.toggleControls(!0);break;case"next":s.next();break;case"nextOrClose":1<s.group.length?s.next():s.close(i.startEvent);break;case"zoom":"image"==r.type&&(r.isLoaded||r.$ghost)&&(s.canPan()?s.scaleToFit():s.isScaledDown()?s.scaleToActual(l,c):s.group.length<2&&s.close(i.startEvent))}}var n,i=this,o=d(e.target),s=i.instance,r=s.current,a=e&&f(e)||i.startPoints,l=a[0]?a[0].x-i.$stage.offset().left:0,c=a[0]?a[0].y-i.$stage.offset().top:0;if(!(e.originalEvent&&2==e.originalEvent.button||s.isSliding||l>o[0].clientWidth+o.offset().left)){if(o.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))n="Outside";else if(o.is(".fancybox-slide"))n="Slide";else{if(!s.current.$content||!s.current.$content.has(e.target).length)return;n="Content"}if(i.tapped){if(clearTimeout(i.tapped),i.tapped=null,50<Math.abs(l-i.tapX)||50<Math.abs(c-i.tapY)||s.isSliding)return this;t("dblclick"+n)}else i.tapX=l,i.tapY=c,r.opts["dblclick"+n]&&r.opts["dblclick"+n]!==r.opts["click"+n]?i.tapped=setTimeout(function(){i.tapped=null,t("click"+n)},300):t("click"+n);return this}},d(a).on("onActivate.fb",function(t,e){e&&!e.Guestures&&(e.Guestures=new n(e))}),d(a).on("beforeClose.fb",function(t,e){e&&e.Guestures&&e.Guestures.destroy()})}(window,document,window.jQuery),function(s,r){"use strict";function n(t){this.instance=t,this.init()}r.extend(n.prototype,{timer:null,isActive:!1,$button:null,speed:3e3,init:function(){var t=this;t.$button=t.instance.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){t.toggle()}),(t.instance.group.length<2||!t.instance.group[t.instance.currIndex].opts.slideShow)&&t.$button.hide()},set:function(){var t=this;t.instance&&t.instance.current&&(t.instance.current.opts.loop||t.instance.currIndex<t.instance.group.length-1)?t.timer=setTimeout(function(){t.instance.next()},t.instance.current.opts.slideShow.speed||t.speed):(t.stop(),t.instance.idleSecondsCounter=0,t.instance.showControls())},clear:function(){clearTimeout(this.timer),this.timer=null},start:function(){var t=this,e=t.instance.current;t.instance&&e&&(e.opts.loop||e.index<t.instance.group.length-1)&&(t.isActive=!0,t.$button.attr("title",e.opts.i18n[e.opts.lang].PLAY_STOP).addClass("fancybox-button--pause"),e.isComplete&&t.set())},stop:function(){var t=this.instance.current;this.clear(),this.$button.attr("title",t.opts.i18n[t.opts.lang].PLAY_START).removeClass("fancybox-button--pause"),this.isActive=!1},toggle:function(){this.isActive?this.stop():this.start()}}),r(s).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new n(e))},"beforeShow.fb":function(t,e,n,i){e=e&&e.SlideShow;i?e&&n.opts.slideShow.autoStart&&e.start():e&&e.isActive&&e.clear()},"afterShow.fb":function(t,e,n){e=e&&e.SlideShow;e&&e.isActive&&e.set()},"afterKeydown.fb":function(t,e,n,i,o){e=e&&e.SlideShow;!e||!n.opts.slideShow||80!==o&&32!==o||r(s.activeElement).is("button,a,input")||(i.preventDefault(),e.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){e=e&&e.SlideShow;e&&e.stop()}}),r(s).on("visibilitychange",function(){var t=r.fancybox.getInstance(),t=t&&t.SlideShow;t&&t.isActive&&(s.hidden?t.clear():t.set())})}(document,window.jQuery),function(s,e){"use strict";var o,n=function(){for(var t,e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i={},o=0;o<n.length;o++)if((t=n[o])&&t[1]in s){for(e=0;e<t.length;e++)i[n[0][e]]=t[e];return i}return!1}();n?(o={request:function(t){(t=t||s.documentElement)[n.requestFullscreen](t.ALLOW_KEYBOARD_INPUT)},exit:function(){s[n.exitFullscreen]()},toggle:function(t){t=t||s.documentElement,this.isFullscreen()?this.exit():this.request(t)},isFullscreen:function(){return Boolean(s[n.fullscreenElement])},enabled:function(){return Boolean(s[n.fullscreenEnabled])}},e(s).on({"onInit.fb":function(t,e){var n,i=e.$refs.toolbar.find("[data-fancybox-fullscreen]");e&&!e.FullScreen&&e.group[e.currIndex].opts.fullScreen?((n=e.$refs.container).on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),o.toggle(n[0])}),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&o.request(n[0]),e.FullScreen=o):i.hide()},"afterKeydown.fb":function(t,e,n,i,o){e&&e.FullScreen&&70===o&&(i.preventDefault(),e.FullScreen.toggle(e.$refs.container[0]))},"beforeClose.fb":function(t){t&&t.FullScreen&&o.exit()}}),e(s).on(n.fullscreenchange,function(){var t=e.fancybox.getInstance();t.current&&"image"===t.current.type&&t.isAnimating&&(t.current.$content.css("transition","none"),t.isAnimating=!1,t.update(!0,!0,0))})):e.fancybox.defaults.btnTpl.fullScreen=!1}(document,window.jQuery),function(t,r){"use strict";function n(t){this.instance=t,this.init()}r.extend(n.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,init:function(){var t=this,e=t.instance.group[0],n=t.instance.group[1];t.$button=t.instance.$refs.toolbar.find("[data-fancybox-thumbs]"),1<t.instance.group.length&&t.instance.group[t.instance.currIndex].opts.thumbs&&("image"==e.type||e.opts.thumb||e.opts.$thumb)&&("image"==n.type||n.opts.thumb||n.opts.$thumb)?(t.$button.on("click",function(){t.toggle()}),t.isActive=!0):(t.$button.hide(),t.isActive=!1)},create:function(){var n,i,t=this.instance;this.$grid=r('<div class="fancybox-thumbs"></div>').appendTo(t.$refs.container),n="<ul>",r.each(t.group,function(t,e){(i=!(i=e.opts.thumb||(e.opts.$thumb?e.opts.$thumb.attr("src"):null))&&"image"===e.type?e.src:i)&&i.length&&(n+='<li data-index="'+t+'"  tabindex="0" class="fancybox-thumbs-loading"><img data-src="'+i+'" /></li>')}),n+="</ul>",this.$list=r(n).appendTo(this.$grid).on("click","li",function(){t.jumpTo(r(this).data("index"))}),this.$list.find("img").hide().one("load",function(){var t=r(this).parent().removeClass("fancybox-thumbs-loading"),e=t.outerWidth(),n=t.outerHeight(),i=this.naturalWidth||this.width,o=this.naturalHeight||this.height,s=i/e,t=o/n;1<=s&&1<=t&&(t<s?(i/=t,o=n):(i=e,o/=s)),r(this).css({width:Math.floor(i),height:Math.floor(o),"margin-top":Math.min(0,Math.floor(.3*n-.3*o)),"margin-left":Math.min(0,Math.floor(.5*e-.5*i))}).show()}).each(function(){this.src=r(this).data("src")})},focus:function(){this.instance.current&&this.$list.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+this.instance.current.index+'"]').addClass("fancybox-thumbs-active").focus()},close:function(){this.$grid.hide()},update:function(){this.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus()):this.$grid&&this.instance.trigger("onThumbsHide"),this.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),r(t).on({"onInit.fb":function(t,e){e&&!e.Thumbs&&(e.Thumbs=new n(e))},"beforeShow.fb":function(t,e,n,i){var o=e&&e.Thumbs;if(o&&o.isActive){if(n.modal)return o.$button.hide(),void o.hide();i&&!0===e.opts.thumbs.autoStart&&o.show(),o.isVisible&&o.focus()}},"afterKeydown.fb":function(t,e,n,i,o){e=e&&e.Thumbs;e&&e.isActive&&71===o&&(i.preventDefault(),e.toggle())},"beforeClose.fb":function(t,e){var n=e&&e.Thumbs;n&&n.isVisible&&!1!==e.opts.thumbs.hideOnClose&&n.close()}})}(document,window.jQuery),function(s,r,o){"use strict";o.escapeSelector||(o.escapeSelector=function(t){return(t+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t})});var a=null,l=null;function c(){var t=r.location.hash.substr(1),e=t.split("-"),n=1<e.length&&/^\+?\d+$/.test(e[e.length-1])&&parseInt(e.pop(-1),10)||1;return{hash:t,index:n=n<1?1:n,gallery:e.join("-")}}function e(t){var e;""!==t.gallery&&((e=o("[data-fancybox='"+o.escapeSelector(t.gallery)+"']").eq(t.index-1)).length?e:o("#"+o.escapeSelector(t.gallery))).trigger("click")}function u(t){return!!t&&((t=(t.current||t).opts).$orig?t.$orig.data("fancybox"):t.hash||"")}o(function(){setTimeout(function(){!1!==o.fancybox.defaults.hash&&(o(s).on({"onInit.fb":function(t,e){var n,i;!1!==e.group[e.currIndex].opts.hash&&(n=c(),(i=u(e))&&n.gallery&&i==n.gallery&&(e.currIndex=n.index-1))},"beforeShow.fb":function(t,e,n,i){var o;!1!==n.opts.hash&&(o=u(e))&&""!==o&&(r.location.hash.indexOf(o)<0&&(e.opts.origHash=r.location.hash),a=o+(1<e.group.length?"-"+(n.index+1):""),"replaceState"in r.history?(l&&clearTimeout(l),l=setTimeout(function(){r.history[i?"pushState":"replaceState"]({},s.title,r.location.pathname+r.location.search+"#"+a),l=null},300)):r.location.hash=a)},"beforeClose.fb":function(t,e,n){var i;l&&clearTimeout(l),!1!==n.opts.hash&&(i=u(e),n=e&&e.opts.origHash?e.opts.origHash:"",i&&""!==i&&("replaceState"in history?r.history.replaceState({},s.title,r.location.pathname+r.location.search+n):(r.location.hash=n,o(r).scrollTop(e.scrollTop).scrollLeft(e.scrollLeft))),a=null)}}),o(r).on("hashchange.fb",function(){var t=c();o.fancybox.getInstance()?!a||a===t.gallery+"-"+t.index||1===t.index&&a==t.gallery||(a=null,o.fancybox.close()):""!==t.gallery&&e(t)}),o(r).one("unload.fb popstate.fb",function(){o.fancybox.getInstance("close",!0,0)}),e(c()))},50)})}(document,window,window.jQuery),function(o,n){var t,i,s,e,r,a,l,c="hashchange",u=document,d=o.event.special,f=u.documentMode,h="on"+c in n&&(void 0===f||7<f);function p(t){var e=(t=t||location.href).indexOf("#");return-1===e?"#":t.substr(e)}function m(t){return t}function g(){var t=p(),e=l(r);t!==r?(a(r=t,e),o(n).trigger(c)):e!==r&&(location.href=location.href.replace(/#.*/,"")+e),i=setTimeout(g,o.fn[c].delay)}o.fn[c]=function(t){return t?this.bind(c,t):this.trigger(c)},o.fn[c].delay=50,d[c]=o.extend(d[c],{setup:function(){if(h)return!1;o(t.start)},teardown:function(){if(h)return!1;o(t.stop)}}),d={},r=p(),l=a=m,d.start=function(){i||g()},d.stop=function(){i&&clearTimeout(i),i=void 0},!n.attachEvent||n.addEventListener||h||(d.start=function(){s||(e=(e=o.fn[c].src)&&e+p(),s=o('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){e||a(p()),g()}).attr("src",e||"javascript:0").insertAfter("body")[0].contentWindow,u.onpropertychange=function(){try{"title"===event.propertyName&&(s.document.title=u.title)}catch(t){}})},d.stop=m,l=function(){return p(s.location.href)},a=function(t,e){var n=s.document,i=o.fn[c].domain;t!==e&&(n.title=u.title,n.open(),i&&n.write('<script>document.domain="'+i+'"<\/script>'),n.close(),s.location.hash=t)}),t=d}(jQuery,this),function(c){c.fn.rwdImageMaps=function(){var t=this;return c(window).resize(function(){t.each(function(){var e;void 0!==c(this).attr("usemap")&&(e=c(this),c("<img />").on("load",function(){var o=e.attr("width"),s=e.attr("height");o&&s||((t=new Image).src=e.attr("src"),o=o||t.width,s=s||t.height);var r=e.width()/100,a=e.height()/100,t=e.attr("usemap").replace("#",""),l="coords";c('map[name="'+t+'"]').find("area").each(function(){var t=c(this);t.data(l)||t.data(l,t.attr(l));for(var e=t.data(l).split(","),n=new Array(e.length),i=0;i<n.length;++i)n[i]=i%2==0?parseInt(e[i]/o*100*r):parseInt(e[i]/s*100*a);t.attr(l,n.toString())})}).attr("src",e.attr("src")))})}).trigger("resize"),this}}(jQuery),function(d){function t(t){var e,n,i={};if(""===t)return{};for(e=0;e<t.length;e+=1)2===(n=t[e].split("=")).length&&(i[n[0]]=decodeURIComponent(n[1].replace(/\+/g," ")));return i}d.queryParams=function(){return t(window.location.search.substr(1).split("&"))},d.hashParams=function(){return t(window.location.hash.substr(1).split("&"))};var f=0;window.Swiftype=window.Swiftype||{},Swiftype.root_url=Swiftype.root_url||"https://api.swiftype.com",Swiftype.pingUrl=function(t,e){var n=setTimeout(e,350),i=new Image;return i.onload=i.onerror=function(){clearTimeout(n),e()},i.src=t,!1},Swiftype.pingAutoSelection=function(t,e,n,i){n={t:(new Date).getTime(),engine_key:t,doc_id:e,prefix:n},n=Swiftype.root_url+"/api/v1/public/analytics/pas?"+d.param(n);Swiftype.pingUrl(n,i)},Swiftype.findSelectedSection=function(){var e=d.hashParams().sts;function n(t){return t.replace(/\s+/g,"").toLowerCase()}e&&(e=n(e),d("h1, h2, h3, h4, h5, h6").each(function(t){if($this=d(this),0<=n($this.text()).indexOf(e))return this.scrollIntoView(!0),!1}))},Swiftype.htmlEscape=Swiftype.htmlEscape||function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},d.fn.swiftype=function(u){Swiftype.findSelectedSection();u=d.extend({},d.fn.swiftype.defaults,u);return this.each(function(){var n=d(this),i=d.meta?d.extend({},u,n.data()):u;n.attr("autocomplete","off"),n.data("swiftype-config-autocomplete",i),n.submitted=!1,n.cache=new g(10),n.emptyQueries=[],n.isEmpty=function(t){return 0<=d.inArray(h(t),this.emptyQueries)},n.addEmpty=function(t){n.emptyQueries.unshift(h(t))};var t=i.dropdownStylesFunction(n),e=d('<div class="swiftype-widget" />'),o=d("<div />").addClass(i.suggestionListClass).appendTo(e).css(t).hide();e.appendTo(i.autocompleteContainingElement);var s,r=d("<"+i.suggestionListType+" />").appendTo(o);n.data("swiftype-list",r),n.abortCurrent=function(){n.currentRequest&&n.currentRequest.abort()},n.showList=function(){!1===m(i.disableAutocomplete)&&o.show()},n.hideList=function(t){t?o.hide():setTimeout(function(){o.hide()},10)},n.focused=function(){return n.is(":focus")},n.submitting=function(){n.submitted=!0},n.listResults=function(){return d(i.resultListSelector,r)},n.activeResult=function(){return n.listResults().filter("."+i.activeItemClass).first()},n.prevResult=function(){var t=n.listResults(),e=t.index(n.activeResult())-1,t=t.eq(e);n.listResults().removeClass(i.activeItemClass),0<=e&&t.addClass(i.activeItemClass)},n.nextResult=function(){var t=n.listResults(),e=t.index(n.activeResult())+1,t=t.eq(e);n.listResults().removeClass(i.activeItemClass),0<=e&&t.addClass(i.activeItemClass)},n.selectedCallback=function(e){return function(){var t=n.val();Swiftype.pingAutoSelection(i.engineKey,e.id,t,function(){i.onComplete(e,t)})}},n.registerResult=function(t,e){t.data("swiftype-item",e),t.click(n.selectedCallback(e)).mouseover(function(){n.listResults().removeClass(i.activeItemClass),t.addClass(i.activeItemClass)})};var a=!(n.getContext=function(){return{config:i,list:r,registerResult:n.registerResult}});n.lastValue="",n.keyup(function(t){a?a=!1:36<t.which&&t.which<41||16==t.which||(0<i.typingDelay?(clearTimeout(s),s=setTimeout(function(){p(n)},i.typingDelay)):p(n))}),n.styleDropdown=function(){o.css(i.dropdownStylesFunction(n))},n.keydown(function(t){n.styleDropdown();var e=n.activeResult();switch(t.which){case 13:0!==e.length&&r.is(":visible")?(t.preventDefault(),n.selectedCallback(e.data("swiftype-item"))()):n.currentRequest&&n.submitting(),n.hideList(),a=!0;break;case 38:t.preventDefault(),0===e.length?n.listResults().last().addClass(i.activeItemClass):n.prevResult();break;case 40:t.preventDefault(),0===e.length?n.listResults().first().addClass(i.activeItemClass):e!=n.listResults().last()&&n.nextResult();break;case 27:n.hideList(),a=!0;break;default:n.submitted=!1}}),n.keypress(function(t){13==t.which&&0<n.activeResult().length&&t.preventDefault()});var l=!1,c=!1;d(document).bind("mousedown.swiftype"+ ++f,function(){l=!0}),d(document).bind("mouseup.swiftype"+f,function(){l=!1,c&&(c=!1,n.hideList())}),n.blur(function(){l?c=!0:n.hideList()}),n.focus(function(){setTimeout(function(){n.select()},10),0<n.listResults().filter(":not(."+i.noResultsClass+")").length&&n.showList()})})};var h=function(t){return d.trim(t).toLowerCase()},i=function(n,i){n.abortCurrent();var t={},e=n.data("swiftype-config-autocomplete");t.q=i,t.engine_key=e.engineKey,t.search_fields=m(e.searchFields),t.fetch_fields=m(e.fetchFields),t.filters=m(e.filters),t.document_types=m(e.documentTypes),t.functional_boosts=m(e.functionalBoosts),t.sort_field=m(e.sortField),t.sort_direction=m(e.sortDirection),t.per_page=e.resultLimit;e=Swiftype.root_url+"/api/v1/public/engines/suggest.json";n.currentRequest=d.ajax({type:"GET",dataType:"jsonp",url:e,data:t}).success(function(t){var e=h(i);if(!(0<t.record_count))return n.addEmpty(e),n.data("swiftype-list").empty(),void n.hideList();n.cache.put(e,t.records),o(n,t.records,i)})},p=function(t){var e=t.val();if(e!==t.lastValue){if(t.lastValue=e,""===d.trim(e))return t.data("swiftype-list").empty(),void t.hideList();void 0!==t.data("swiftype-config-autocomplete").engineKey&&function(t,e){var n=h(e);if(t.isEmpty(n))return t.data("swiftype-list").empty(),t.hideList();n=t.cache.get(n);n?o(t,n,e):i(t,e)}(t,e)}},o=function(t,e,n){var i=t.data("swiftype-list"),o=t.data("swiftype-config-autocomplete");i.empty(),t.hideList(!0),o.resultRenderFunction(t.getContext(),e),(0<t.listResults().length&&t.focused()||void 0!==o.noResultsMessage)&&(t.submitted?t.submitted=!1:t.showList())},m=function(t){if(void 0!==t){var e=t;return e="function"==typeof t?t.call():e}};function g(t){this.size=0,this.limit=t,this._keymap={}}g.prototype.put=function(t,e){e={key:t,value:e};if(this._keymap[t]=e,this.tail?(this.tail.newer=e).older=this.tail:this.head=e,this.tail=e,this.size===this.limit)return this.shift();this.size++},g.prototype.shift=function(){var t=this.head;return t&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):this.head=void 0,t.newer=t.older=void 0,delete this._keymap[t.key]),t},g.prototype.get=function(t,e){t=this._keymap[t];if(void 0!==t)return t===this.tail?t.value:(t.newer&&(t===this.head&&(this.head=t.newer),t.newer.older=t.older),t.older&&(t.older.newer=t.newer),t.newer=void 0,t.older=this.tail,this.tail&&(this.tail.newer=t),this.tail=t,e?t:t.value)},g.prototype.remove=function(t){t=this._keymap[t];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.head=t.newer):t.older?(t.older.newer=void 0,this.tail=t.older):this.head=this.tail=void 0,this.size--,t.value},g.prototype.clear=function(){this.head=this.tail=void 0,this.size=0,this._keymap={}},"function"==typeof Object.keys?g.prototype.keys=function(){return Object.keys(this._keymap)}:g.prototype.keys=function(){var t,e=[];for(t in this._keymap)e.push(t);return e},d.fn.swiftype.defaults={activeItemClass:"active",attachTo:void 0,documentTypes:void 0,filters:void 0,engineKey:void 0,searchFields:void 0,functionalBoosts:void 0,sortField:void 0,sortDirection:void 0,fetchFields:void 0,noResultsClass:"noResults",noResultsMessage:void 0,onComplete:function(t,e){window.location=t.url},resultRenderFunction:function(i,t){var o=i.list,s=i.config;d.each(t,function(n,t){d.each(t,function(t,e){i.registerResult(d("<li>"+s.renderFunction(n,e)+"</li>").appendTo(o),e)})})},renderFunction:function(t,e){return'<p class="title">'+Swiftype.htmlEscape(e.title)+"</p>"},dropdownStylesFunction:function(t){var e=t.data("swiftype-config-autocomplete"),n=e.attachTo?d(e.attachTo):t,t=n.offset(),t={position:"absolute","z-index":9999,top:t.top+n.outerHeight()+1,left:t.left};return e.setWidth&&(t.width=n.outerWidth()-2),t},resultLimit:void 0,suggestionListType:"ul",suggestionListClass:"autocomplete",resultListSelector:"li",setWidth:!0,typingDelay:80,disableAutocomplete:!1,autocompleteContainingElement:"body"}}(jQuery),function(u){function t(t){var e,n,i={};if(""===t)return{};for(e=0;e<t.length;e+=1)2===(n=t[e].split("=")).length&&(i[n[0]]=decodeURIComponent(n[1].replace(/\+/g," ")));return i}u.queryParams=function(){return t(window.location.search.substr(1).split("&"))},u.hashParams=function(){return t(window.location.hash.substr(1).split("&"))},window.Swiftype=window.Swiftype||{},Swiftype.root_url=Swiftype.root_url||"https://api.swiftype.com",Swiftype.pingUrl=function(t,e){var n=setTimeout(e,350),i=new Image;return i.onload=i.onerror=function(){clearTimeout(n),e()},i.src=t,!1},Swiftype.pingSearchResultClick=function(t,e,n){e={t:(new Date).getTime(),engine_key:t,doc_id:e,q:Swiftype.currentQuery},e=Swiftype.root_url+"/api/v1/public/analytics/pc?"+u.param(e);Swiftype.pingUrl(e,n)},u.fn.swiftypeSearch=function(i){i=u.extend({},u.fn.swiftypeSearch.defaults,i);return this.each(function(){var n=u(this),o=u.meta?u.extend({},i,n.data()):i;n.data("swiftype-config-search",o),n.selectedCallback=function(n){return function(t){var e=u(this);t.preventDefault(),Swiftype.pingSearchResultClick(o.engineKey,n.id,function(){window.location=e.attr("href")})}},n.registerResult=function(t,e){t.data("swiftype-item",e),u("a",t).click(n.selectedCallback(e))},n.getContentCache=function(){return u("#"+a)};function e(t,e){location.hash="stq="+encodeURIComponent(t)+"&stp="+e}var s=u(o.resultContainingElement),r=s.html(),a="st-content-cache",l=n.getContentCache();u(window).hashchange(function(){var t=u.hashParams();t.stq?function(t,e){e=u.extend({page:1},e);var n={};function i(t){if(void 0!==t){var e=t;return e="function"==typeof t?t.call():e}}l.length||(s.after("<div id='"+a+"' style='display: none;'></div>"),l.html(r).hide()),o.loadingFunction(t,s),Swiftype.currentQuery=t,n.q=t,n.engine_key=o.engineKey,n.page=e.page,n.per_page=o.perPage,n.search_fields=i(o.searchFields),n.fetch_fields=i(o.fetchFields),n.filters=i(o.filters),n.document_types=i(o.documentTypes),n.functional_boosts=i(o.functionalBoosts),n.sort_field=i(o.sortField),n.sort_direction=i(o.sortDirection),u.getJSON(Swiftype.root_url+"/api/v1/public/engines/search.json?callback=?",n).success(c)}(t.stq,{page:t.stp}):(t=n.getContentCache()).length&&(s.html(t.html()),t.remove())});var t=n.parents("form");t&&t.bind("submit",function(t){t.preventDefault();t=n.val();e(t,1)}),u(document).on("click","[data-hash][data-page]",function(t){t.preventDefault();t=u(this);e(u.hashParams().stq,t.data("page"))});var c=function(t){"function"==typeof o.preRenderFunction&&o.preRenderFunction.call(n,t),o.renderResultsFunction(n.getContext(),t),"function"==typeof o.postRenderFunction&&o.postRenderFunction.call(n,t)};n.getContext=function(){return{config:o,resultContainer:s,registerResult:n.registerResult}},u(window).hashchange()})};var r=function(t,e,n){var i='<div class="st-page">';return 1!=e&&(i=i+'<a href="#" class="st-prev" data-hash="true" data-page="'+(e-1)+'">&laquo; previous</a>'),e<n&&(i=i+'<a href="#" class="st-next" data-hash="true" data-page="'+(e+1)+'">next &raquo;</a>'),i+="</div>"};u.fn.swiftypeSearch.defaults={attachTo:void 0,documentTypes:void 0,filters:void 0,engineKey:void 0,searchFields:void 0,functionalBoosts:void 0,sortField:void 0,sortDirection:void 0,fetchFields:void 0,preRenderFunction:void 0,postRenderFunction:function(t){var n=0,e=this.getContext().resultContainer;t.info&&u.each(t.info,function(t,e){n+=e.total_result_count}),0===n&&e.html("<div id='st-no-results' class='st-no-results'>No results found.</div>")},loadingFunction:function(t,e){e.html('<p class="st-loading-message">loading...</p>')},renderResultsFunction:function(i,t){var o=i.resultContainer,s=i.config;o.html(""),u.each(t.records,function(n,t){u.each(t,function(t,e){i.registerResult(u(s.renderFunction(n,e)).appendTo(o),e)})}),function(t,e){var n,i=-1;u.each(e,function(t,e){e.num_pages>i&&(n=t,i=e.num_pages)});var o=e[n].current_page,e=e[n].num_pages;u(r(n,o,e)).appendTo(t.resultContainer)}(i,t.info)},renderFunction:function(t,e){return'<div class="st-result"><h3 class="title"><a href="'+e.url+'" class="st-search-result-link">'+(e=e.title,String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"))+"</a></h3></div>"},perPage:10}}(jQuery),function(f){"use strict";var h,p=null;!function(){for(var o,s,r,a,t=["webkit","moz","o","ms"],e=f.document.createElement("div"),n=-1,n=0;n<t.length&&!f.requestAnimationFrame;n++)f.requestAnimationFrame=f[t[n]+"RequestAnimationFrame"];function i(){}void 0===e.nextElementSibling&&Object.defineProperty(f.Element.prototype,"nextElementSibling",{get:function(){for(var t=this.nextSibling;t;){if(1===t.nodeType)return t;t=t.nextSibling}return null}}),(e=f.Element.prototype).matches=e.matches||e.machesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(t){return-1<Array.prototype.indexOf.call(this.parentElement.querySelectorAll(t),this)},Object.keys||(Object.keys=(o=Object.prototype.hasOwnProperty,s=[],r=!{toString:null}.propertyIsEnumerable("toString"),a=(s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){var e=[],n="",i=-1;if("object"!=typeof t&&("function"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");for(n in t)o.call(t,n)&&e.push(n);if(r)for(i=0;i<a;i++)o.call(t,s[i])&&e.push(s[i]);return e})),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),"function"!=typeof Object.create&&(Object.create=function(t,e){if(t!==Object(t)&&null!==t)throw TypeError("Argument must be an object, or null");i.prototype=t||{};var n=new i;return i.prototype=null,void 0!==e&&Object.defineProperties(n,e),null===t&&(n.__proto__=null),n}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e,n,i,o;if(null===this)throw new TypeError;if(0==(o=(i=Object(this)).length>>>0))return-1;if(e=0,1<arguments.length&&((e=Number(arguments[1]))!=e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(0<e||-1)*Math.floor(Math.abs(e)))),o<=e)return-1;for(n=0<=e?e:Math.max(o-Math.abs(e),0);n<o;n++)if(n in i&&i[n]===t)return n;return-1}),Function.prototype.bind||(Function.prototype.bind=function(t){var e,n,i,o;if("function"!=typeof this)throw new TypeError;return e=Array.prototype.slice.call(arguments,1),i=function(){},o=function(){return n.apply(this instanceof i?this:t,e.concat(Array.prototype.slice.call(arguments)))},(n=this).prototype&&(i.prototype=this.prototype),o.prototype=new i,o}),f.Element.prototype.dispatchEvent||(f.Element.prototype.dispatchEvent=function(t){try{return this.fireEvent("on"+t.type,t)}catch(t){}})}(),(h=function(t,e,n){var i,o=null,s=!1,r=null,a=null,l=[],c="",u=[],d=-1,a=n||f.document;if((s=arguments[3])&&(s="boolean"==typeof s),"string"==typeof t)u=a.querySelectorAll(t);else if(t&&"object"==typeof t&&p.isElement(t,a))u=[t];else{if(!t||"object"!=typeof t||!t.length)throw new Error(h.messages.errorFactoryInvalidContainer());u=t}if(u.length<1)throw new Error(h.messages.errorFactoryContainerNotFound());for(d=0;(o=u[d])&&(!(0<d)||s);d++)o.id?c=o.id:(c="MixItUp"+p.randomHex(),o.id=c),h.instances[c]instanceof h.Mixer?(r=h.instances[c],(!e||e.debug&&!1!==e.debug.showWarnings)&&console.warn(h.messages.warningFactoryPreexistingInstance())):((r=new h.Mixer).attach(o,a,c,e),h.instances[c]=r),i=new h.Facade(r),e&&e.debug&&e.debug.enable?l.push(r):l.push(i);return s?new h.Collection(l):l[0]}).use=function(t){h.Base.prototype.callActions.call(h,"beforeUse",arguments),"function"==typeof t&&"mixitup-extension"===t.TYPE?void 0===h.extensions[t.NAME]&&(t(h),h.extensions[t.NAME]=t):t.fn&&t.fn.jquery&&(h.libraries.$=t),h.Base.prototype.callActions.call(h,"afterUse",arguments)},h.instances={},h.extensions={},h.libraries={},p={hasClass:function(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},addClass:function(t,e){this.hasClass(t,e)||(t.className+=t.className?" "+e:e)},removeClass:function(t,e){this.hasClass(t,e)&&(e=new RegExp("(\\s|^)"+e+"(\\s|$)"),t.className=t.className.replace(e," ").trim())},extend:function(e,t,n,i){var o,s=[],r=-1;n=n||!1,i=i||!1;try{if(Array.isArray(t))for(r=0;r<t.length;r++)s.push(r);else t&&(s=Object.keys(t));for(r=0;r<s.length;r++)o=s[r],!n||"object"!=typeof t[o]||this.isElement(t[o])?e[o]=t[o]:(Array.isArray(t[o])?e[o]||(e[o]=[]):e[o]||(e[o]={}),this.extend(e[o],t[o],n,i))}catch(t){if(!i)throw t;this.handleExtendError(t,e)}return e},handleExtendError:function(t,e){var n,i=null,o="",s="",r="",a="",l=-1,c=-1;if(t instanceof TypeError&&(i=/property "?(\w*)"?[,:] object/i.exec(t.message))){for(a in o=i[1],e){for(c=0;c<o.length&&o.charAt(c)===a.charAt(c);)c++;l<c&&(l=c,r=a)}throw 1<l&&(s=h.messages.errorConfigInvalidPropertySuggestion({probableMatch:r})),n=h.messages.errorConfigInvalidProperty({erroneous:o,suggestion:s}),new TypeError(n)}throw t},template:function(i){for(var t,e=/\${([\w]*)}/g,o={};t=e.exec(i);)o[t[1]]=new RegExp("\\${"+t[1]+"}","g");return function(t){var e="",n=i;for(e in t=t||{},o)n=n.replace(o[e],void 0!==t[e]?t[e]:"");return n}},on:function(t,e,n,i){t&&(t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&(t["e"+e+n]=n,t[e+n]=function(){t["e"+e+n](f.event)},t.attachEvent("on"+e,t[e+n])))},off:function(t,e,n){t&&(t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&(t.detachEvent("on"+e,t[e+n]),t[e+n]=null))},getCustomEvent:function(t,e,n){var i=null;return n=n||f.document,"function"==typeof f.CustomEvent?i=new f.CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0}):"function"==typeof n.createEvent?(i=n.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,e):((i=n.createEventObject()).type=t,i.returnValue=!1,i.cancelBubble=!1,i.detail=e),i},getOriginalEvent:function(t){return t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t},index:function(t,e){for(var n=0;null!==(t=t.previousElementSibling);)e&&!t.matches(e)||++n;return n},camelCase:function(t){return t.toLowerCase().replace(/([_-][a-z])/g,function(t){return t.toUpperCase().replace(/[_-]/,"")})},pascalCase:function(t){return(t=this.camelCase(t)).charAt(0).toUpperCase()+t.slice(1)},dashCase:function(t){return t.replace(/([A-Z])/g,"-$1").replace(/^-/,"").toLowerCase()},isElement:function(t,e){return e=e||f.document,!!(f.HTMLElement&&t instanceof f.HTMLElement)||(!!(e.defaultView&&e.defaultView.HTMLElement&&t instanceof e.defaultView.HTMLElement)||null!==t&&1===t.nodeType&&"string"==typeof t.nodeName)},createElement:function(t,e){var n=null,i=null,n=(e=e||f.document).createDocumentFragment();for((i=e.createElement("div")).innerHTML=t.trim();i.firstChild;)n.appendChild(i.firstChild);return n},removeWhitespace:function(t){for(var e;t&&"#text"===t.nodeName;)t=(e=t).previousSibling,e.parentElement&&e.parentElement.removeChild(e)},isEqualArray:function(t,e){var n=t.length;if(n!==e.length)return!1;for(;n--;)if(t[n]!==e[n])return!1;return!0},deepEquals:function(t,e){if("object"==typeof t&&t&&"object"==typeof e&&e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!e.hasOwnProperty(n)||!this.deepEquals(t[n],e[n]))return!1}else if(t!==e)return!1;return!0},arrayShuffle:function(t){for(var e,n,i=t.slice(),o=i.length,s=o;s--;)e=~~(Math.random()*o),n=i[s],i[s]=i[e],i[e]=n;return i},arrayFromList:function(e){var n,i;try{return Array.prototype.slice.call(e)}catch(t){for(n=[],i=0;i<e.length;i++)n.push(e[i]);return n}},debounce:function(o,s,r){var a;return function(){var t=this,e=arguments,n=r&&!a,i=function(){a=null,r||o.apply(t,e)};clearTimeout(a),a=setTimeout(i,s),n&&o.apply(t,e)}},position:function(t){for(var e=0,n=0,i=t;t;)e-=t.scrollLeft,n-=t.scrollTop,t===i&&(e+=t.offsetLeft,n+=t.offsetTop,i=t.offsetParent),t=t.parentElement;return{x:e,y:n}},getHypotenuse:function(t,e){var n=(n=t.x-e.x)<0?-1*n:n,e=(e=t.y-e.y)<0?-1*e:e;return Math.sqrt(Math.pow(n,2)+Math.pow(e,2))},getIntersectionRatio:function(t,e){var n=t.width*t.height,i=Math.max(0,Math.min(t.left+t.width,e.left+e.width)-Math.max(t.left,e.left));return Math.max(0,Math.min(t.top+t.height,e.top+e.height)-Math.max(t.top,e.top))*i/n},closestParent:function(t,e,n,i){var o=t.parentNode;if(i=i||f.document,n&&t.matches(e))return t;for(;o&&o!=i.body;){if(o.matches&&o.matches(e))return o;if(!o.parentNode)return null;o=o.parentNode}return null},children:function(t,e,n){var i=[],o="";return n=n||f.doc,t&&(t.id||(o="Temp"+this.randomHexKey(),t.id=o),i=n.querySelectorAll("#"+t.id+" > "+e),o&&t.removeAttribute("id")),i},clean:function(t){for(var e=[],n=-1,n=0;n<t.length;n++)""!==t[n]&&e.push(t[n]);return e},defer:function(t){var e=null,n=null,i=null,n=new this.Deferred;return h.features.has.promises?n.promise=new Promise(function(t,e){n.resolve=t,n.reject=e}):(i=f.jQuery||t.$)&&"function"==typeof i.Deferred?(e=i.Deferred(),n.promise=e.promise(),n.resolve=e.resolve,n.reject=e.reject):f.console&&console.warn(h.messages.warningNoPromiseImplementation()),n},all:function(t,e){var n=null;return h.features.has.promises?Promise.all(t):(n=f.jQuery||e.$)&&"function"==typeof n.when?n.when.apply(n,t).done(function(){return arguments}):(f.console&&console.warn(h.messages.warningNoPromiseImplementation()),[])},getPrefix:function(t,e,n){var i=-1,o="";if(p.dashCase(e)in t.style)return"";for(i=0;o=n[i];i++)if(o+e in t.style)return o.toLowerCase();return"unsupported"},randomHex:function(){return("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6).toUpperCase()},getDocumentState:function(t){return t="object"==typeof t.body?t:f.document,{scrollTop:f.pageYOffset,scrollLeft:f.pageXOffset,docHeight:t.documentElement.scrollHeight,docWidth:t.documentElement.scrollWidth,viewportHeight:t.documentElement.clientHeight,viewportWidth:t.documentElement.clientWidth}},bind:function(t,e){return function(){return e.apply(t,arguments)}},isVisible:function(t){var e;return!!t.offsetParent||"fixed"===(e=f.getComputedStyle(t)).position&&"hidden"!==e.visibility&&"0"!==e.opacity},seal:function(t){"function"==typeof Object.seal&&Object.seal(t)},freeze:function(t){"function"==typeof Object.freeze&&Object.freeze(t)},compareVersions:function(t,e){for(var n,i,o=t.split("."),s=e.split("."),r=-1,r=0;r<o.length;r++){if(n=parseInt(o[r].replace(/[^\d.]/g,"")),(i=parseInt(s[r].replace(/[^\d.]/g,"")||0))<n)return!1;if(n<i)return!0}return!0},Deferred:function(){this.promise=null,this.resolve=null,this.reject=null,this.id=p.randomHex()},isEmptyObject:function(t){var e="";if("function"==typeof Object.keys)return 0===Object.keys(t).length;for(e in t)if(t.hasOwnProperty(e))return!1;return!0},getClassname:function(t,e,n){var i="";return(i+=t.block).length&&(i+=t.delineatorElement),i+=t["element"+this.pascalCase(e)],n?(i.length&&(i+=t.delineatorModifier),i+=n):i},getProperty:function(t,e){var n,i=e.split("."),o="",s=0;if(!e)return t;for(n=function(t){return t?t[o]:null};s<i.length;)o=i[s],t=n(t),s++;return void 0!==t?t:null}},h.h=p,(h.Base=function(){}).prototype={constructor:h.Base,callActions:function(t,e){var n=this.constructor.actions[t],i="";if(n&&!p.isEmptyObject(n))for(i in n)n[i].apply(this,e)},callFilters:function(t,e,n){var i=this.constructor.filters[t],o=e,s="";if(!i||p.isEmptyObject(i))return o;for(s in n=n||[],i)(n=p.arrayFromList(n)).unshift(o),o=i[s].apply(this,n);return o}},(h.BaseStatic=function(){this.actions={},this.filters={},this.extend=function(t){p.extend(this.prototype,t)},this.registerAction=function(t,e,n){(this.actions[t]=this.actions[t]||{})[e]=n},this.registerFilter=function(t,e,n){(this.filters[t]=this.filters[t]||{})[e]=n}}).call(h.Features=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.boxSizingPrefix="",this.transformPrefix="",this.transitionPrefix="",this.boxSizingPrefix="",this.transformProp="",this.transformRule="",this.transitionProp="",this.perspectiveProp="",this.perspectiveOriginProp="",this.has=new h.Has,this.canary=null,this.BOX_SIZING_PROP="boxSizing",this.TRANSITION_PROP="transition",this.TRANSFORM_PROP="transform",this.PERSPECTIVE_PROP="perspective",this.PERSPECTIVE_ORIGIN_PROP="perspectiveOrigin",this.VENDORS=["Webkit","moz","O","ms"],this.TWEENABLE=["opacity","width","height","marginRight","marginBottom","x","y","scale","translateX","translateY","translateZ","rotateX","rotateY","rotateZ"],this.callActions("afterConstruct")}),h.Features.prototype=Object.create(h.Base.prototype),p.extend(h.Features.prototype,{constructor:h.Features,init:function(){var t=this;t.callActions("beforeInit",arguments),t.canary=document.createElement("div"),t.setPrefixes(),t.runTests(),t.callActions("beforeInit",arguments)},runTests:function(){var t=this;t.callActions("beforeRunTests",arguments),t.has.promises="function"==typeof f.Promise,t.has.transitions="unsupported"!==t.transitionPrefix,t.callActions("afterRunTests",arguments),p.freeze(t.has)},setPrefixes:function(){var t=this;t.callActions("beforeSetPrefixes",arguments),t.transitionPrefix=p.getPrefix(t.canary,"Transition",t.VENDORS),t.transformPrefix=p.getPrefix(t.canary,"Transform",t.VENDORS),t.boxSizingPrefix=p.getPrefix(t.canary,"BoxSizing",t.VENDORS),t.boxSizingProp=t.boxSizingPrefix?t.boxSizingPrefix+p.pascalCase(t.BOX_SIZING_PROP):t.BOX_SIZING_PROP,t.transitionProp=t.transitionPrefix?t.transitionPrefix+p.pascalCase(t.TRANSITION_PROP):t.TRANSITION_PROP,t.transformProp=t.transformPrefix?t.transformPrefix+p.pascalCase(t.TRANSFORM_PROP):t.TRANSFORM_PROP,t.transformRule=t.transformPrefix?"-"+t.transformPrefix+"-"+t.TRANSFORM_PROP:t.TRANSFORM_PROP,t.perspectiveProp=t.transformPrefix?t.transformPrefix+p.pascalCase(t.PERSPECTIVE_PROP):t.PERSPECTIVE_PROP,t.perspectiveOriginProp=t.transformPrefix?t.transformPrefix+p.pascalCase(t.PERSPECTIVE_ORIGIN_PROP):t.PERSPECTIVE_ORIGIN_PROP,t.callActions("afterSetPrefixes",arguments)}}),h.Has=function(){this.transitions=!1,this.promises=!1,p.seal(this)},(h.features=new h.Features).init(),h.ConfigAnimation=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.enable=!0,this.effects="fade scale",this.effectsIn="",this.effectsOut="",this.duration=600,this.easing="ease",this.applyPerspective=!0,this.perspectiveDistance="3000px",this.perspectiveOrigin="50% 50%",this.queue=!0,this.queueLimit=3,this.animateResizeContainer=!0,this.animateResizeTargets=!1,this.staggerSequence=null,this.reverseOut=!1,this.nudge=!0,this.clampHeight=!0,this.clampWidth=!0,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.ConfigAnimation),h.ConfigAnimation.prototype=Object.create(h.Base.prototype),h.ConfigAnimation.prototype.constructor=h.ConfigAnimation,h.ConfigBehavior=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.liveSort=!1,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.ConfigBehavior),h.ConfigBehavior.prototype=Object.create(h.Base.prototype),h.ConfigBehavior.prototype.constructor=h.ConfigBehavior,h.ConfigCallbacks=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.onMixStart=null,this.onMixBusy=null,this.onMixEnd=null,this.onMixFail=null,this.onMixClick=null,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.ConfigCallbacks),h.ConfigCallbacks.prototype=Object.create(h.Base.prototype),h.ConfigCallbacks.prototype.constructor=h.ConfigCallbacks,h.ConfigControls=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.enable=!0,this.live=!1,this.scope="global",this.toggleLogic="or",this.toggleDefault="all",this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.ConfigControls),h.ConfigControls.prototype=Object.create(h.Base.prototype),h.ConfigControls.prototype.constructor=h.ConfigControls,h.ConfigClassNames=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.block="mixitup",this.elementContainer="container",this.elementFilter="control",this.elementSort="control",this.elementMultimix="control",this.elementToggle="control",this.modifierActive="active",this.modifierDisabled="disabled",this.modifierFailed="failed",this.delineatorElement="-",this.delineatorModifier="-",this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.ConfigClassNames),h.ConfigClassNames.prototype=Object.create(h.Base.prototype),h.ConfigClassNames.prototype.constructor=h.ConfigClassNames,h.ConfigData=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.uidKey="",this.dirtyCheck=!1,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.ConfigData),h.ConfigData.prototype=Object.create(h.Base.prototype),h.ConfigData.prototype.constructor=h.ConfigData,h.ConfigDebug=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.enable=!1,this.showWarnings=!0,this.fauxAsync=!1,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.ConfigDebug),h.ConfigDebug.prototype=Object.create(h.Base.prototype),h.ConfigDebug.prototype.constructor=h.ConfigDebug,h.ConfigLayout=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.allowNestedTargets=!0,this.containerClassName="",this.siblingBefore=null,this.siblingAfter=null,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.ConfigLayout),h.ConfigLayout.prototype=Object.create(h.Base.prototype),h.ConfigLayout.prototype.constructor=h.ConfigLayout,h.ConfigLoad=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.filter="all",this.sort="default:asc",this.dataset=null,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.ConfigLoad),h.ConfigLoad.prototype=Object.create(h.Base.prototype),h.ConfigLoad.prototype.constructor=h.ConfigLoad,h.ConfigSelectors=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.target=".mix",this.control="",this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.ConfigSelectors),h.ConfigSelectors.prototype=Object.create(h.Base.prototype),h.ConfigSelectors.prototype.constructor=h.ConfigSelectors,h.ConfigRender=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.target=null,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.ConfigRender),h.ConfigRender.prototype=Object.create(h.Base.prototype),h.ConfigRender.prototype.constructor=h.ConfigRender,h.ConfigTemplates=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.ConfigTemplates),h.ConfigTemplates.prototype=Object.create(h.Base.prototype),h.ConfigTemplates.prototype.constructor=h.ConfigTemplates,h.Config=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.animation=new h.ConfigAnimation,this.behavior=new h.ConfigBehavior,this.callbacks=new h.ConfigCallbacks,this.controls=new h.ConfigControls,this.classNames=new h.ConfigClassNames,this.data=new h.ConfigData,this.debug=new h.ConfigDebug,this.layout=new h.ConfigLayout,this.load=new h.ConfigLoad,this.selectors=new h.ConfigSelectors,this.render=new h.ConfigRender,this.templates=new h.ConfigTemplates,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.Config),h.Config.prototype=Object.create(h.Base.prototype),h.Config.prototype.constructor=h.Config,h.MixerDom=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.document=null,this.body=null,this.container=null,this.parent=null,this.targets=[],this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.MixerDom),h.MixerDom.prototype=Object.create(h.Base.prototype),h.MixerDom.prototype.constructor=h.MixerDom,h.UiClassNames=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.base="",this.active="",this.disabled="",this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.UiClassNames),h.UiClassNames.prototype=Object.create(h.Base.prototype),h.UiClassNames.prototype.constructor=h.UiClassNames,h.CommandDataset=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.dataset=null,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.CommandDataset),h.CommandDataset.prototype=Object.create(h.Base.prototype),h.CommandDataset.prototype.constructor=h.CommandDataset,h.CommandMultimix=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.filter=null,this.sort=null,this.insert=null,this.remove=null,this.changeLayout=null,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.CommandMultimix),h.CommandMultimix.prototype=Object.create(h.Base.prototype),h.CommandMultimix.prototype.constructor=h.CommandMultimix,h.CommandFilter=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.selector="",this.collection=null,this.action="show",this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.CommandFilter),h.CommandFilter.prototype=Object.create(h.Base.prototype),h.CommandFilter.prototype.constructor=h.CommandFilter,h.CommandSort=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.sortString="",this.attribute="",this.order="asc",this.collection=null,this.next=null,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.CommandSort),h.CommandSort.prototype=Object.create(h.Base.prototype),h.CommandSort.prototype.constructor=h.CommandSort,h.CommandInsert=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.index=0,this.collection=[],this.position="before",this.sibling=null,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.CommandInsert),h.CommandInsert.prototype=Object.create(h.Base.prototype),h.CommandInsert.prototype.constructor=h.CommandInsert,h.CommandRemove=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.targets=[],this.collection=[],this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.CommandRemove),h.CommandRemove.prototype=Object.create(h.Base.prototype),h.CommandRemove.prototype.constructor=h.CommandRemove,h.CommandChangeLayout=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.containerClassName="",this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.CommandChangeLayout),h.CommandChangeLayout.prototype=Object.create(h.Base.prototype),h.CommandChangeLayout.prototype.constructor=h.CommandChangeLayout,h.ControlDefinition=function(t,e,n,i){h.Base.call(this),this.callActions("beforeConstruct"),this.type=t,this.selector=e,this.live=n||!1,this.parent=i||"",this.callActions("afterConstruct"),p.freeze(this),p.seal(this)},h.BaseStatic.call(h.ControlDefinition),h.ControlDefinition.prototype=Object.create(h.Base.prototype),h.ControlDefinition.prototype.constructor=h.ControlDefinition,(h.controlDefinitions=[]).push(new h.ControlDefinition("multimix","[data-filter][data-sort]")),h.controlDefinitions.push(new h.ControlDefinition("filter","[data-filter]")),h.controlDefinitions.push(new h.ControlDefinition("sort","[data-sort]")),h.controlDefinitions.push(new h.ControlDefinition("toggle","[data-toggle]")),h.Control=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.el=null,this.selector="",this.bound=[],this.pending=-1,this.type="",this.status="inactive",this.filter="",this.sort="",this.canDisable=!1,this.handler=null,this.classNames=new h.UiClassNames,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.Control),h.Control.prototype=Object.create(h.Base.prototype),p.extend(h.Control.prototype,{constructor:h.Control,init:function(t,e,n){var i=this;if(this.callActions("beforeInit",arguments),i.el=t,i.type=e,i.selector=n,i.selector)i.status="live";else switch(i.canDisable="boolean"==typeof i.el.disable,i.type){case"filter":i.filter=i.el.getAttribute("data-filter");break;case"toggle":i.filter=i.el.getAttribute("data-toggle");break;case"sort":i.sort=i.el.getAttribute("data-sort");break;case"multimix":i.filter=i.el.getAttribute("data-filter"),i.sort=i.el.getAttribute("data-sort")}i.bindClick(),h.controls.push(i),this.callActions("afterInit",arguments)},isBound:function(t){var e;return this.callActions("beforeIsBound",arguments),e=-1<this.bound.indexOf(t),this.callFilters("afterIsBound",e,arguments)},addBinding:function(t){this.callActions("beforeAddBinding",arguments),this.isBound()||this.bound.push(t),this.callActions("afterAddBinding",arguments)},removeBinding:function(t){var e=this,n=-1;this.callActions("beforeRemoveBinding",arguments),-1<(n=e.bound.indexOf(t))&&e.bound.splice(n,1),e.bound.length<1&&(e.unbindClick(),n=h.controls.indexOf(e),h.controls.splice(n,1),"active"===e.status&&e.renderStatus(e.el,"inactive")),this.callActions("afterRemoveBinding",arguments)},bindClick:function(){var e=this;this.callActions("beforeBindClick",arguments),e.handler=function(t){e.handleClick(t)},p.on(e.el,"click",e.handler),this.callActions("afterBindClick",arguments)},unbindClick:function(){this.callActions("beforeUnbindClick",arguments),p.off(this.el,"click",this.handler),this.handler=null,this.callActions("afterUnbindClick",arguments)},handleClick:function(t){var e,n=this,i=null,o=null,s=!1,r={},a=[],l=-1;if(this.callActions("beforeHandleClick",arguments),this.pending=0,o=n.bound[0],i=n.selector?p.closestParent(t.target,o.config.selectors.control+n.selector,!0,o.dom.document):n.el){switch(n.type){case"filter":r.filter=n.filter||i.getAttribute("data-filter");break;case"sort":r.sort=n.sort||i.getAttribute("data-sort");break;case"multimix":r.filter=n.filter||i.getAttribute("data-filter"),r.sort=n.sort||i.getAttribute("data-sort");break;case"toggle":r.filter=n.filter||i.getAttribute("data-toggle"),s="live"===n.status?p.hasClass(i,n.classNames.active):"active"===n.status}for(l=0;l<n.bound.length;l++)e=new h.CommandMultimix,p.extend(e,r),a.push(e);for(a=n.callFilters("commandsHandleClick",a,arguments),n.pending=n.bound.length,l=0;o=n.bound[l];l++)(r=a[l])&&(o.lastClicked||(o.lastClicked=i),h.events.fire("mixClick",o.dom.container,{state:o.state,instance:o,originalEvent:t,control:o.lastClicked},o.dom.document),"function"==typeof o.config.callbacks.onMixClick&&!1===o.config.callbacks.onMixClick.call(o.lastClicked,o.state,t,o)||("toggle"===n.type?s?o.toggleOff(r.filter):o.toggleOn(r.filter):o.multimix(r)));this.callActions("afterHandleClick",arguments)}else n.callActions("afterHandleClick",arguments)},update:function(t,e){var n=this,i=new h.CommandMultimix;n.callActions("beforeUpdate",arguments),n.pending--,n.pending=Math.max(0,n.pending),0<n.pending||("live"===n.status?n.updateLive(t,e):(i.sort=n.sort,i.filter=n.filter,n.callFilters("actionsUpdate",i,arguments),n.parseStatusChange(n.el,t,i,e)),n.callActions("afterUpdate",arguments))},updateLive:function(t,e){var n,i=this,o=null,s=null,r=-1;if(i.callActions("beforeUpdateLive",arguments),i.el){for(n=i.el.querySelectorAll(i.selector),r=0;s=n[r];r++){switch(o=new h.CommandMultimix,i.type){case"filter":o.filter=s.getAttribute("data-filter");break;case"sort":o.sort=s.getAttribute("data-sort");break;case"multimix":o.filter=s.getAttribute("data-filter"),o.sort=s.getAttribute("data-sort");break;case"toggle":o.filter=s.getAttribute("data-toggle")}o=i.callFilters("actionsUpdateLive",o,arguments),i.parseStatusChange(s,t,o,e)}i.callActions("afterUpdateLive",arguments)}},parseStatusChange:function(t,e,n,i){var o=this,s="",r=-1;switch(o.callActions("beforeParseStatusChange",arguments),o.type){case"filter":e.filter===n.filter?o.renderStatus(t,"active"):o.renderStatus(t,"inactive");break;case"multimix":e.sort===n.sort&&e.filter===n.filter?o.renderStatus(t,"active"):o.renderStatus(t,"inactive");break;case"sort":e.sort.match(/:asc/g)&&(s=e.sort.replace(/:asc/g,"")),e.sort===n.sort||s===n.sort?o.renderStatus(t,"active"):o.renderStatus(t,"inactive");break;case"toggle":for(i.length<1&&o.renderStatus(t,"inactive"),e.filter===n.filter&&o.renderStatus(t,"active"),r=0;r<i.length;r++){if(i[r]===n.filter){o.renderStatus(t,"active");break}o.renderStatus(t,"inactive")}}o.callActions("afterParseStatusChange",arguments)},renderStatus:function(t,e){var n=this;switch(n.callActions("beforeRenderStatus",arguments),e){case"active":p.addClass(t,n.classNames.active),p.removeClass(t,n.classNames.disabled),n.canDisable&&(n.el.disabled=!1);break;case"inactive":p.removeClass(t,n.classNames.active),p.removeClass(t,n.classNames.disabled),n.canDisable&&(n.el.disabled=!1);break;case"disabled":n.canDisable&&(n.el.disabled=!0),p.addClass(t,n.classNames.disabled),p.removeClass(t,n.classNames.active)}"live"!==n.status&&(n.status=e),n.callActions("afterRenderStatus",arguments)}}),h.controls=[],h.StyleData=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.x=0,this.y=0,this.top=0,this.right=0,this.bottom=0,this.left=0,this.width=0,this.height=0,this.marginRight=0,this.marginBottom=0,this.opacity=0,this.scale=new h.TransformData,this.translateX=new h.TransformData,this.translateY=new h.TransformData,this.translateZ=new h.TransformData,this.rotateX=new h.TransformData,this.rotateY=new h.TransformData,this.rotateZ=new h.TransformData,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.StyleData),h.StyleData.prototype=Object.create(h.Base.prototype),h.StyleData.prototype.constructor=h.StyleData,h.TransformData=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.value=0,this.unit="",this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.TransformData),h.TransformData.prototype=Object.create(h.Base.prototype),h.TransformData.prototype.constructor=h.TransformData,h.TransformDefaults=function(){h.StyleData.apply(this),this.callActions("beforeConstruct"),this.scale.value=.01,this.scale.unit="",this.translateX.value=20,this.translateX.unit="px",this.translateY.value=20,this.translateY.unit="px",this.translateZ.value=20,this.translateZ.unit="px",this.rotateX.value=90,this.rotateX.unit="deg",this.rotateY.value=90,this.rotateY.unit="deg",this.rotateX.value=90,this.rotateX.unit="deg",this.rotateZ.value=180,this.rotateZ.unit="deg",this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.TransformDefaults),h.TransformDefaults.prototype=Object.create(h.StyleData.prototype),h.TransformDefaults.prototype.constructor=h.TransformDefaults,h.transformDefaults=new h.TransformDefaults,h.EventDetail=function(){this.state=null,this.futureState=null,this.instance=null,this.originalEvent=null},h.Events=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.mixStart=null,this.mixBusy=null,this.mixEnd=null,this.mixFail=null,this.mixClick=null,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.Events),h.Events.prototype=Object.create(h.Base.prototype),h.Events.prototype.constructor=h.Events,h.Events.prototype.fire=function(t,e,n,i){var o,s=new h.EventDetail;if(this.callActions("beforeFire",arguments),void 0===this[t])throw new Error('Event type "'+t+'" not found.');s.state=new h.State,p.extend(s.state,n.state),n.futureState&&(s.futureState=new h.State,p.extend(s.futureState,n.futureState)),s.instance=n.instance,n.originalEvent&&(s.originalEvent=n.originalEvent),o=p.getCustomEvent(t,s,i),this.callFilters("eventFire",o,arguments),e.dispatchEvent(o)},h.events=new h.Events,h.QueueItem=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.args=[],this.instruction=null,this.triggerElement=null,this.deferred=null,this.isToggling=!1,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.QueueItem),h.QueueItem.prototype=Object.create(h.Base.prototype),h.QueueItem.prototype.constructor=h.QueueItem,h.Mixer=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.config=new h.Config,this.id="",this.isBusy=!1,this.isToggling=!1,this.incPadding=!0,this.controls=[],this.targets=[],this.origOrder=[],this.cache={},this.toggleArray=[],this.targetsMoved=0,this.targetsImmovable=0,this.targetsBound=0,this.targetsDone=0,this.staggerDuration=0,this.effectsIn=null,this.effectsOut=null,this.transformIn=[],this.transformOut=[],this.queue=[],this.state=null,this.lastOperation=null,this.lastClicked=null,this.userCallback=null,this.userDeferred=null,this.dom=new h.MixerDom,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.Mixer),h.Mixer.prototype=Object.create(h.Base.prototype),p.extend(h.Mixer.prototype,{constructor:h.Mixer,attach:function(t,e,n,i){var o=this,s=null,r=-1;for(o.callActions("beforeAttach",arguments),o.id=n,i&&p.extend(o.config,i,!0,!0),o.sanitizeConfig(),o.cacheDom(t,e),o.config.layout.containerClassName&&p.addClass(o.dom.container,o.config.layout.containerClassName),h.features.has.transitions||(o.config.animation.enable=!1),void 0===f.console&&(o.config.debug.showWarnings=!1),o.config.data.uidKey&&(o.config.controls.enable=!1),o.indexTargets(),o.state=o.getInitialState(),r=0;s=o.lastOperation.toHide[r];r++)s.hide();o.config.controls.enable&&(o.initControls(),o.buildToggleArray(null,o.state),o.updateControls({filter:o.state.activeFilter,sort:o.state.activeSort})),o.parseEffects(),o.callActions("afterAttach",arguments)},sanitizeConfig:function(){var t=this;t.callActions("beforeSanitizeConfig",arguments),t.config.controls.scope=t.config.controls.scope.toLowerCase().trim(),t.config.controls.toggleLogic=t.config.controls.toggleLogic.toLowerCase().trim(),t.config.controls.toggleDefault=t.config.controls.toggleDefault.toLowerCase().trim(),t.config.animation.effects=t.config.animation.effects.trim(),t.callActions("afterSanitizeConfig",arguments)},getInitialState:function(){var t=this,e=new h.State,n=new h.Operation;if(t.callActions("beforeGetInitialState",arguments),e.activeContainerClassName=t.config.layout.containerClassName,t.config.load.dataset){if(!t.config.data.uidKey||"string"!=typeof t.config.data.uidKey)throw new TypeError(h.messages.errorConfigDataUidKeyNotSet());n.startDataset=n.newDataset=e.activeDataset=t.config.load.dataset.slice(),n.startContainerClassName=n.newContainerClassName=e.activeContainerClassName,n.show=t.targets.slice(),e=t.callFilters("stateGetInitialState",e,arguments)}else e.activeFilter=t.parseFilterArgs([t.config.load.filter]).command,e.activeSort=t.parseSortArgs([t.config.load.sort]).command,e.totalTargets=t.targets.length,(e=t.callFilters("stateGetInitialState",e,arguments)).activeSort.collection||e.activeSort.attribute||"random"===e.activeSort.order||"desc"===e.activeSort.order?(n.newSort=e.activeSort,t.sortOperation(n),t.printSort(!1,n),t.targets=n.newOrder):n.startOrder=n.newOrder=t.targets,n.startFilter=n.newFilter=e.activeFilter,n.startSort=n.newSort=e.activeSort,n.startContainerClassName=n.newContainerClassName=e.activeContainerClassName,"all"===n.newFilter.selector?n.newFilter.selector=t.config.selectors.target:"none"===n.newFilter.selector&&(n.newFilter.selector="");return n=t.callFilters("operationGetInitialState",n,[e]),(t.lastOperation=n).newFilter&&t.filterOperation(n),e=t.buildState(n)},cacheDom:function(t,e){var n=this;n.callActions("beforeCacheDom",arguments),n.dom.document=e,n.dom.body=n.dom.document.querySelector("body"),n.dom.container=t,n.dom.parent=t,n.callActions("afterCacheDom",arguments)},indexTargets:function(){var t,e,n=this,i=null,o=-1;if(n.callActions("beforeIndexTargets",arguments),n.dom.targets=n.config.layout.allowNestedTargets?n.dom.container.querySelectorAll(n.config.selectors.target):p.children(n.dom.container,n.config.selectors.target,n.dom.document),n.dom.targets=p.arrayFromList(n.dom.targets),n.targets=[],(e=n.config.load.dataset)&&e.length!==n.dom.targets.length)throw new Error(h.messages.errorDatasetPrerenderedMismatch());if(n.dom.targets.length){for(o=0;t=n.dom.targets[o];o++)(i=new h.Target).init(t,n,e?e[o]:void 0),i.isInDom=!0,n.targets.push(i);n.dom.parent=n.dom.targets[0].parentElement===n.dom.container?n.dom.container:n.dom.targets[0].parentElement}n.origOrder=n.targets,n.callActions("afterIndexTargets",arguments)},initControls:function(){var t,e,n=this,i=null,o=null,s=null,r=null,a=-1,l=-1;switch(n.callActions("beforeInitControls",arguments),n.config.controls.scope){case"local":o=n.dom.container;break;case"global":o=n.dom.document;break;default:throw new Error(h.messages.errorConfigInvalidControlsScope())}for(a=0;t=h.controlDefinitions[a];a++)if(n.config.controls.live||t.live){if(t.parent){if(!(s=n.dom[t.parent])||s.length<0)continue;"number"!=typeof s.length&&(s=[s])}else s=[o];for(l=0;i=s[l];l++)r=n.getControl(i,t.type,t.selector),n.controls.push(r)}else for(e=o.querySelectorAll(n.config.selectors.control+t.selector),l=0;i=e[l];l++)(r=n.getControl(i,t.type,""))&&n.controls.push(r);n.callActions("afterInitControls",arguments)},getControl:function(t,e,n){var i=this,o=null,s=-1;if(i.callActions("beforeGetControl",arguments),!n)for(s=0;o=h.controls[s];s++){if(o.el===t&&o.isBound(i))return i.callFilters("controlGetControl",null,arguments);if(o.el===t&&o.type===e&&o.selector===n)return o.addBinding(i),i.callFilters("controlGetControl",o,arguments)}return(o=new h.Control).init(t,e,n),o.classNames.base=p.getClassname(i.config.classNames,e),o.classNames.active=p.getClassname(i.config.classNames,e,i.config.classNames.modifierActive),o.classNames.disabled=p.getClassname(i.config.classNames,e,i.config.classNames.modifierDisabled),o.addBinding(i),i.callFilters("controlGetControl",o,arguments)},getToggleSelector:function(){var t=this,e="or"===t.config.controls.toggleLogic?", ":"",n="";return t.callActions("beforeGetToggleSelector",arguments),t.toggleArray=p.clean(t.toggleArray),""===(n=t.toggleArray.join(e))&&(n=t.config.controls.toggleDefault),t.callFilters("selectorGetToggleSelector",n,arguments)},buildToggleArray:function(t,e){var n=this,i="";if(n.callActions("beforeBuildToggleArray",arguments),t&&t.filter)i=t.filter.selector.replace(/\s/g,"");else{if(!e)return;i=e.activeFilter.selector.replace(/\s/g,"")}i!==n.config.selectors.target&&"all"!==i||(i=""),"or"===n.config.controls.toggleLogic?n.toggleArray=i.split(","):n.toggleArray=n.splitCompoundSelector(i),n.toggleArray=p.clean(n.toggleArray),n.callActions("afterBuildToggleArray",arguments)},splitCompoundSelector:function(t){var e=t.split(/([\.\[])/g),n=[],i="",o=-1;for(""===e[0]&&e.shift(),o=0;o<e.length;o++)o%2==0&&(i=""),i+=e[o],o%2!=0&&n.push(i);return n},updateControls:function(t){var e=this,n=null,i=new h.CommandMultimix,o=-1;for(e.callActions("beforeUpdateControls",arguments),t.filter?i.filter=t.filter.selector:i.filter=e.state.activeFilter.selector,t.sort?i.sort=e.buildSortString(t.sort):i.sort=e.buildSortString(e.state.activeSort),i.filter===e.config.selectors.target&&(i.filter="all"),""===i.filter&&(i.filter="none"),p.freeze(i),o=0;n=e.controls[o];o++)n.update(i,e.toggleArray);e.callActions("afterUpdateControls",arguments)},buildSortString:function(t){var e="";return e+=t.sortString,t.next&&(e+=" "+this.buildSortString(t.next)),e},insertTargets:function(t,e){var n,i=this,o=-1,s=null,r=null,a=null,l=-1;if(i.callActions("beforeInsertTargets",arguments),void 0===t.index&&(t.index=0),n=i.getNextSibling(t.index,t.sibling,t.position),s=i.dom.document.createDocumentFragment(),o=n?p.index(n,i.config.selectors.target):i.targets.length,t.collection){for(l=0;a=t.collection[l];l++){if(-1<i.dom.targets.indexOf(a))throw new Error(h.messages.errorInsertPreexistingElement());a.style.display="none",s.appendChild(a),s.appendChild(i.dom.document.createTextNode(" ")),p.isElement(a,i.dom.document)&&a.matches(i.config.selectors.target)&&((r=new h.Target).init(a,i),r.isInDom=!0,i.targets.splice(o,0,r),o++)}i.dom.parent.insertBefore(s,n)}e.startOrder=i.origOrder=i.targets,i.callActions("afterInsertTargets",arguments)},getNextSibling:function(t,e,n){var i=this,o=null;return t=Math.max(t,0),e&&"before"===n?o=e:e&&"after"===n?o=e.nextElementSibling||null:0<i.targets.length&&void 0!==t?o=t<i.targets.length||!i.targets.length?i.targets[t].dom.el:i.targets[i.targets.length-1].dom.el.nextElementSibling:0===i.targets.length&&0<i.dom.parent.children.length&&(i.config.layout.siblingAfter?o=i.config.layout.siblingAfter:i.config.layout.siblingBefore?o=i.config.layout.siblingBefore.nextElementSibling:i.dom.parent.children[0]),i.callFilters("elementGetNextSibling",o,arguments)},filterOperation:function(t){var e,n,i=!1,o=null,s=-1;for(this.callActions("beforeFilterOperation",arguments),n=t.newFilter.action,s=0;o=t.newOrder[s];s++)i=t.newFilter.collection?-1<t.newFilter.collection.indexOf(o.dom.el):""!==t.newFilter.selector&&o.dom.el.matches(t.newFilter.selector),this.evaluateHideShow(i,o,n,t);if(t.toRemove.length)for(s=0;o=t.show[s];s++)-1<t.toRemove.indexOf(o)&&(t.show.splice(s,1),-1<(e=t.toShow.indexOf(o))&&t.toShow.splice(e,1),t.toHide.push(o),t.hide.push(o),s--);t.matching=t.show.slice(),0===t.show.length&&""!==t.newFilter.selector&&0!==this.targets.length&&(t.hasFailed=!0),this.callActions("afterFilterOperation",arguments)},evaluateHideShow:function(t,e,n,i){var o=Array.prototype.slice.call(arguments,1),s=this.callFilters("testResultEvaluateHideShow",t,o);this.callActions("beforeEvaluateHideShow",arguments),!0===s&&"show"===n||!1===s&&"hide"===n?(i.show.push(e),e.isShown||i.toShow.push(e)):(i.hide.push(e),e.isShown&&i.toHide.push(e)),this.callActions("afterEvaluateHideShow",arguments)},sortOperation:function(n){var i=this;i.callActions("beforeSortOperation",arguments),n.startOrder=i.targets,n.newSort.collection?n.newOrder=n.newSort.collection:"random"===n.newSort.order?n.newOrder=p.arrayShuffle(n.startOrder):""===n.newSort.attribute?(n.newOrder=i.origOrder.slice(),"desc"===n.newSort.order&&n.newOrder.reverse()):(n.newOrder=n.startOrder.slice(),n.newOrder.sort(function(t,e){return i.compare(t,e,n.newSort)})),p.isEqualArray(n.newOrder,n.startOrder)&&(n.willSort=!1),i.callActions("afterSortOperation",arguments)},compare:function(t,e,n){var i=n.order,o=this.getAttributeValue(t,n.attribute),s=this.getAttributeValue(e,n.attribute),s=isNaN(+o)||isNaN(+s)?(o=o.toLowerCase(),s.toLowerCase()):(o=+o,+s);return o<s?"asc"===i?-1:1:s<o?"asc"===i?1:-1:o===s&&n.next?this.compare(t,e,n.next):0},getAttributeValue:function(t,e){var n="";return null===(n=t.dom.el.getAttribute("data-"+e))&&this.config.debug.showWarnings&&console.warn(h.messages.warningInconsistentSortingAttributes({attribute:"data-"+e})),this.callFilters("valueGetAttributeValue",n||0,arguments)},printSort:function(t,e){var n=this,i=t?e.newOrder:e.startOrder,o=t?e.startOrder:e.newOrder,t=i.length?i[i.length-1].dom.el.nextElementSibling:null,s=f.document.createDocumentFragment(),e=null,r=null,a=null,l=-1;for(n.callActions("beforePrintSort",arguments),l=0;r=i[l];l++)"absolute"!==(a=r.dom.el).style.position&&(p.removeWhitespace(a.previousSibling),a.parentElement.removeChild(a));for((e=t?t.previousSibling:n.dom.parent.lastChild)&&"#text"===e.nodeName&&p.removeWhitespace(e),l=0;r=o[l];l++)a=r.dom.el,p.isElement(s.lastChild)&&s.appendChild(f.document.createTextNode(" ")),s.appendChild(a);n.dom.parent.firstChild&&n.dom.parent.firstChild!==t&&s.insertBefore(f.document.createTextNode(" "),s.childNodes[0]),t?(s.appendChild(f.document.createTextNode(" ")),n.dom.parent.insertBefore(s,t)):n.dom.parent.appendChild(s),n.callActions("afterPrintSort",arguments)},parseSortString:function(t,e){for(var n,i=t.split(" "),o=e,s=-1,s=0;s<i.length;s++){switch(n=i[s].split(":"),o.sortString=i[s],o.attribute=p.dashCase(n[0]),o.order=n[1]||"asc",o.attribute){case"default":o.attribute="";break;case"random":o.attribute="",o.order="random"}if(!o.attribute||"random"===o.order)break;s<i.length-1&&(o.next=new h.CommandSort,p.freeze(o),o=o.next)}return this.callFilters("commandsParseSort",e,arguments)},parseEffects:function(){var t=this,e="",n=t.config.animation.effectsIn||t.config.animation.effects,i=t.config.animation.effectsOut||t.config.animation.effects;for(e in t.callActions("beforeParseEffects",arguments),t.effectsIn=new h.StyleData,t.effectsOut=new h.StyleData,t.transformIn=[],t.transformOut=[],t.effectsIn.opacity=t.effectsOut.opacity=1,t.parseEffect("fade",n,t.effectsIn,t.transformIn),t.parseEffect("fade",i,t.effectsOut,t.transformOut,!0),h.transformDefaults)h.transformDefaults[e]instanceof h.TransformData&&(t.parseEffect(e,n,t.effectsIn,t.transformIn),t.parseEffect(e,i,t.effectsOut,t.transformOut,!0));t.parseEffect("stagger",n,t.effectsIn,t.transformIn),t.parseEffect("stagger",i,t.effectsOut,t.transformOut,!0),t.callActions("afterParseEffects",arguments)},parseEffect:function(t,e,n,i,o){var s,r,a,l=this,c="",u=["%","px","em","rem","vh","vw","deg"],d=-1;if(l.callActions("beforeParseEffect",arguments),"string"!=typeof e)throw new TypeError(h.messages.errorConfigInvalidAnimationEffects());if(e.indexOf(t)<0)"stagger"===t&&(l.staggerDuration=0);else{switch(-1<(s=e.indexOf(t+"("))&&(r=e.substring(s),c=/\(([^)]+)\)/.exec(r)[1]),t){case"fade":n.opacity=c?parseFloat(c):0;break;case"stagger":l.staggerDuration=c?parseFloat(c):100;break;default:if(o&&l.config.animation.reverseOut&&"scale"!==t?n[t].value=-1*(c?parseFloat(c):h.transformDefaults[t].value):n[t].value=c?parseFloat(c):h.transformDefaults[t].value,c){for(d=0;a=u[d];d++)if(-1<c.indexOf(a)){n[t].unit=a;break}}else n[t].unit=h.transformDefaults[t].unit;i.push(t+"("+n[t].value+n[t].unit+")")}l.callActions("afterParseEffect",arguments)}},buildState:function(t){var e=this,n=new h.State,i=null,o=-1;for(e.callActions("beforeBuildState",arguments),o=0;i=e.targets[o];o++)(!t.toRemove.length||t.toRemove.indexOf(i)<0)&&n.targets.push(i.dom.el);for(o=0;i=t.matching[o];o++)n.matching.push(i.dom.el);for(o=0;i=t.show[o];o++)n.show.push(i.dom.el);for(o=0;i=t.hide[o];o++)(!t.toRemove.length||t.toRemove.indexOf(i)<0)&&n.hide.push(i.dom.el);return n.id=e.id,n.container=e.dom.container,n.activeFilter=t.newFilter,n.activeSort=t.newSort,n.activeDataset=t.newDataset,n.activeContainerClassName=t.newContainerClassName,n.hasFailed=t.hasFailed,n.totalTargets=e.targets.length,n.totalShow=t.show.length,n.totalHide=t.hide.length,n.totalMatching=t.matching.length,n.triggerElement=t.triggerElement,e.callFilters("stateBuildState",n,arguments)},goMix:function(t,e){var n=this,i=null;return n.callActions("beforeGoMix",arguments),n.config.animation.duration&&n.config.animation.effects&&p.isVisible(n.dom.container)||(t=!1),e.toShow.length||e.toHide.length||e.willSort||e.willChangeLayout||(t=!1),e.startState.show.length||e.show.length||(t=!1),h.events.fire("mixStart",n.dom.container,{state:e.startState,futureState:e.newState,instance:n},n.dom.document),"function"==typeof n.config.callbacks.onMixStart&&n.config.callbacks.onMixStart.call(n.dom.container,e.startState,e.newState,n),p.removeClass(n.dom.container,p.getClassname(n.config.classNames,"container",n.config.classNames.modifierFailed)),i=n.userDeferred||(n.userDeferred=p.defer(h.libraries)),n.isBusy=!0,t&&h.features.has.transitions?(f.pageYOffset!==e.docState.scrollTop&&f.scrollTo(e.docState.scrollLeft,e.docState.scrollTop),n.config.animation.applyPerspective&&(n.dom.parent.style[h.features.perspectiveProp]=n.config.animation.perspectiveDistance,n.dom.parent.style[h.features.perspectiveOriginProp]=n.config.animation.perspectiveOrigin),n.config.animation.animateResizeContainer&&e.startHeight!==e.newHeight&&e.viewportDeltaY!==e.startHeight-e.newHeight&&(n.dom.parent.style.height=e.startHeight+"px"),n.config.animation.animateResizeContainer&&e.startWidth!==e.newWidth&&e.viewportDeltaX!==e.startWidth-e.newWidth&&(n.dom.parent.style.width=e.startWidth+"px"),e.startHeight===e.newHeight&&(n.dom.parent.style.height=e.startHeight+"px"),e.startWidth===e.newWidth&&(n.dom.parent.style.width=e.startWidth+"px"),e.startHeight===e.newHeight&&e.startWidth===e.newWidth&&(n.dom.parent.style.overflow="hidden"),requestAnimationFrame(function(){n.moveTargets(e)})):n.config.debug.fauxAsync?setTimeout(function(){n.cleanUp(e)},n.config.animation.duration):n.cleanUp(e),n.callFilters("promiseGoMix",i.promise,arguments)},getStartMixData:function(t){var e=this,n=f.getComputedStyle(e.dom.parent),i=e.dom.parent.getBoundingClientRect(),o=null,s={},r=-1,a=n[h.features.boxSizingProp];for(e.incPadding="border-box"===a,e.callActions("beforeGetStartMixData",arguments),r=0;o=t.show[r];r++)s=o.getPosData(),t.showPosData[r]={startPosData:s};for(r=0;o=t.toHide[r];r++)s=o.getPosData(),t.toHidePosData[r]={startPosData:s};t.startX=i.left,t.startY=i.top,t.startHeight=e.incPadding?i.height:i.height-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderTop)-parseFloat(n.borderBottom),t.startWidth=e.incPadding?i.width:i.width-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderLeft)-parseFloat(n.borderRight),e.callActions("afterGetStartMixData",arguments)},setInter:function(t){var e=this,n=null,i=-1;for(e.callActions("beforeSetInter",arguments),e.config.animation.clampHeight&&(e.dom.parent.style.height=t.startHeight+"px",e.dom.parent.style.overflow="hidden"),e.config.animation.clampWidth&&(e.dom.parent.style.width=t.startWidth+"px",e.dom.parent.style.overflow="hidden"),i=0;n=t.toShow[i];i++)n.show();t.willChangeLayout&&(p.removeClass(e.dom.container,t.startContainerClassName),p.addClass(e.dom.container,t.newContainerClassName)),e.callActions("afterSetInter",arguments)},getInterMixData:function(t){var e=null,n=-1;for(this.callActions("beforeGetInterMixData",arguments),n=0;e=t.show[n];n++)t.showPosData[n].interPosData=e.getPosData();for(n=0;e=t.toHide[n];n++)t.toHidePosData[n].interPosData=e.getPosData();this.callActions("afterGetInterMixData",arguments)},setFinal:function(t){var e=null,n=-1;for(this.callActions("beforeSetFinal",arguments),t.willSort&&this.printSort(!1,t),n=0;e=t.toHide[n];n++)e.hide();this.callActions("afterSetFinal",arguments)},getFinalMixData:function(t){var e,n=this,i=null,o=null,s=-1;for(n.callActions("beforeGetFinalMixData",arguments),s=0;o=t.show[s];s++)t.showPosData[s].finalPosData=o.getPosData();for(s=0;o=t.toHide[s];s++)t.toHidePosData[s].finalPosData=o.getPosData();for((n.config.animation.clampHeight||n.config.animation.clampWidth)&&(n.dom.parent.style.height=n.dom.parent.style.width=n.dom.parent.style.overflow=""),n.incPadding||(i=f.getComputedStyle(n.dom.parent)),e=n.dom.parent.getBoundingClientRect(),t.newX=e.left,t.newY=e.top,t.newHeight=n.incPadding?e.height:e.height-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderTop)-parseFloat(i.borderBottom),t.newWidth=n.incPadding?e.width:e.width-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderLeft)-parseFloat(i.borderRight),t.viewportDeltaX=t.docState.viewportWidth-this.dom.document.documentElement.clientWidth,t.viewportDeltaY=t.docState.viewportHeight-this.dom.document.documentElement.clientHeight,t.willSort&&n.printSort(!0,t),s=0;o=t.toShow[s];s++)o.hide();for(s=0;o=t.toHide[s];s++)o.show();t.willChangeLayout&&(p.removeClass(n.dom.container,t.newContainerClassName),p.addClass(n.dom.container,n.config.layout.containerClassName)),n.callActions("afterGetFinalMixData",arguments)},getTweenData:function(t){var e=this,n=null,i=null,o=Object.getOwnPropertyNames(e.effectsIn),s="",r=null,a=-1,l=-1,c=-1,u=-1;for(e.callActions("beforeGetTweenData",arguments),c=0;n=t.show[c];c++)for((i=t.showPosData[c]).posIn=new h.StyleData,i.posOut=new h.StyleData,i.tweenData=new h.StyleData,n.isShown?(i.posIn.x=i.startPosData.x-i.interPosData.x,i.posIn.y=i.startPosData.y-i.interPosData.y):i.posIn.x=i.posIn.y=0,i.posOut.x=i.finalPosData.x-i.interPosData.x,i.posOut.y=i.finalPosData.y-i.interPosData.y,i.posIn.opacity=n.isShown?1:e.effectsIn.opacity,i.posOut.opacity=1,i.tweenData.opacity=i.posOut.opacity-i.posIn.opacity,n.isShown||e.config.animation.nudge||(i.posIn.x=i.posOut.x,i.posIn.y=i.posOut.y),i.tweenData.x=i.posOut.x-i.posIn.x,i.tweenData.y=i.posOut.y-i.posIn.y,e.config.animation.animateResizeTargets&&(i.posIn.width=i.startPosData.width,i.posIn.height=i.startPosData.height,a=(i.startPosData.width||i.finalPosData.width)-i.interPosData.width,i.posIn.marginRight=i.startPosData.marginRight-a,l=(i.startPosData.height||i.finalPosData.height)-i.interPosData.height,i.posIn.marginBottom=i.startPosData.marginBottom-l,i.posOut.width=i.finalPosData.width,i.posOut.height=i.finalPosData.height,a=(i.finalPosData.width||i.startPosData.width)-i.interPosData.width,i.posOut.marginRight=i.finalPosData.marginRight-a,l=(i.finalPosData.height||i.startPosData.height)-i.interPosData.height,i.posOut.marginBottom=i.finalPosData.marginBottom-l,i.tweenData.width=i.posOut.width-i.posIn.width,i.tweenData.height=i.posOut.height-i.posIn.height,i.tweenData.marginRight=i.posOut.marginRight-i.posIn.marginRight,i.tweenData.marginBottom=i.posOut.marginBottom-i.posIn.marginBottom),u=0;s=o[u];u++)(r=e.effectsIn[s])instanceof h.TransformData&&r.value&&(i.posIn[s].value=r.value,i.posOut[s].value=0,i.tweenData[s].value=i.posOut[s].value-i.posIn[s].value,i.posIn[s].unit=i.posOut[s].unit=i.tweenData[s].unit=r.unit);for(c=0;n=t.toHide[c];c++)for((i=t.toHidePosData[c]).posIn=new h.StyleData,i.posOut=new h.StyleData,i.tweenData=new h.StyleData,i.posIn.x=n.isShown?i.startPosData.x-i.interPosData.x:0,i.posIn.y=n.isShown?i.startPosData.y-i.interPosData.y:0,i.posOut.x=e.config.animation.nudge?0:i.posIn.x,i.posOut.y=e.config.animation.nudge?0:i.posIn.y,i.tweenData.x=i.posOut.x-i.posIn.x,i.tweenData.y=i.posOut.y-i.posIn.y,e.config.animation.animateResizeTargets&&(i.posIn.width=i.startPosData.width,i.posIn.height=i.startPosData.height,a=i.startPosData.width-i.interPosData.width,i.posIn.marginRight=i.startPosData.marginRight-a,l=i.startPosData.height-i.interPosData.height,i.posIn.marginBottom=i.startPosData.marginBottom-l),i.posIn.opacity=1,i.posOut.opacity=e.effectsOut.opacity,i.tweenData.opacity=i.posOut.opacity-i.posIn.opacity,u=0;s=o[u];u++)(r=e.effectsOut[s])instanceof h.TransformData&&r.value&&(i.posIn[s].value=0,i.posOut[s].value=r.value,i.tweenData[s].value=i.posOut[s].value-i.posIn[s].value,i.posIn[s].unit=i.posOut[s].unit=i.tweenData[s].unit=r.unit);e.callActions("afterGetTweenData",arguments)},moveTargets:function(t){var e=this,n=null,i=null,o=null,s="",r=!1,a=-1,l=-1,c=e.checkProgress.bind(e);for(e.callActions("beforeMoveTargets",arguments),l=0;n=t.show[l];l++)i=new h.IMoveData,o=t.showPosData[l],s=n.isShown?"none":"show",(r=e.willTransition(s,t.hasEffect,o.posIn,o.posOut))&&a++,n.show(),i.posIn=o.posIn,i.posOut=o.posOut,i.statusChange=s,i.staggerIndex=a,i.operation=t,i.callback=r?c:null,n.move(i);for(l=0;n=t.toHide[l];l++)o=t.toHidePosData[l],i=new h.IMoveData,r=e.willTransition(s="hide",o.posIn,o.posOut),i.posIn=o.posIn,i.posOut=o.posOut,i.statusChange=s,i.staggerIndex=l,i.operation=t,i.callback=r?c:null,n.move(i);e.config.animation.animateResizeContainer&&(e.dom.parent.style[h.features.transitionProp]="height "+e.config.animation.duration+"ms ease, width "+e.config.animation.duration+"ms ease ",requestAnimationFrame(function(){t.startHeight!==t.newHeight&&t.viewportDeltaY!==t.startHeight-t.newHeight&&(e.dom.parent.style.height=t.newHeight+"px"),t.startWidth!==t.newWidth&&t.viewportDeltaX!==t.startWidth-t.newWidth&&(e.dom.parent.style.width=t.newWidth+"px")})),t.willChangeLayout&&(p.removeClass(e.dom.container,e.config.layout.ContainerClassName),p.addClass(e.dom.container,t.newContainerClassName)),e.callActions("afterMoveTargets",arguments)},hasEffect:function(){var t,e,n=["scale","translateX","translateY","translateZ","rotateX","rotateY","rotateZ"],i=!1,o=-1;if(1!==this.effectsIn.opacity)return this.callFilters("resultHasEffect",!0,arguments);for(o=0;t=n[o];o++)if(0!==("undefined"!==(e=this.effectsIn[t]).value?e.value:e)){i=!0;break}return this.callFilters("resultHasEffect",i,arguments)},willTransition:function(t,e,n,i){var o=!1,o=!!p.isVisible(this.dom.container)&&(!!("none"!==t&&e||n.x!==i.x||n.y!==i.y)||!!this.config.animation.animateResizeTargets&&(n.width!==i.width||n.height!==i.height||n.marginRight!==i.marginRight||n.marginTop!==i.marginTop));return this.callFilters("resultWillTransition",o,arguments)},checkProgress:function(t){this.targetsDone++,this.targetsBound===this.targetsDone&&this.cleanUp(t)},cleanUp:function(t){var e,n,i=this,o=null,s=null,r=-1;for(i.callActions("beforeCleanUp",arguments),r=i.targetsMoved=i.targetsImmovable=i.targetsBound=i.targetsDone=0;o=t.show[r];r++)o.cleanUp(),o.show();for(r=0;o=t.toHide[r];r++)o.cleanUp(),o.hide();if(t.willSort&&i.printSort(!1,t),i.dom.parent.style[h.features.transitionProp]=i.dom.parent.style.height=i.dom.parent.style.width=i.dom.parent.style.overflow=i.dom.parent.style[h.features.perspectiveProp]=i.dom.parent.style[h.features.perspectiveOriginProp]="",t.willChangeLayout&&(p.removeClass(i.dom.container,t.startContainerClassName),p.addClass(i.dom.container,t.newContainerClassName)),t.toRemove.length){for(r=0;o=i.targets[r];r++)-1<t.toRemove.indexOf(o)&&((e=o.dom.el.previousSibling)&&"#text"===e.nodeName&&(s=o.dom.el.nextSibling)&&"#text"===s.nodeName&&p.removeWhitespace(e),t.willSort||i.dom.parent.removeChild(o.dom.el),i.targets.splice(r,1),o.isInDom=!1,r--);i.origOrder=i.targets}t.willSort&&(i.targets=t.newOrder),i.state=t.newState,i.lastOperation=t,i.dom.targets=i.state.targets,h.events.fire("mixEnd",i.dom.container,{state:i.state,instance:i},i.dom.document),"function"==typeof i.config.callbacks.onMixEnd&&i.config.callbacks.onMixEnd.call(i.dom.container,i.state,i),t.hasFailed&&(h.events.fire("mixFail",i.dom.container,{state:i.state,instance:i},i.dom.document),"function"==typeof i.config.callbacks.onMixFail&&i.config.callbacks.onMixFail.call(i.dom.container,i.state,i),p.addClass(i.dom.container,p.getClassname(i.config.classNames,"container",i.config.classNames.modifierFailed))),"function"==typeof i.userCallback&&i.userCallback.call(i.dom.container,i.state,i),"function"==typeof i.userDeferred.resolve&&i.userDeferred.resolve(i.state),i.userCallback=null,i.userDeferred=null,i.lastClicked=null,i.isToggling=!1,i.isBusy=!1,i.queue.length&&(i.callActions("beforeReadQueueCleanUp",arguments),n=i.queue.shift(),i.userDeferred=n.deferred,i.isToggling=n.isToggling,i.lastClicked=n.triggerElement,(n.instruction.command instanceof h.CommandMultimix?i.multimix:i.dataset).apply(i,n.args)),i.callActions("afterCleanUp",arguments)},parseMultimixArgs:function(t){var e,n=this,i=new h.UserInstruction,o=-1;for(i.animate=n.config.animation.enable,i.command=new h.CommandMultimix,o=0;o<t.length;o++)null!==(e=t[o])&&("object"==typeof e?p.extend(i.command,e):"boolean"==typeof e?i.animate=e:"function"==typeof e&&(i.callback=e));return!i.command.insert||i.command.insert instanceof h.CommandInsert||(i.command.insert=n.parseInsertArgs([i.command.insert]).command),!i.command.remove||i.command.remove instanceof h.CommandRemove||(i.command.remove=n.parseRemoveArgs([i.command.remove]).command),!i.command.filter||i.command.filter instanceof h.CommandFilter||(i.command.filter=n.parseFilterArgs([i.command.filter]).command),!i.command.sort||i.command.sort instanceof h.CommandSort||(i.command.sort=n.parseSortArgs([i.command.sort]).command),!i.command.changeLayout||i.command.changeLayout instanceof h.CommandChangeLayout||(i.command.changeLayout=n.parseChangeLayoutArgs([i.command.changeLayout]).command),i=n.callFilters("instructionParseMultimixArgs",i,arguments),p.freeze(i),i},parseFilterArgs:function(t){var e,n=new h.UserInstruction,i=-1;for(n.animate=this.config.animation.enable,n.command=new h.CommandFilter,i=0;i<t.length;i++)"string"==typeof(e=t[i])?n.command.selector=e:null===e?n.command.collection=[]:"object"==typeof e&&p.isElement(e,this.dom.document)?n.command.collection=[e]:"object"==typeof e&&void 0!==e.length?n.command.collection=p.arrayFromList(e):"object"==typeof e?p.extend(n.command,e):"boolean"==typeof e?n.animate=e:"function"==typeof e&&(n.callback=e);if(n.command.selector&&n.command.collection)throw new Error(h.messages.errorFilterInvalidArguments());return n=this.callFilters("instructionParseFilterArgs",n,arguments),p.freeze(n),n},parseSortArgs:function(t){var e,n=new h.UserInstruction,i="",o=-1;for(n.animate=this.config.animation.enable,n.command=new h.CommandSort,o=0;o<t.length;o++)if(null!==(e=t[o]))switch(typeof e){case"string":i=e;break;case"object":e.length&&(n.command.collection=p.arrayFromList(e));break;case"boolean":n.animate=e;break;case"function":n.callback=e}return i&&(n.command=this.parseSortString(i,n.command)),n=this.callFilters("instructionParseSortArgs",n,arguments),p.freeze(n),n},parseInsertArgs:function(t){var e,n=new h.UserInstruction,i=-1;for(n.animate=this.config.animation.enable,n.command=new h.CommandInsert,i=0;i<t.length;i++)null!==(e=t[i])&&("number"==typeof e?n.command.index=e:"string"==typeof e&&-1<["before","after"].indexOf(e)?n.command.position=e:"string"==typeof e?n.command.collection=p.arrayFromList(p.createElement(e).childNodes):"object"==typeof e&&p.isElement(e,this.dom.document)?n.command.collection.length?n.command.sibling=e:n.command.collection=[e]:"object"==typeof e&&e.length?n.command.collection.length?n.command.sibling=e[0]:n.command.collection=e:"object"==typeof e&&e.childNodes&&e.childNodes.length?n.command.collection.length?n.command.sibling=e.childNodes[0]:n.command.collection=p.arrayFromList(e.childNodes):"object"==typeof e?p.extend(n.command,e):"boolean"==typeof e?n.animate=e:"function"==typeof e&&(n.callback=e));if(n.command.index&&n.command.sibling)throw new Error(h.messages.errorInsertInvalidArguments());return!n.command.collection.length&&this.config.debug.showWarnings&&console.warn(h.messages.warningInsertNoElements()),n=this.callFilters("instructionParseInsertArgs",n,arguments),p.freeze(n),n},parseRemoveArgs:function(t){var e,n,i=this,o=new h.UserInstruction,s=-1;for(o.animate=i.config.animation.enable,o.command=new h.CommandRemove,s=0;s<t.length;s++)if(null!==(n=t[s]))switch(typeof n){case"number":i.targets[n]&&(o.command.targets[0]=i.targets[n]);break;case"string":o.command.collection=p.arrayFromList(i.dom.parent.querySelectorAll(n));break;case"object":n&&n.length?o.command.collection=n:p.isElement(n,i.dom.document)?o.command.collection=[n]:p.extend(o.command,n);break;case"boolean":o.animate=n;break;case"function":o.callback=n}if(o.command.collection.length)for(s=0;e=i.targets[s];s++)-1<o.command.collection.indexOf(e.dom.el)&&o.command.targets.push(e);return!o.command.targets.length&&i.config.debug.showWarnings&&console.warn(h.messages.warningRemoveNoElements()),p.freeze(o),o},parseDatasetArgs:function(t){var e,n=new h.UserInstruction,i=-1;for(n.animate=this.config.animation.enable,n.command=new h.CommandDataset,i=0;i<t.length;i++)if(null!==(e=t[i]))switch(typeof e){case"object":Array.isArray(e)||"number"==typeof e.length?n.command.dataset=e:p.extend(n.command,e);break;case"boolean":n.animate=e;break;case"function":n.callback=e}return p.freeze(n),n},parseChangeLayoutArgs:function(t){var e,n=new h.UserInstruction,i=-1;for(n.animate=this.config.animation.enable,n.command=new h.CommandChangeLayout,i=0;i<t.length;i++)if(null!==(e=t[i]))switch(typeof e){case"string":n.command.containerClassName=e;break;case"object":p.extend(n.command,e);break;case"boolean":n.animate=e;break;case"function":n.callback=e}return p.freeze(n),n},queueMix:function(t){var e,n=this,i=null;return n.callActions("beforeQueueMix",arguments),i=p.defer(h.libraries),n.config.animation.queue&&n.queue.length<n.config.animation.queueLimit?(t.deferred=i,n.queue.push(t),n.config.controls.enable&&(n.isToggling?(n.buildToggleArray(t.instruction.command),e=n.getToggleSelector(),n.updateControls({filter:{selector:e}})):n.updateControls(t.instruction.command))):(n.config.debug.showWarnings&&console.warn(h.messages.warningMultimixInstanceQueueFull()),i.resolve(n.state),h.events.fire("mixBusy",n.dom.container,{state:n.state,instance:n},n.dom.document),"function"==typeof n.config.callbacks.onMixBusy&&n.config.callbacks.onMixBusy.call(n.dom.container,n.state,n)),n.callFilters("promiseQueueMix",i.promise,arguments)},getDataOperation:function(t){var e=this,n=new h.Operation,i=[],n=e.callFilters("operationUnmappedGetDataOperation",n,arguments);if(e.dom.targets.length&&!(i=e.state.activeDataset||[]).length)throw new Error(h.messages.errorDatasetNotSet());return n.id=p.randomHex(),n.startState=e.state,n.startDataset=i,n.newDataset=t.slice(),e.diffDatasets(n),n.startOrder=e.targets,n.newOrder=n.show,e.config.animation.enable&&(e.getStartMixData(n),e.setInter(n),n.docState=p.getDocumentState(e.dom.document),e.getInterMixData(n),e.setFinal(n),e.getFinalMixData(n),e.parseEffects(),n.hasEffect=e.hasEffect(),e.getTweenData(n)),e.targets=n.show.slice(),n.newState=e.buildState(n),Array.prototype.push.apply(e.targets,n.toRemove),n=e.callFilters("operationMappedGetDataOperation",n,arguments)},diffDatasets:function(t){var e=this,n=[],i=[],o=[],s=null,r=null,a=null,l=null,c=null,u={},d="",f=-1;for(e.callActions("beforeDiffDatasets",arguments),f=0;s=t.newDataset[f];f++){if(void 0===(d=s[e.config.data.uidKey])||d.toString().length<1)throw new TypeError(h.messages.errorDatasetInvalidUidKey({uidKey:e.config.data.uidKey}));if(u[d])throw new Error(h.messages.errorDatasetDuplicateUid({uid:d}));u[d]=!0,(r=e.cache[d])instanceof h.Target?(e.config.data.dirtyCheck&&!p.deepEquals(s,r.data)&&(a=r.render(s),r.data=s,a!==r.dom.el&&(r.isInDom&&(r.unbindEvents(),e.dom.parent.replaceChild(a,r.dom.el)),r.isShown||(a.style.display="none"),r.dom.el=a,r.isInDom&&r.bindEvents())),a=r.dom.el):((r=new h.Target).init(null,e,s),r.hide()),r.isInDom?(c=r.dom.el.nextElementSibling,i.push(d),l&&(l.lastElementChild&&l.appendChild(e.dom.document.createTextNode(" ")),e.insertDatasetFrag(l,r.dom.el,o),l=null)):((l=l||e.dom.document.createDocumentFragment()).lastElementChild&&l.appendChild(e.dom.document.createTextNode(" ")),l.appendChild(r.dom.el),r.isInDom=!0,r.unbindEvents(),r.bindEvents(),r.hide(),t.toShow.push(r),o.push(r)),t.show.push(r)}for(l&&((c=c||e.config.layout.siblingAfter)&&l.appendChild(e.dom.document.createTextNode(" ")),e.insertDatasetFrag(l,c,o)),f=0;s=t.startDataset[f];f++)d=s[e.config.data.uidKey],r=e.cache[d],t.show.indexOf(r)<0?(t.hide.push(r),t.toHide.push(r),t.toRemove.push(r)):n.push(d);p.isEqualArray(n,i)||(t.willSort=!0),e.callActions("afterDiffDatasets",arguments)},insertDatasetFrag:function(t,e,n){var i=e?Array.from(this.dom.parent.children).indexOf(e):this.targets.length;for(this.dom.parent.insertBefore(t,e);n.length;)this.targets.splice(i,0,n.shift()),i++},willSort:function(t,e){var n=!1,n=!!(this.config.behavior.liveSort||"random"===t.order||t.attribute!==e.attribute||t.order!==e.order||t.collection!==e.collection||null===t.next&&e.next||t.next&&null===e.next)||!(!t.next||!e.next)&&this.willSort(t.next,e.next);return this.callFilters("resultWillSort",n,arguments)},show:function(){return this.filter("all")},hide:function(){return this.filter("none")},isMixing:function(){return this.isBusy},filter:function(){var t=this.parseFilterArgs(arguments);return this.multimix({filter:t.command},t.animate,t.callback)},toggleOn:function(){var t,e=this,n=e.parseFilterArgs(arguments),i=n.command.selector;return e.isToggling=!0,e.toggleArray.indexOf(i)<0&&e.toggleArray.push(i),t=e.getToggleSelector(),e.multimix({filter:t},n.animate,n.callback)},toggleOff:function(){var t=this,e=t.parseFilterArgs(arguments),n=e.command.selector,i=t.toggleArray.indexOf(n);return t.isToggling=!0,-1<i&&t.toggleArray.splice(i,1),n=t.getToggleSelector(),t.multimix({filter:n},e.animate,e.callback)},sort:function(){var t=this.parseSortArgs(arguments);return this.multimix({sort:t.command},t.animate,t.callback)},changeLayout:function(){var t=this.parseChangeLayoutArgs(arguments);return this.multimix({changeLayout:t.command},t.animate,t.callback)},dataset:function(){var t,e,n=this,i=n.parseDatasetArgs(arguments),o=null;return n.callActions("beforeDataset",arguments),n.isBusy?((o=new h.QueueItem).args=arguments,o.instruction=i,n.queueMix(o)):(i.callback&&(n.userCallback=i.callback),e=i.animate^n.config.animation.enable?i.animate:n.config.animation.enable,t=n.getDataOperation(i.command.dataset),n.goMix(e,t))},multimix:function(){var t,e,n=this,i=null,o=n.parseMultimixArgs(arguments);return n.callActions("beforeMultimix",arguments),n.isBusy?((i=new h.QueueItem).args=arguments,i.instruction=o,i.triggerElement=n.lastClicked,i.isToggling=n.isToggling,n.queueMix(i)):(t=n.getOperation(o.command),n.config.controls.enable&&(o.command.filter&&!n.isToggling&&(n.toggleArray.length=0,n.buildToggleArray(t.command)),n.queue.length<1&&n.updateControls(t.command)),o.callback&&(n.userCallback=o.callback),e=o.animate^n.config.animation.enable?o.animate:n.config.animation.enable,n.callFilters("operationMultimix",t,arguments),n.goMix(e,t))},getOperation:function(t){var e=this,n=t.sort,i=t.filter,o=t.changeLayout,s=t.remove,r=t.insert,a=new h.Operation;return(a=e.callFilters("operationUnmappedGetOperation",a,arguments)).id=p.randomHex(),a.command=t,a.startState=e.state,a.triggerElement=e.lastClicked,e.isBusy?(e.config.debug.showWarnings&&console.warn(h.messages.warningGetOperationInstanceBusy()),null):(r&&e.insertTargets(r,a),s&&(a.toRemove=s.targets),a.startSort=a.newSort=a.startState.activeSort,a.startOrder=a.newOrder=e.targets,n&&(a.startSort=a.startState.activeSort,a.newSort=n,a.willSort=e.willSort(n,a.startState.activeSort),a.willSort&&e.sortOperation(a)),a.startFilter=a.startState.activeFilter,a.newFilter=i||p.extend(new h.CommandFilter,a.startFilter),"all"===a.newFilter.selector?a.newFilter.selector=e.config.selectors.target:"none"===a.newFilter.selector&&(a.newFilter.selector=""),e.filterOperation(a),a.startContainerClassName=a.startState.activeContainerClassName,o?(a.newContainerClassName=o.containerClassName,a.newContainerClassName!==a.startContainerClassName&&(a.willChangeLayout=!0)):a.newContainerClassName=a.startContainerClassName,e.config.animation.enable&&(e.getStartMixData(a),e.setInter(a),a.docState=p.getDocumentState(e.dom.document),e.getInterMixData(a),e.setFinal(a),e.getFinalMixData(a),e.parseEffects(),a.hasEffect=e.hasEffect(),e.getTweenData(a)),a.willSort&&(e.targets=a.newOrder),a.newState=e.buildState(a),e.callFilters("operationMappedGetOperation",a,arguments))},tween:function(t,e){var n,i=null,o=null,s=-1;for(e=Math.min(e,1),e=Math.max(e,0),s=0;i=t.show[s];s++)o=t.showPosData[s],i.applyTween(o,e);for(s=0;i=t.hide[s];s++)i.isShown&&i.hide(),-1<(n=t.toHide.indexOf(i))&&(o=t.toHidePosData[n],i.isShown||i.show(),i.applyTween(o,e))},insert:function(){var t=this.parseInsertArgs(arguments);return this.multimix({insert:t.command},t.animate,t.callback)},insertBefore:function(){var t=this.parseInsertArgs(arguments);return this.insert(t.command.collection,"before",t.command.sibling,t.animate,t.callback)},insertAfter:function(){var t=this.parseInsertArgs(arguments);return this.insert(t.command.collection,"after",t.command.sibling,t.animate,t.callback)},prepend:function(){var t=this.parseInsertArgs(arguments);return this.insert(0,t.command.collection,t.animate,t.callback)},append:function(){var t=this.parseInsertArgs(arguments);return this.insert(this.state.totalTargets,t.command.collection,t.animate,t.callback)},remove:function(){var t=this.parseRemoveArgs(arguments);return this.multimix({remove:t.command},t.animate,t.callback)},getConfig:function(t){var e=null,e=t?p.getProperty(this.config,t):this.config;return this.callFilters("valueGetConfig",e,arguments)},configure:function(t){this.callActions("beforeConfigure",arguments),p.extend(this.config,t,!0,!0),this.callActions("afterConfigure",arguments)},getState:function(){var t=new h.State;return p.extend(t,this.state),p.freeze(t),this.callFilters("stateGetState",t,arguments)},forceRefresh:function(){this.indexTargets()},forceRender:function(){var t=this,e=null,n=null,i="";for(i in t.cache)(n=(e=t.cache[i]).render(e.data))!==e.dom.el&&(e.isInDom&&(e.unbindEvents(),t.dom.parent.replaceChild(n,e.dom.el)),e.isShown||(n.style.display="none"),e.dom.el=n,e.isInDom&&e.bindEvents());t.state=t.buildState(t.lastOperation)},destroy:function(t){var e=this,n=null,i=null,o=0;for(e.callActions("beforeDestroy",arguments),o=0;n=e.controls[o];o++)n.removeBinding(e);for(o=0;i=e.targets[o];o++)t&&i.show(),i.unbindEvents();e.dom.container.id.match(/^MixItUp/)&&e.dom.container.removeAttribute("id"),delete h.instances[e.id],e.callActions("afterDestroy",arguments)}}),h.IMoveData=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.posIn=null,this.posOut=null,this.operation=null,this.callback=null,this.statusChange="",this.duration=-1,this.staggerIndex=-1,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.IMoveData),h.IMoveData.prototype=Object.create(h.Base.prototype),h.IMoveData.prototype.constructor=h.IMoveData,h.TargetDom=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.el=null,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.TargetDom),h.TargetDom.prototype=Object.create(h.Base.prototype),h.TargetDom.prototype.constructor=h.TargetDom,h.Target=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.id="",this.sortString="",this.mixer=null,this.callback=null,this.isShown=!1,this.isBound=!1,this.isExcluded=!1,this.isInDom=!1,this.handler=null,this.operation=null,this.data=null,this.dom=new h.TargetDom,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.Target),h.Target.prototype=Object.create(h.Base.prototype),p.extend(h.Target.prototype,{constructor:h.Target,init:function(t,e,n){var i=this,o="";if(i.callActions("beforeInit",arguments),i.mixer=e,t=t||i.render(n),i.cacheDom(t),i.bindEvents(),"none"!==i.dom.el.style.display&&(i.isShown=!0),n&&e.config.data.uidKey){if(void 0===(o=n[e.config.data.uidKey])||o.toString().length<1)throw new TypeError(h.messages.errorDatasetInvalidUidKey({uidKey:e.config.data.uidKey}));i.id=o,i.data=n,e.cache[o]=i}i.callActions("afterInit",arguments)},render:function(t){var e,n=null,i=null,o=null;if(this.callActions("beforeRender",arguments),"function"!=typeof(n=this.callFilters("renderRender",this.mixer.config.render.target,arguments)))throw new TypeError(h.messages.errorDatasetRendererNotSet());return(e=n(t))&&"object"==typeof e&&p.isElement(e)?i=e:"string"==typeof e&&((o=document.createElement("div")).innerHTML=e,i=o.firstElementChild),this.callFilters("elRender",i,arguments)},cacheDom:function(t){this.callActions("beforeCacheDom",arguments),this.dom.el=t,this.callActions("afterCacheDom",arguments)},getSortString:function(t){t=this.dom.el.getAttribute("data-"+t)||"";this.callActions("beforeGetSortString",arguments),t=isNaN(+t)?t.toLowerCase():+t,this.sortString=t,this.callActions("afterGetSortString",arguments)},show:function(){var t=this;t.callActions("beforeShow",arguments),t.isShown||(t.dom.el.style.display="",t.isShown=!0),t.callActions("afterShow",arguments)},hide:function(){var t=this;t.callActions("beforeHide",arguments),t.isShown&&(t.dom.el.style.display="none",t.isShown=!1),t.callActions("afterHide",arguments)},move:function(t){var e=this;e.callActions("beforeMove",arguments),e.isExcluded||e.mixer.targetsMoved++,e.applyStylesIn(t),requestAnimationFrame(function(){e.applyStylesOut(t)}),e.callActions("afterMove",arguments)},applyTween:function(t,e){var n,i,o=this,s=t.posIn,r=[],a=new h.StyleData,l=-1;for(o.callActions("beforeApplyTween",arguments),a.x=s.x,a.y=s.y,0===e?o.hide():o.isShown||o.show(),l=0;n=h.features.TWEENABLE[l];l++)i=t.tweenData[n],"x"===n?i&&(a.x=s.x+i*e):"y"===n?i&&(a.y=s.y+i*e):i instanceof h.TransformData?i.value&&(a[n].value=s[n].value+i.value*e,a[n].unit=i.unit,r.push(n+"("+a[n].value+i.unit+")")):i&&(a[n]=s[n]+i*e,o.dom.el.style[n]=a[n]);(a.x||a.y)&&r.unshift("translate("+a.x+"px, "+a.y+"px)"),r.length&&(o.dom.el.style[h.features.transformProp]=r.join(" ")),o.callActions("afterApplyTween",arguments)},applyStylesIn:function(t){var e=this,n=t.posIn,i=1!==e.mixer.effectsIn.opacity,o=[];e.callActions("beforeApplyStylesIn",arguments),o.push("translate("+n.x+"px, "+n.y+"px)"),e.mixer.config.animation.animateResizeTargets&&("show"!==t.statusChange&&(e.dom.el.style.width=n.width+"px",e.dom.el.style.height=n.height+"px"),e.dom.el.style.marginRight=n.marginRight+"px",e.dom.el.style.marginBottom=n.marginBottom+"px"),i&&(e.dom.el.style.opacity=n.opacity),"show"===t.statusChange&&(o=o.concat(e.mixer.transformIn)),e.dom.el.style[h.features.transformProp]=o.join(" "),e.callActions("afterApplyStylesIn",arguments)},applyStylesOut:function(t){var e=this,n=[],i=[],o=e.mixer.config.animation.animateResizeTargets,s=void 0!==e.mixer.effectsIn.opacity;if(e.callActions("beforeApplyStylesOut",arguments),n.push(e.writeTransitionRule(h.features.transformRule,t.staggerIndex)),"none"!==t.statusChange&&n.push(e.writeTransitionRule("opacity",t.staggerIndex,t.duration)),o&&(n.push(e.writeTransitionRule("width",t.staggerIndex,t.duration)),n.push(e.writeTransitionRule("height",t.staggerIndex,t.duration)),n.push(e.writeTransitionRule("margin",t.staggerIndex,t.duration))),!t.callback)return e.mixer.targetsImmovable++,void(e.mixer.targetsMoved===e.mixer.targetsImmovable&&e.mixer.cleanUp(t.operation));switch(e.operation=t.operation,e.callback=t.callback,e.isExcluded||e.mixer.targetsBound++,e.isBound=!0,e.applyTransition(n),o&&0<t.posOut.width&&0<t.posOut.height&&(e.dom.el.style.width=t.posOut.width+"px",e.dom.el.style.height=t.posOut.height+"px",e.dom.el.style.marginRight=t.posOut.marginRight+"px",e.dom.el.style.marginBottom=t.posOut.marginBottom+"px"),e.mixer.config.animation.nudge||"hide"!==t.statusChange||i.push("translate("+t.posOut.x+"px, "+t.posOut.y+"px)"),t.statusChange){case"hide":s&&(e.dom.el.style.opacity=e.mixer.effectsOut.opacity),i=i.concat(e.mixer.transformOut);break;case"show":s&&(e.dom.el.style.opacity=1)}(e.mixer.config.animation.nudge||!e.mixer.config.animation.nudge&&"hide"!==t.statusChange)&&i.push("translate("+t.posOut.x+"px, "+t.posOut.y+"px)"),e.dom.el.style[h.features.transformProp]=i.join(" "),e.callActions("afterApplyStylesOut",arguments)},writeTransitionRule:function(t,e,n){var i=this.getDelay(e),e="",e=t+" "+(0<n?n:this.mixer.config.animation.duration)+"ms "+i+"ms "+("opacity"===t?"linear":this.mixer.config.animation.easing);return this.callFilters("ruleWriteTransitionRule",e,arguments)},getDelay:function(t){var e,n=this;return"function"==typeof n.mixer.config.animation.staggerSequence&&(t=n.mixer.config.animation.staggerSequence.call(n,t,n.state)),e=n.mixer.staggerDuration?t*n.mixer.staggerDuration:0,n.callFilters("delayGetDelay",e,arguments)},applyTransition:function(t){t=t.join(", ");this.callActions("beforeApplyTransition",arguments),this.dom.el.style[h.features.transitionProp]=t,this.callActions("afterApplyTransition",arguments)},handleTransitionEnd:function(t){var e=this,n=t.propertyName,i=e.mixer.config.animation.animateResizeTargets;e.callActions("beforeHandleTransitionEnd",arguments),e.isBound&&t.target.matches(e.mixer.config.selectors.target)&&(-1<n.indexOf("transform")||-1<n.indexOf("opacity")||i&&-1<n.indexOf("height")||i&&-1<n.indexOf("width")||i&&-1<n.indexOf("margin"))&&(e.callback.call(e,e.operation),e.isBound=!1,e.callback=null,e.operation=null),e.callActions("afterHandleTransitionEnd",arguments)},eventBus:function(t){switch(this.callActions("beforeEventBus",arguments),t.type){case"webkitTransitionEnd":case"transitionend":this.handleTransitionEnd(t)}this.callActions("afterEventBus",arguments)},unbindEvents:function(){var t=this;t.callActions("beforeUnbindEvents",arguments),p.off(t.dom.el,"webkitTransitionEnd",t.handler),p.off(t.dom.el,"transitionend",t.handler),t.callActions("afterUnbindEvents",arguments)},bindEvents:function(){var t,e=this;e.callActions("beforeBindEvents",arguments),t="webkit"===h.features.transitionPrefix?"webkitTransitionEnd":"transitionend",e.handler=function(t){return e.eventBus(t)},p.on(e.dom.el,t,e.handler),e.callActions("afterBindEvents",arguments)},getPosData:function(t){var e,n,i=this,o=new h.StyleData;return i.callActions("beforeGetPosData",arguments),o.x=i.dom.el.offsetLeft,o.y=i.dom.el.offsetTop,(i.mixer.config.animation.animateResizeTargets||t)&&(n=i.dom.el.getBoundingClientRect(),o.top=n.top,o.right=n.right,o.bottom=n.bottom,o.left=n.left,o.width=n.width,o.height=n.height),i.mixer.config.animation.animateResizeTargets&&(e=f.getComputedStyle(i.dom.el),o.marginBottom=parseFloat(e.marginBottom),o.marginRight=parseFloat(e.marginRight)),i.callFilters("posDataGetPosData",o,arguments)},cleanUp:function(){var t=this;t.callActions("beforeCleanUp",arguments),t.dom.el.style[h.features.transformProp]="",t.dom.el.style[h.features.transitionProp]="",t.dom.el.style.opacity="",t.mixer.config.animation.animateResizeTargets&&(t.dom.el.style.width="",t.dom.el.style.height="",t.dom.el.style.marginRight="",t.dom.el.style.marginBottom=""),t.callActions("afterCleanUp",arguments)}}),h.Collection=function(t){var e,n=-1;for(this.callActions("beforeConstruct"),n=0;e=t[n];n++)this[n]=e;this.length=t.length,this.callActions("afterConstruct"),p.freeze(this)},h.BaseStatic.call(h.Collection),h.Collection.prototype=Object.create(h.Base.prototype),p.extend(h.Collection.prototype,{constructor:h.Collection,mixitup:function(t){var e=null,n=Array.prototype.slice.call(arguments),i=[],o=-1;for(this.callActions("beforeMixitup"),n.shift(),o=0;e=this[o];o++)i.push(e[t].apply(e,n));return this.callFilters("promiseMixitup",p.all(i,h.libraries),arguments)}}),h.Operation=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.id="",this.args=[],this.command=null,this.showPosData=[],this.toHidePosData=[],this.startState=null,this.newState=null,this.docState=null,this.willSort=!1,this.willChangeLayout=!1,this.hasEffect=!1,this.hasFailed=!1,this.triggerElement=null,this.show=[],this.hide=[],this.matching=[],this.toShow=[],this.toHide=[],this.toMove=[],this.toRemove=[],this.startOrder=[],this.newOrder=[],this.startSort=null,this.newSort=null,this.startFilter=null,this.newFilter=null,this.startDataset=null,this.newDataset=null,this.viewportDeltaX=0,this.viewportDeltaY=0,this.startX=0,this.startY=0,this.startHeight=0,this.startWidth=0,this.newX=0,this.newY=0,this.newHeight=0,this.newWidth=0,this.startContainerClassName="",this.startDisplay="",this.newContainerClassName="",this.newDisplay="",this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.Operation),h.Operation.prototype=Object.create(h.Base.prototype),h.Operation.prototype.constructor=h.Operation,h.State=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.id="",this.activeFilter=null,this.activeSort=null,this.activeContainerClassName="",this.container=null,this.targets=[],this.hide=[],this.show=[],this.matching=[],this.totalTargets=-1,this.totalShow=-1,this.totalHide=-1,this.totalMatching=-1,this.hasFailed=!1,this.triggerElement=null,this.activeDataset=null,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.State),h.State.prototype=Object.create(h.Base.prototype),h.State.prototype.constructor=h.State,h.UserInstruction=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.command={},this.animate=!1,this.callback=null,this.callActions("afterConstruct"),p.seal(this)},h.BaseStatic.call(h.UserInstruction),h.UserInstruction.prototype=Object.create(h.Base.prototype),h.UserInstruction.prototype.constructor=h.UserInstruction,h.Messages=function(){h.Base.call(this),this.callActions("beforeConstruct"),this.ERROR_FACTORY_INVALID_CONTAINER="[MixItUp] An invalid selector or element reference was passed to the mixitup factory function",this.ERROR_FACTORY_CONTAINER_NOT_FOUND="[MixItUp] The provided selector yielded no container element",this.ERROR_CONFIG_INVALID_ANIMATION_EFFECTS="[MixItUp] Invalid value for `animation.effects`",this.ERROR_CONFIG_INVALID_CONTROLS_SCOPE="[MixItUp] Invalid value for `controls.scope`",this.ERROR_CONFIG_INVALID_PROPERTY='[MixitUp] Invalid configuration object property "${erroneous}"${suggestion}',this.ERROR_CONFIG_INVALID_PROPERTY_SUGGESTION='. Did you mean "${probableMatch}"?',this.ERROR_CONFIG_DATA_UID_KEY_NOT_SET="[MixItUp] To use the dataset API, a UID key must be specified using `data.uidKey`",this.ERROR_DATASET_INVALID_UID_KEY='[MixItUp] The specified UID key "${uidKey}" is not present on one or more dataset items',this.ERROR_DATASET_DUPLICATE_UID='[MixItUp] The UID "${uid}" was found on two or more dataset items. UIDs must be unique.',this.ERROR_INSERT_INVALID_ARGUMENTS="[MixItUp] Please provider either an index or a sibling and position to insert, not both",this.ERROR_INSERT_PREEXISTING_ELEMENT="[MixItUp] An element to be inserted already exists in the container",this.ERROR_FILTER_INVALID_ARGUMENTS="[MixItUp] Please provide either a selector or collection `.filter()`, not both",this.ERROR_DATASET_NOT_SET="[MixItUp] To use the dataset API with pre-rendered targets, a starting dataset must be set using `load.dataset`",this.ERROR_DATASET_PRERENDERED_MISMATCH="[MixItUp] `load.dataset` does not match pre-rendered targets",this.ERROR_DATASET_RENDERER_NOT_SET="[MixItUp] To insert an element via the dataset API, a target renderer function must be provided to `render.target`",this.WARNING_FACTORY_PREEXISTING_INSTANCE="[MixItUp] WARNING: This element already has an active MixItUp instance. The provided configuration object will be ignored. If you wish to perform additional methods on this instance, please create a reference.",this.WARNING_INSERT_NO_ELEMENTS="[MixItUp] WARNING: No valid elements were passed to `.insert()`",this.WARNING_REMOVE_NO_ELEMENTS="[MixItUp] WARNING: No valid elements were passed to `.remove()`",this.WARNING_MULTIMIX_INSTANCE_QUEUE_FULL="[MixItUp] WARNING: An operation was requested but the MixItUp instance was busy. The operation was rejected because the queue is full or queuing is disabled.",this.WARNING_GET_OPERATION_INSTANCE_BUSY="[MixItUp] WARNING: Operations can be be created while the MixItUp instance is busy.",this.WARNING_NO_PROMISE_IMPLEMENTATION="[MixItUp] WARNING: No Promise implementations could be found. If you wish to use promises with MixItUp please install an ES6 Promise polyfill.",this.WARNING_INCONSISTENT_SORTING_ATTRIBUTES='[MixItUp] WARNING: The requested sorting data attribute "${attribute}" was not present on one or more target elements which may product unexpected sort output',this.callActions("afterConstruct"),this.compileTemplates(),p.seal(this)},h.BaseStatic.call(h.Messages),h.Messages.prototype=Object.create(h.Base.prototype),h.Messages.prototype.constructor=h.Messages,h.Messages.prototype.compileTemplates=function(){var t,e="";for(e in this)"string"==typeof(t=this[e])&&(this[p.camelCase(e)]=p.template(t))},h.messages=new h.Messages,h.Facade=function(t){h.Base.call(this),this.callActions("beforeConstruct",arguments),this.configure=t.configure.bind(t),this.show=t.show.bind(t),this.hide=t.hide.bind(t),this.filter=t.filter.bind(t),this.toggleOn=t.toggleOn.bind(t),this.toggleOff=t.toggleOff.bind(t),this.sort=t.sort.bind(t),this.changeLayout=t.changeLayout.bind(t),this.multimix=t.multimix.bind(t),this.dataset=t.dataset.bind(t),this.tween=t.tween.bind(t),this.insert=t.insert.bind(t),this.insertBefore=t.insertBefore.bind(t),this.insertAfter=t.insertAfter.bind(t),this.prepend=t.prepend.bind(t),this.append=t.append.bind(t),this.remove=t.remove.bind(t),this.destroy=t.destroy.bind(t),this.forceRefresh=t.forceRefresh.bind(t),this.forceRender=t.forceRender.bind(t),this.isMixing=t.isMixing.bind(t),this.getOperation=t.getOperation.bind(t),this.getConfig=t.getConfig.bind(t),this.getState=t.getState.bind(t),this.callActions("afterConstruct",arguments),p.freeze(this),p.seal(this)},h.BaseStatic.call(h.Facade),h.Facade.prototype=Object.create(h.Base.prototype),h.Facade.prototype.constructor=h.Facade,"object"==typeof exports&&"object"==typeof module?module.exports=h:"function"==typeof define&&define.amd?define(function(){return h}):void 0!==f.mixitup&&"function"==typeof f.mixitup||(f.mixitup=h),h.BaseStatic.call(h.constructor),h.NAME="mixitup",h.CORE_VERSION="3.3.0"}(window),function(t,e){"function"==typeof define&&define.amd?define("priorityNav",e(t)):"object"==typeof exports?module.exports=e(t):t.priorityNav=e(t)}(window||this,function(t){"use strict";function e(t,e,n){if("[object Object]"===Object.prototype.toString.call(t))for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(n,t[i],i,t);else for(var o=0,s=t.length;o<s;o++)e.call(n,t[o],o,t)}var s,a,l,c,u,r,d,f={},h=[],p=!!document.querySelector&&!!t.addEventListener,m={},g=0,y=0,v={initClass:"js-priorityNav",mainNavWrapper:"nav",mainNav:"ul",navDropdownClassName:"nav__dropdown",navDropdownToggleClassName:"nav__dropdown-toggle",navDropdownLabel:"more",navDropdownBreakpointLabel:"menu",breakPoint:500,throttleDelay:50,offsetPixels:0,count:!0,moved:function(){},movedBack:function(){}};function i(t,e){var n,i;t.classList?t.classList.toggle(e):(0<=(i=(n=t.className.split(" ")).indexOf(e))?n.splice(i,1):n.push(e),t.className=n.join(" "))}function n(t){var e,n;e=t,n=window.getComputedStyle(e),n=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),a=e.clientWidth-n,t.querySelector(u).parentNode===t&&t.querySelector(u).offsetWidth,l=S(t)+m.offsetPixels,e=document,n=window,t=e.compatMode&&"CSS1Compat"===e.compatMode?e.documentElement:e.body,e=t.clientWidth,t=t.clientHeight,n.innerWidth&&e>n.innerWidth&&(e=n.innerWidth,t=n.innerHeight),y=e}f.doesItFit=function(e){var i,o,s,r,t=0===e.getAttribute("instance")?t:m.throttleDelay;i=function(){var t=e.getAttribute("instance");for(n(e);a<=l&&0<e.querySelector(c).children.length||y<m.breakPoint&&0<e.querySelector(c).children.length;)f.toDropdown(e,t),n(e),y<m.breakPoint&&x(e,t,m.navDropdownBreakpointLabel);for(;a>=h[t][h[t].length-1]&&y>m.breakPoint;)f.toMenu(e,t),y>m.breakPoint&&x(e,t,m.navDropdownLabel);h[t].length<1&&(e.querySelector(u).classList.remove("show"),x(e,t,m.navDropdownLabel)),e.querySelector(c).children.length<1?(e.classList.add("is-empty"),x(e,t,m.navDropdownBreakpointLabel)):e.classList.remove("is-empty"),b(e,t)},o=t,function(){var t=this,e=arguments,n=s&&!r;clearTimeout(r),r=setTimeout(function(){r=null,s||i.apply(t,e)},o),n&&i.apply(t,e)}()};function o(t,e){t.querySelector(r).setAttribute("priorityNav-count",h[e].length)}var b=function(t,e){h[e].length<1?(t.querySelector(r).classList.add("priority-nav-is-hidden"),t.querySelector(r).classList.remove("priority-nav-is-visible"),t.classList.remove("priority-nav-has-dropdown"),document.documentElement.classList.remove("priority-nav-has-dropdown"),t.querySelector(".priority-nav__wrapper").setAttribute("aria-haspopup","false")):(t.querySelector(r).classList.add("priority-nav-is-visible"),t.querySelector(r).classList.remove("priority-nav-is-hidden"),t.classList.add("priority-nav-has-dropdown"),document.documentElement.classList.add("priority-nav-has-dropdown"),t.querySelector(".priority-nav__wrapper").setAttribute("aria-haspopup","true"))},x=function(t,e,n){t.querySelector(r).innerHTML=n};f.toDropdown=function(t,e){t.querySelector(u).firstChild&&0<t.querySelector(c).children.length?t.querySelector(u).insertBefore(t.querySelector(c).lastElementChild,t.querySelector(u).firstChild):0<t.querySelector(c).children.length&&t.querySelector(u).appendChild(t.querySelector(c).lastElementChild),h[e].push(l),b(t,e),0<t.querySelector(c).children.length&&m.count&&o(t,e),m.moved()},f.toMenu=function(t,e){0<t.querySelector(u).children.length&&t.querySelector(c).appendChild(t.querySelector(u).firstElementChild),h[e].pop(),b(t,e),0<t.querySelector(c).children.length&&m.count&&o(t,e),m.movedBack()};function w(e,n){window.attachEvent?window.attachEvent("onresize",function(){f.doesItFit&&f.doesItFit(e)}):window.addEventListener&&window.addEventListener("resize",function(){f.doesItFit&&f.doesItFit(e)},!0),e.querySelector(r).addEventListener("click",function(){i(e.querySelector(u),"show"),i(this,"is-open"),i(e,"is-open"),-1!==e.className.indexOf("is-open")?e.querySelector(u).setAttribute("aria-hidden","false"):(e.querySelector(u).setAttribute("aria-hidden","true"),e.querySelector(u).blur())}),document.addEventListener("click",function(t){!function(t,e){for(var n=e.charAt(0);t&&t!==document;t=t.parentNode)if("."===n){if(t.classList.contains(e.substr(1)))return t}else if("#"===n){if(t.id===e.substr(1))return t}else if("["===n&&t.hasAttribute(e.substr(1,e.length-2)))return t;return!1}(t.target,"."+n.navDropdownClassName)&&t.target!==e.querySelector(r)&&(e.querySelector(u).classList.remove("show"),e.querySelector(r).classList.remove("is-open"),e.classList.remove("is-open"))}),document.onkeydown=function(t){27===(t=t||window.event).keyCode&&(document.querySelector(u).classList.remove("show"),document.querySelector(r).classList.remove("is-open"),s.classList.remove("is-open"))}}var S=function(t){for(var e=t.childNodes,n=0,i=0;i<e.length;i++)3!==e[i].nodeType&&(isNaN(e[i].offsetWidth)||(n+=e[i].offsetWidth));return n};Element.prototype.remove=function(){this.parentElement.removeChild(this)},NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var t=0,e=this.length;t<e;t++)this[t]&&this[t].parentElement&&this[t].parentElement.removeChild(this[t])},f.destroy=function(){m&&(document.documentElement.classList.remove(m.initClass),d.remove(),m=null,delete f.init,delete f.doesItFit)},p&&"undefined"!=typeof Node&&(Node.prototype.insertAfter=function(t,e){this.insertBefore(t,e.nextSibling)});function C(t){return"."!==(t=t.charAt(0))&&"#"!==t}return f.init=function(t){var n,i,o;i=t||{},o={},e(n=v,function(t,e){o[e]=n[e]}),e(i,function(t,e){o[e]=i[e]}),m=o,p||"undefined"!=typeof Node?C(m.navDropdownClassName)&&C(m.navDropdownToggleClassName)?(t=document.querySelectorAll(m.mainNavWrapper),e(t,function(t){var e,n;h[g]=[],t.setAttribute("instance",g++),(s=t)?(c=m.mainNav,t.querySelector(c)?(e=t,n=m,d=document.createElement("span"),u=document.createElement("ul"),(r=document.createElement("button")).innerHTML=n.navDropdownLabel,r.setAttribute("aria-controls","menu"),r.setAttribute("type","button"),u.setAttribute("aria-hidden","true"),e.querySelector(c).parentNode===e?(e.insertAfter(d,e.querySelector(c)),d.appendChild(r),d.appendChild(u),u.classList.add(n.navDropdownClassName),u.classList.add("priority-nav__dropdown"),r.classList.add(n.navDropdownToggleClassName),r.classList.add("priority-nav__dropdown-toggle"),d.classList.add(n.navDropdownClassName+"-wrapper"),d.classList.add("priority-nav__wrapper"),e.classList.add("priority-nav")):console.warn("mainNav is not a direct child of mainNavWrapper, double check please"),u="."+m.navDropdownClassName,t.querySelector(u)?(r="."+m.navDropdownToggleClassName,t.querySelector(r)?(w(t,m),f.doesItFit(t)):console.warn("couldn't find the specified navDropdownToggle element")):console.warn("couldn't find the specified navDropdown element")):console.warn("couldn't find the specified mainNav element")):console.warn("couldn't find the specified mainNavWrapper element")}),document.documentElement.classList.add(m.initClass)):console.warn("No symbols allowed in navDropdownClassName & navDropdownToggleClassName. These are not selectors."):console.warn("This browser doesn't support priorityNav")},f});var js={};!function(a){a.expr[":"].cucontains=function(t,e,n){return 0<=a(t).text().toUpperCase().indexOf(n[3].toUpperCase())},js.model={events:{},extend:function(t){var n=a.extend({},this,t);return a.each(n.events,function(t,e){n._addEvent(t,e)}),n},_addEvent:function(t,e){var n=this,i=t,o="",s=document;0<t.indexOf(" ")&&(i=t.substr(0,t.indexOf(" ")),o=t.substr(t.indexOf(" ")+1)),"resize"!==i&&"scroll"!==i||(s=window),a(s).on(i,o,function(t){t.$el=a(this),"function"==typeof n.event&&(t=n.event(t)),n[e].apply(n,[t])})}},js.ajax=js.model.extend({jqXHR:null,_call:function(t,e,n,i){this.jqXHR&&this.jqXHR.abort(),this.jqXHR=a.ajax({url:cuBaseObject.ajaxUrl,type:"POST",dataType:"json",async:!0,data:t,beforeSend:function(){a("html").css("cursor","wait"),"function"==typeof e&&e.apply(this)}}).done(function(t){t.success&&(a("html").css("cursor",""),"function"==typeof n&&n.apply(this,[t])),t.success||(a("html").css("cursor",""),"function"==typeof i&&i.apply(this,[t]))}).fail(function(t){console.error("A Fatal Error Occured"),console.error("---------------------"),console.log(t)})}}),js.modals=js.model.extend({events:{ready:"ready"},ready:function(){a(".cu-fancybox").fancybox({caption:function(){var t=a(this).data("link"),e=a(this).data("caption");return e+' &ndash; <a href="'+t+'" class="fancybox-link-article" aria-label="View more of '+e+'"  >Click here to view full article page</a>'}})}}),js.tables=js.model.extend({events:{ready:"ready"},ready:function(){var t=a(".content table");t.length&&t.wrap('<div class="u-table-wrapper"></div>')}}),js.rotator=js.model.extend({options:{wrapAround:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}},events:{ready:"ready"},ready:function(){this.rotators(),this.banners()},rotators:function(){var t=a(".b-img-rotator");t.length&&(this.options.pageDots=!1,this.initializeFlickity(t))},banners:function(){var t=a(".in-use-carousel");"yes"===t.data("autoplay")&&(this.options.autoPlay=8e3),t.length&&this.initializeFlickity(t)},initializeFlickity:function(t){t.removeClass("is-loading"),t[0].offsetheight,t.flickity(this.options).on("staticClick.flickity",function(t,e,n){var i=a(n).data("href");a(n).hasClass("b-banner__full-click")&&(i=a(n).find(".c-bttn__link").attr("href")),n&&i.length&&(window.location=i)})}}),js.fee=js.model.extend({sidebar:null,sidebarForm:null,sidebarFlexContent:null,events:{ready:"ready","click .cu-frontend-edit":"open","click .cu-frontend-close":"close"},ready:function(){var t=this;t.sidebar=a(".cu-frontend-sidebar"),t.sidebar.length&&(t.sidebarForm=t.sidebar.find(".acf-form"),t.sidebarFlexContent=t.sidebar.find(".acf-flexible-content"),t._cleanup())},_cleanup:function(){this.sidebarForm.append('<a href="#" class="cu-frontend-close">&times;</a>'),this.sidebarFlexContent.find(".acf-fc-layout-handle, .acf-fc-layout-controlls").remove(),this.sidebarFlexContent.find(".layout:not(.acf-clone)").removeClass("-collapsed").hide()},open:function(t){t.preventDefault();var e=this,t=t.$el.data("block"),t=e.sidebarFlexContent.find('.layout:not(.acf-clone)[data-id="'+t+'"]');a("html").addClass("fancybox-enabled"),t.show(),e.sidebar.fadeIn(function(){e.sidebarForm.stop().animate({width:"70%"})}),a(document).on("keypress keydown",function(t){27===t.which&&(e.escape(e.sidebarForm,e.sidebar,e.sidebarFlexContent),a(document).off("keypress keydown"))})},close:function(t){t.preventDefault(),this.escape(this.sidebarForm,this.sidebar,this.sidebarFlexContent)},escape:function(t,e,n){t.stop().animate({width:"0"},400,function(){e.fadeOut(function(){a("html").removeClass("fancybox-enabled"),n.find(".layout:not(.acf-clone)").hide()})})}}),js.header=js.model.extend({$header:null,active:!1,show:0,y:0,opacity:!0,direction:"down",events:{ready:"ready"},ready:function(){var t=this;1024<a(window).outerWidth(!0)&&(t.$header=a(".b-nav-topbar"),t.active=!0,a(window).bind("mousewheel DOMMouseScroll",function(){t.scroll()}))},scroll:function(){var t,e,n,i,o;this.active&&(n=(e=(t=a(window).scrollTop())>=this.y?"down":"up")!==this.direction,o=i=0,clearTimeout(this.direction),n&&(0===this.opacity&&"up"==e?(this.$header.show(),this.show=t-140):1===this.opacity&&"down"==e&&(this.show=t),this.show=Math.max(0,this.show)),i=t-this.show-140,i=Math.max(0,i),i=Math.min(i,140),this.$header.css("opacity",o=(140-i)/140),0==o&&this.$header.hide(),this.y=t,this.direction=e,this.opacity=o)}}),js.imagemaps=js.model.extend({events:{ready:"ready"},ready:function(){a("img[usemap]").rwdImageMaps()}}),js.listViews=js.model.extend({events:{"keyup .b-listing__search-field-input":"filter","keydown .b-listing__search-field-input":"filter","keypress .b-listing__search-field-input":"filter","click .b-listing__tab-item":"tabs"},filter:function(t){var e=t.$el,t=e.parents(".u-block"),e=e.val();e?(t.find(".c-list-item__filter:not(:cucontains("+e+"))").parents(".u-grid-item--js").hide(),t.find(".c-list-item__filter:cucontains("+e+")").parents(".u-grid-item--js").show()):t.find(".u-grid-item--js").show(),0<t.find(".u-grid-item--js:visible").length?t.find(".failed-filter").remove():t.find(".failed-filter").length||t.find(".u-tabs-list-view").append('<p class="failed-filter">No Results!</p>')},tabs:function(t){var e=t.$el,n=e.parents(".u-block"),i=n.find(".u-grid"),o=n.find(".mixitup"),t=n.find(".b-listing");i.hasClass(e.data("tab"))||(e.parent().find(".current").removeClass("current"),e.addClass("current"),n.removeClass("u-tabs-list-views u-tabs-grid-views").addClass(e.data("tabGlobalClass")),i.removeClass("u-tabs-list-view u-tabs-grid-view").addClass(e.data("tab")),"u-tabs-list-view"===e.data("tab")?t.addClass("b-listing--small-width"):t.removeClass("b-listing--small-width"),n.find(".b-listing__search-field-input:visible").val("").focus(),n.find(".failed-filter").remove(),n.find(".u-grid-item--js").css("display","inherit"),o.length&&mixitup(o).filter("all"))}}),js.loadMore=js.model.extend({element:"",events:{"click .cu-ajax-trigger":"fetchData"},fetchData:function(t){t.preventDefault();t=this.element=t.$el,t={nonce:t.data("nonce"),action:"lstngs",object:t.data("object"),paged:Number(t.attr("data-paged"))};js.ajax._call(t,this.beforeSend(),this.done(t.paged),this.error())},beforeSend:function(){var t=this;return function(){t.element.addClass("ajax__loading")}},done:function(i){var o=this,s=o.element.parents(".b-listing"),r=s.find(".u-load-more");return function(t){var e=a(t.data.cards),n=a.makeArray(e);o.element.removeClass("ajax__loading"),o.element.attr("data-paged",i+1),o.element.next(".ajax__error").length&&o.element.next(".ajax__error").remove(),t.data.endOfLine&&(o.element.after('<p class="ajax__error">No More Posts.</p>'),o.element.fadeOut(function(){a(this).remove()})),s.hasClass("mixitup")?mixitup(s).append(n):r.append(e.fadeIn().css("display","flex"))}},error:function(){var e=this;return function(t){e.element.next(".ajax__error").length||e.element.after('<p class="ajax__error">'+t.data.errorMessage+"</p>")}}}),js.maps=js.model.extend({events:{"click .b-emd-map":"click","mouseleave .b-emd-map":"mouseleave"},click:function(t){t.$el.find("iframe").addClass("clicked")},mouseleave:function(t){t.$el.find("iframe").removeClass("clicked")}}),js.mixitup=js.model.extend({options:{animation:{duration:360,effects:"fade rotateX(-45deg) translateY(-10%)",animateResizeContainer:!1},controls:{scope:"local"}},events:{ready:"ready"},ready:function(){var t=this,e=a(".mixitup");e.length&&e.each(function(){mixitup(this,t.options)})}}),js.navigation=js.model.extend({events:{ready:"ready","click .b-nav-topbar__search":"search","click .b-nav-topbar__nav-trigger":"navTrigger","click .b-nav-topbar__mobile-trigger":"mobileTrigger",click:"closeSearch"},ready:function(){1024<=a(window).outerWidth(!0)&&this.desktop()},desktop:function(){priorityNav.init({mainNavWrapper:".b-nav-topbar__nav--desktop",mainNav:".b-nav-topbar__nav-list",navDropdownClassName:"b-nav-topbar__nav-dropdown",navDropdownToggleClassName:"b-nav-topbar__nav-dropdown-toggle",moved:function(){var t=a("."+this.navDropdownClassName+">li:first.current-menu-item"),e=a("."+this.navDropdownClassName+">li:first.current-menu-ancestor");(t.length||e.length)&&a(".more-padding-capitan").removeClass("more-padding-capitan")},movedBack:function(){var t=a(this.mainNav+">li:last.current-menu-item"),e=a(this.mainNav+">li:last.current-menu-ancestor");(t.length||e.length)&&a("body").addClass("more-padding-capitan")}})},navTrigger:function(t){t=t.$el;t.next("ul").slideToggle(250),t.toggleClass("is-active")},mobileTrigger:function(t){var t=t.$el.find(".b-nav-topbar__hamburger"),e=a(".b-nav-topbar__nav");t.hasClass("is-active")||(a("body").css("overflow","hidden"),e.stop().fadeIn(),a(".b-nav-topbar__mobile-menu-close").one("click",function(t){t.preventDefault(),a("body").css("overflow","auto"),e.stop().fadeOut()}))},search:function(t){t.preventDefault();t=t.$el.next();t.is(":visible")?t.slideUp(function(){a(this).addClass("u-hide"),a(this).attr("aria-hidden",!0)}):(t.removeClass("u-hide"),t.hide().slideDown(function(){a(this).find(".b-nav-topbar__search-input").focus(),a(this).attr("aria-hidden",!1)}))},closeSearch:function(t){a(t.target).closest(".b-nav-topbar__search").length||a(t.target).closest(".b-nav-topbar__search-form").length||a(".b-nav-topbar__search-form").is(":visible")&&a(".b-nav-topbar__search-form").slideUp(function(){a(this).addClass("u-hide"),a(this).attr("aria-hidden",!0)})}}),js.scroll=js.model.extend({events:{"click .u-scroll-to":"storiesScroll",'click a[href^="#anchor-"]':"anchorScroll",'click a[href^="#post-anchor-"]':"postAnchorScroll",'click a[href*="#AZ"]':"anchorScroll"},moveScreen:function(t,e){t.length&&a("html, body").animate({scrollTop:t.offset().top-e},500,function(){a(".b-nav-topbar").css({opacity:0,display:"none"})})},storiesScroll:function(){a("html, body").animate({scrollTop:a(".u-scroll-div").offset().top-60},1e3)},anchorScroll:function(t){t.preventDefault();t=a(t.$el.attr("href"));this.moveScreen(t,30)},postAnchorScroll:function(t){t.preventDefault();var t=(t=t.$el.attr("href")).replace(/(\post-anchor-)/g,""),t=a(t);this.moveScreen(t,30)}}),js.swiftType=js.model.extend({key:"1HPvPszbmcBfBJphasvj",customRenderFunction:function(t,e){var n=e.highlight.body||e.body.substring(0,300);return'<div class="b-search__results-item"><h3 class="b-search__results-title"><a href="'+e.url+'" class="b-search__results-link">'+e.title+'</a></h3><p class="b-search__results-desc">'+n+'</p><p class="b-search__results-meta">'+e.url+"</p></div>"},events:{ready:"ready"},ready:function(){"undefined"!=typeof swiftypeObject?this.swiftype():a(".b-nav-topbar__search-input").on("change",function(){a("#google_query").val(a(this).val())})},swiftype:function(){var t={page:{siteid:swiftypeObject.siteid}};a(".b-nav-topbar__search-input").swiftype({filters:t,engineKey:this.key,resultLimit:5,noResultsMessage:"No matches for your search parameters.",autocompleteContainingElement:".b-nav-topbar__search-form",dropdownStylesFunction:function(){return{}}}),a(".b-nav-topbar__search-form").on("submit",function(t){t.preventDefault();t=a(this).find(".b-nav-topbar__search-input").val();window.location.href=cuBaseObject.siteUrl+"/?s="+t+"#stq="+t}),a(".b-search__swifttype-input").swiftypeSearch({filters:t,renderFunction:this.customRenderFunction,engineKey:this.key,resultContainingElement:".b-search__results"})}}),js.tabs=js.model.extend({events:{"click .c-tabs__item":"tabs"},tabs:function(t){var e=t.$el,n=e.parents(".u-block"),t=e.data("tab");n.find(".c-tabs__item").attr("aria-selected","false"),n.find(".c-tabs__content").attr("aria-hidden","true"),n.find(".c-tabs__item, .c-tabs__content").removeClass("current"),e.addClass("current"),e.attr("aria-selected","true"),n.find("#"+t).attr("aria-hidden","false"),n.find("#"+t).addClass("current")}})}(jQuery);